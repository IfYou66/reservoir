(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c67d7dd"],{1157:function(e,t,n){e.exports=n.p+"static/img/head.fda3837f.png"},"34a2":function(e,t,n){e.exports=n.p+"static/img/manage-title.6e1cb4be.png"},"4a71":function(e,t,n){},d2fe:function(e,t,n){"use strict";n.r(t);var l=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-row",{staticClass:"top-div"},[l("img",{attrs:{id:"icon",src:n("81a5"),alt:""}}),l("img",{attrs:{id:"title",src:n("34a2"),alt:""}}),l("div",{attrs:{id:"menu"}},[l("div",{staticStyle:{"margin-top":"20px","margin-right":"40px"}},[l("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:n("1157"),alt:""}}),l("div",{staticStyle:{"margin-left":"-10px",color:"#385292"}},[e._v("退出登陆")])])])]),l("el-col",{attrs:{span:3,id:"left"}},[l("el-row",[l("el-col",{attrs:{id:"imgDiv",span:24}})],1),l("el-row"),l("el-row",{staticStyle:{overflow:"auto"}},[l("el-tree",{attrs:{data:e.reservoirs,"node-key":"name","default-expand-all":""},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node;t.data;return l("span",{staticClass:"custom-tree-node"},[l("span",[l("i",{staticClass:"el-icon-s-flag"}),e._v(e._s(n.label)+" ")])])}}])})],1)],1),l("el-col",{attrs:{span:21}},[l("baidu-map",{attrs:{id:"mapDiv","scroll-wheel-zoom":!0},on:{ready:e.mapReady}})],1)],1)},a=[],i=(n("fb6a"),n("d81d"),n("7db0"),n("a4d3"),n("e01a"),n("2ca0"),{name:"reservoir",data:function(){return{tdtMap:{},activeIndex:"1",markers:[],reservoirs:n("f49f").list.slice(1),defaultProps:{children:"children",label:"label"},map:void 0,point:"",BMap:void 0,previousPoint:void 0,level:12}},created:function(){},mounted:function(){window.enterRes=this.enterRes},watch:{},methods:{mapReady:function(e){var t=e.BMap,n=e.map;n.addControl(new t.OverviewMapControl),n.enableScrollWheelZoom(),n.addControl(new t.NavigationControl({type:BMAP_NAVIGATION_CONTROL_LARGE,anchor:BMAP_ANCHOR_TOP_RIGHT,offset:new t.Size(40,250)}));var l=new t.Boundary;l.get("滕州市",(function(e){var l="180, 90;",a="-180,  90;",i="-180, -90;",o="180, -90;",r=new t.Polygon(e.boundaries[0]+o+o+i+a+l+o,{strokeColor:"none",fillColor:"rgba(48,65,86,0.47)",fillOpacity:1,strokeOpacity:.5});n.addOverlay(r)})),this.point=new t.Point(117.160202,35.117438),this.map=n,this.BMap=t,this.map.centerAndZoom(this.point,this.level),this.createMarkers()},generateIcon:function(e){if(e){var t=9+e.type;return new BMap.Icon("http://api.map.baidu.com/img/markers.png",new BMap.Size(23,25),{offset:new BMap.Size(10,25),imageOffset:new BMap.Size(0,0-25*t)})}},createMarkers:function(){for(var e=this,t=function(t){var n=e.reservoirs[t],l=new BMap.Point(n.lon,n.lat),a=new BMap.Marker(l,{icon:e.generateIcon(n)});e.map.addOverlay(a);var i=new BMap.InfoWindow,o=e.generateInfoWindow(n);i.setContent(o),a.addEventListener("click",(function(){a.openInfoWindow(i)}));var r=e,s=e.generateLabel(n);a.addEventListener("onmouseover",(function(){r.previousPoint&&(r.previousPoint.setAnimation(null),r.map.removeOverlay(r.previousPoint.getLabel())),a.setLabel(s),s.addEventListener("click",(function(e){var t=r.findMarker(e.currentTarget.content);t.openInfoWindow(t.win)})),r.previousPoint=a,a.setAnimation(BMAP_ANIMATION_BOUNCE)})),a.win=i,a.reservoir=e.reservoirs[t],e.markers.push(a)},n=0;n<this.reservoirs.length;n++)t(n);var l=new BMap.InfoWindow;l.setContent(this.generateInfoWindow(this.reservoirs[1]))},generateLabel:function(e){var t=new this.BMap.Label(e.label,{offset:new this.BMap.Size(20,-20)});return t.setStyle({color:"#000b97",fontSize:"14px",width:"100px",textAlign:"center",height:"25px",backgroundColor:"rgb(235,233,229)",border:"2px solid #3344dd",fontWeight:"bold",cursor:"pointer"}),t},findReservoir:function(e){return this.reservoirs.find((function(t){return t.label===e}))},findMarker:function(e){for(var t=0;t<this.reservoirs.length;t++)if(e===this.reservoirs[t].label)return this.markers[t]},generateInfoWindow:function(e){return"<div style='margin:5px; '><div style='margin: 30px 10px 0 10px; padding-bottom: 20px'><h2 style='text-align: center'>"+e.label+"</h2><hr><div id='imgRes' style='float:left;margin:0px 10px' width='40' height='40' title='"+e.label+"'></div><div style='margin:10px 0px 10px 120px;font-size: larger'>"+(e.description?e.description:"")+"</div><input style='margin: 0 auto;  width: 180px;height: 30px; text-align: center; background: #5596de;color: #FFF;border: none;display: block;cursor: pointer;' type='button' value='进入系统'  onclick='enterRes(\""+e.label+"\")'></div></div>"},handleNodeClick:function(e){var t=new BMap.Point(e.lon,e.lat);this.map.centerAndZoom(t,this.level),this.previousPoint&&(this.previousPoint.setAnimation(null),this.map.removeOverlay(this.previousPoint.getLabel())),this.previousPoint=this.findMarker(e.label),this.previousPoint.setLabel(this.generateLabel(e)),this.previousPoint.setAnimation(BMAP_ANIMATION_BOUNCE)},enterRes:function(e){var t=this.findReservoir(e).url;t.startsWith("/")?this.$router.push({path:this.redirect||"/"}):window.location.href=t}}}),o=i,r=(n("e463"),n("2877")),s=Object(r["a"])(o,l,a,!1,null,null,null);t["default"]=s.exports},e463:function(e,t,n){"use strict";n("4a71")},f49f:function(e){e.exports=JSON.parse('{"label":"水库列表","version":"1.0.0","list":[{"label":"滕州市","lon":117.203702,"lat":35.102238,"type":0},{"label":"马河水库","lon":117.214965,"lat":35.221793,"description":"马河水库地处滕州市城区东北15千米处，龙山和谷山之间，位于东郭镇马河村西北400米，龙阳镇何岭村东北500米处。水库是一座以防洪、灌溉为主，结合发电、工业供水、养殖等综合利用的大型水库。","url":"/","type":1},{"label":"户主水库","lon":117.278561,"lat":35.230406,"description":"户主水库，滕州市户主水库位于滕州市城区东北17公里，东郭镇境内，属淮河流域，南四湖水系，城河支流乡河上游。流域面积44平方公里，干流平均坡降0.00576米/米，坝址以上干流长9公里，流域呈扇形，平均宽4.63公里。2005年6月，被国家防总确定为全国防洪重点中型水库。","url":"http://shuiku.succld.com/Reservoirs/page/special/huzhu/login.html","type":1},{"label":"户主东水库","lon":117.28811,"lat":35.227917,"description":"户主东水库，滕州市户主水库位于滕州市城区东北17公里，东郭镇境内，属淮河流域，南四湖水系，城河支流乡河上游。流域面积44平方公里，干流平均坡降0.00576米/米，坝址以上干流长9公里，流域呈扇形，平均宽4.63公里。2005年6月，被国家防总确定为全国防洪重点中型水库。","url":"http://shuiku.succld.com/Reservoirs/page/special/huzhudong/login.html","type":1},{"label":"虎山水库","lon":117.299163,"lat":35.039168,"type":1,"description":"虎山水库地处滕州市城区东北15千米处，龙山和谷山之间，位于东郭镇马河村西北400米，龙阳镇何岭村东北500米处。水库是一座以防洪、灌溉为主，结合发电、工业供水、养殖等综合利用的大型水库。","url":"http://shuiku.succld.com/Reservoirs/page/special/hushan/login.html"},{"label":"白果河水库","lon":117.2470833,"lat":35.20977778,"type":2},{"label":"北古石水库","lon":117.2334167,"lat":35.00844444,"type":2},{"label":"东高庄水库","lon":117.2318333,"lat":35.22283333,"type":2},{"label":"沈井水库","lon":117.3185,"lat":35.00272222,"type":3},{"label":"冯庄北水库","lon":117.1585556,"lat":35.22669444,"type":2},{"label":"冯庄西水库","lon":117.1566389,"lat":35.21883333,"type":2},{"label":"甘林水库","lon":117.1495,"lat":35.206,"type":2},{"label":"羊山水库","lon":117.3679722,"lat":35.02527778,"type":3},{"label":"洪村水库","lon":117.3346944,"lat":34.91913889,"type":2},{"label":"后枣北水库","lon":117.1346944,"lat":35.21972222,"type":2},{"label":"后枣水库","lon":117.1269722,"lat":35.21375,"type":2},{"label":"黄庄水库","lon":117.2995278,"lat":35.26277778,"type":2},{"label":"蒋庄水库","lon":117.2423056,"lat":35.22872222,"type":2},{"label":"李庄水库","lon":117.1550833,"lat":35.18686111,"type":2},{"label":"牛皮岭水库","lon":117.2368611,"lat":35.21322222,"type":2},{"label":"三山水库","lon":116.8800556,"lat":35.18786111,"type":2},{"label":"石湾水库","lon":117.2786667,"lat":35.28344444,"type":2},{"label":"石羊山水库","lon":117.3069167,"lat":35.24988889,"type":2},{"label":"瓦峪东水库","lon":117.2841944,"lat":35.27533333,"type":2},{"label":"西官庄上水库","lon":116.8669167,"lat":35.16427778,"type":2},{"label":"西官庄下水库","lon":116.8703056,"lat":35.16308333,"type":2},{"label":"夏庄水库","lon":117.25325,"lat":35.24866667,"type":2},{"label":"向阳水库","lon":117.1788889,"lat":35.20677778,"type":2},{"label":"卓庄水库","lon":117.2730278,"lat":35.02677778,"type":2}]}')}}]);