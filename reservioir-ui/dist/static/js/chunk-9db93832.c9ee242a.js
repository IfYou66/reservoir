(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9db93832"],{1157:function(e,t,i){e.exports=i.p+"static/img/head.fda3837f.png"},"34a2":function(e,t,i){e.exports=i.p+"static/img/manage-title.6e1cb4be.png"},"4a71":function(e,t,i){},d2fe:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-row",{staticClass:"top-div"},[n("img",{attrs:{id:"icon",src:i("81a5"),alt:""}}),n("img",{attrs:{id:"title",src:i("34a2"),alt:""}}),n("div",{attrs:{id:"menu"}},[n("div",{staticStyle:{"margin-top":"20px","margin-right":"40px"}},[n("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:i("1157"),alt:""}}),n("div",{staticStyle:{"margin-left":"-10px",color:"#385292"}},[e._v("退出登陆")])])])]),n("el-col",{attrs:{span:3,id:"left"}},[n("el-row",[n("el-col",{attrs:{id:"imgDiv",span:24}})],1),n("el-row"),n("el-row",[n("el-tree",{attrs:{data:e.reservoirs,"node-key":"id","default-expand-all":""},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node;t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",[n("i",{staticClass:"el-icon-s-flag"}),e._v(e._s(i.label)+" ")])])}}])})],1)],1),n("el-col",{attrs:{span:21}},[n("baidu-map",{attrs:{id:"mapDiv","scroll-wheel-zoom":!0},on:{ready:e.mapReady}})],1)],1)},r=[],a=(i("d81d"),i("c740"),i("7db0"),i("a4d3"),i("e01a"),i("2ca0"),{name:"reservoir",data:function(){return{tdtMap:{},activeIndex:"1",markers:[],reservoirs:[{index:0,label:"马河水库",lan:117.214965,sat:35.221793,icon:"el-icon-info",description:"马河水库地处滕州市城区东北15千米处，龙山和谷山之间，位于东郭镇马河村西北400米，龙阳镇何岭村东北500米处。水库是一座以防洪、灌溉为主，结合发电、工业供水、养殖等综合利用的大型水库。",url:"/"},{index:1,label:"户主水库",lan:117.28445,sat:35.230406,icon:"el-icon-success",description:"户主水库，滕州市户主水库位于滕州市城区东北17公里，东郭镇境内，属淮河流域，南四湖水系，城河支流乡河上游。流域面积44平方公里，干流平均坡降0.00576米/米，坝址以上干流长9公里，流域呈扇形，平均宽4.63公里。2005年6月，被国家防总确定为全国防洪重点中型水库。",url:"http://shuiku.succld.com/Reservoirs/page/special/huzhu/login.html"},{index:2,label:"户主东水库",lan:117.30845,sat:35.230406,description:"户主东水库，滕州市户主水库位于滕州市城区东北17公里，东郭镇境内，属淮河流域，南四湖水系，城河支流乡河上游。流域面积44平方公里，干流平均坡降0.00576米/米，坝址以上干流长9公里，流域呈扇形，平均宽4.63公里。2005年6月，被国家防总确定为全国防洪重点中型水库。",url:"http://shuiku.succld.com/Reservoirs/page/special/huzhudong/login.html"},{index:3,label:"虎山水库",lan:117.304163,sat:35.043168,description:"虎山水库地处滕州市城区东北15千米处，龙山和谷山之间，位于东郭镇马河村西北400米，龙阳镇何岭村东北500米处。水库是一座以防洪、灌溉为主，结合发电、工业供水、养殖等综合利用的大型水库。",url:"http://shuiku.succld.com/Reservoirs/page/special/hushan/login.html"}],defaultProps:{children:"children",label:"label"},map:void 0,point:"",BMap:void 0,previousPoint:void 0,level:12}},created:function(){},mounted:function(){window.enterRes=this.enterRes},watch:{},methods:{mapReady:function(e){var t=e.BMap,i=e.map;i.addControl(new t.OverviewMapControl),i.enableScrollWheelZoom(),i.addControl(new t.NavigationControl({type:BMAP_NAVIGATION_CONTROL_LARGE,anchor:BMAP_ANCHOR_TOP_RIGHT,offset:new t.Size(40,250)}));var n=new t.Boundary;n.get("滕州市",(function(e){var n="180, 90;",r="-180,  90;",a="-180, -90;",o="180, -90;",s=new t.Polygon(e.boundaries[0]+o+o+a+r+n+o,{strokeColor:"none",fillColor:"#304156",fillOpacity:1,strokeOpacity:.5});i.addOverlay(s)})),this.point=new t.Point(117.160202,35.117438),this.map=i,this.BMap=t,this.map.centerAndZoom(this.point,this.level),this.createMarkers()},createMarkers:function(){for(var e=this,t=function(t){var i=new BMap.Point(e.reservoirs[t].lan,e.reservoirs[t].sat),n=new BMap.Marker(i);e.map.addOverlay(n);var r=new BMap.InfoWindow,a=e.generateInfoWindow(t);r.setContent(a),n.addEventListener("click",(function(){n.openInfoWindow(r)})),n.win=r,n.index=t;var o=new e.BMap.Label(e.reservoirs[t].label,{offset:new e.BMap.Size(20,-20)});o.setStyle({color:"#0d975c",fontSize:"14px",backgroundColor:"rgb(235,233,229)",border:"2px solid #3344dd",fontWeight:"bold",cursor:"pointer"}),o.index=t,n.setLabel(o);var s=e;o.addEventListener("click",(function(e){var t=s.findIndex(e.currentTarget.content).index;s.markers[t].openInfoWindow(s.markers[t].win)})),e.markers.push(n)},i=0;i<this.reservoirs.length;i++)t(i);var n=new BMap.InfoWindow;n.setContent(this.generateInfoWindow(0))},findIndex:function(e){return this.reservoirs.find((function(t){return t.label===e}))},generateInfoWindow:function(e){return"<div style='margin:5px;'><div style='margin: 30px 10px 0 10px; padding-bottom: 20px'><h2 style='text-align: center'>"+this.reservoirs[e].label+"</h2><div id='imgRes' style='float:left;margin:0px 10px' width='40' height='40' title='马河水库'></div><div style='margin:10px 0px 10px 120px;font-size: larger'>"+this.reservoirs[e].description+"</div><input style='margin: 0 auto;  width: 180px;height: 30px; text-align: center; background: #5596de;color: #FFF;border: none;display: block;cursor: pointer;' type='button' value='进入系统'  onclick='enterRes("+e+")'></div></div>"},handleNodeClick:function(e){this.isReservoir(e)&&this.locateMarker(e.index)},locateMarker:function(e){var t=new BMap.Point(this.reservoirs[e].lan,this.reservoirs[e].sat);this.map.centerAndZoom(t,this.level),this.previousPoint&&this.previousPoint.setAnimation(null),this.previousPoint=this.markers[e],this.markers[e].setAnimation(BMAP_ANIMATION_BOUNCE)},enterRes:function(e){var t=this.reservoirs[e].url;t.startsWith("/")?this.$router.push({path:this.redirect||"/"}):window.location.href=t},isReservoir:function(e){return-1!==e.label.indexOf("水库")},findItem:function(e){if(this.isReservoir(e))for(var t=0;t<this.reservoirs.length;t++)for(var i=this.reservoirs[t].children,n=0;n<i.length;n++){var r=i[n].children;if(r)for(var a=0;a<r.length;a++){var o=r[a];if(o.label===e.label)return o}else if(i[n].label===e.label)return i[n]}}}}),o=a,s=(i("e463"),i("2877")),l=Object(s["a"])(o,n,r,!1,null,null,null);t["default"]=l.exports},e463:function(e,t,i){"use strict";i("4a71")}}]);