{"remainingRequest":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\runManagement\\maintenance\\projectManagement.vue?vue&type=style&index=0&id=14bde775&lang=scss&scoped=true&","dependencies":[{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\runManagement\\maintenance\\projectManagement.vue","mtime":1640419131572},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1711181251489},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1711181253421},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":1711181252308},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1711181250722},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1711181252689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCjo6di1kZWVwIC5lbC10cmFuc2Zlcl9fYnV0dG9uIHsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgcGFkZGluZzogMTJweDsKICBkaXNwbGF5OiBibG9jazsKICBtYXJnaW4tbGVmdDogMHB4Owp9Cjo6di1kZWVwIC5lbC10cmFuc2Zlcl9fYnV0dG9uOmZpcnN0LWNoaWxkIHsKICBtYXJnaW4tYm90dG9tOiAxMHB4Owp9Ci5lbC1zdGVwcy0tc2ltcGxlewogIHBhZGRpbmc6IDA7Cn0K"},{"version":3,"sources":["projectManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAw+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"projectManagement.vue","sourceRoot":"src/views/runManagement/maintenance","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!-- 顶部 搜索栏 -->\n        <el-form :model=\"queryParams\" ref=\"queryForm\" v-show=\"showSearch\" :inline=\"true\">\n      <el-form-item label=\"名称\" >\n        <el-input\n          v-model=\"queryParams.fPerName\"\n          placeholder=\"请输入计划名称\"\n          clearable\n          size=\"small\"\n          style=\"width: 240px\"\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n\n      <el-form-item label=\"状态\" >\n        <el-select v-model=\"queryParams.fStatus\" placeholder=\"状态\" clearable\n        size=\"small\" style=\"width: 240px\" >\n          <el-option v-for=\"item in approvalStatus\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <!-- 表格 显示 -->\n    <el-table  :data=\"data\" border>\n      <el-table-column label=\"序号\" align=\"center\" type=\"index\" width=\"120\"/>\n      <el-table-column label=\"项目计划名称\" width=\"300\" align=\"center\" prop=\"fPerName\" :show-overflow-tooltip=\"true\"/>\n      <el-table-column label=\"计划时间\" align=\"center\" prop=\"fPreparationTime\" width=\"200\"/>\n      <el-table-column label=\"项目概况\" align=\"center\" prop=\"fProContent\" show-overflow-tooltip/>\n      <el-table-column label=\"状态\" align=\"center\" prop=\"fStatus\" width=\"200\">\n        <template scope=\"scope\">\n          <span v-if=\"scope.row.fStatus == 0\" >待提交</span>\n          <span v-if=\"scope.row.fStatus == 1\" >待审核</span>\n          <span v-if=\"scope.row.fStatus == 2\" >待勘察</span>\n          <span v-if=\"scope.row.fStatus == 3\" >待招标</span>\n          <span v-if=\"scope.row.fStatus == 4\" >待实施</span>\n          <span v-if=\"scope.row.fStatus == 5\" >待验收</span>\n          <span v-if=\"scope.row.fStatus == 6\" >已验收</span>\n          <span v-if=\"scope.row.fStatus == 7\" >待修改</span>\n          <span v-if=\"scope.row.fStatus == 8\" >未通过</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" width=\"200\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" type=\"text\" @click=\"open1(scope.row)\" v-if=\"scope.row.fStatus == 6 || scope.row.fStatus == 8\">\n            详 情\n          </el-button>\n\n          <el-button size=\"mini\" type=\"text\" @click=\"open1(scope.row)\" v-if=\"scope.row.fStatus == 0\">\n            提 交\n          </el-button>\n\n          <el-button size=\"mini\" type=\"text\" @click=\"open1(scope.row)\" v-if=\"scope.row.fStatus == 1\">\n            审 核\n          </el-button>\n\n          <el-button size=\"mini\" type=\"text\" @click=\"open1(scope.row)\" v-if=\"scope.row.fStatus == 2\">\n            勘 察\n          </el-button>\n\n          <el-button size=\"mini\" type=\"text\" @click=\"open1(scope.row)\" v-if=\"scope.row.fStatus == 3\">\n            招 标\n          </el-button>\n\n          <el-button size=\"mini\" type=\"text\" @click=\"open1(scope.row)\" v-if=\"scope.row.fStatus == 4\">\n            实 施\n          </el-button>\n\n          <el-button size=\"mini\" type=\"text\" @click=\"open1(scope.row)\" v-if=\"scope.row.fStatus == 5\">\n            验 收\n          </el-button>\n\n          <el-button size=\"mini\" type=\"text\" @click=\"open1(scope.row)\" v-if=\"scope.row.fStatus == 7\">\n            修 改\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n\n  <el-dialog title=\"项目申报审批\" :visible.sync=\"editFormVisible\" width=\"1500px\" @close=\"initZi\">\n    <projectApprove  :rProReport=\"rProReport\"  :fileList=\"fileList\"\n    :fileLista=\"fileList1\" :fileListb=\"fileList2\"\n    :fileListc=\"fileList3\" :fileListd=\"fileList4\" @shut=\"close1\">\n    </projectApprove>\n    <!-- <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"editFormVisible = false\">取 消</el-button>\n\n          <el-button type=\"primary\" @click=\"addPla\" v-if=\"rProReport.fStatus == 0 \">提 交</el-button>\n\n          <el-button type=\"primary\" @click=\"modify\" v-if=\"rProReport.fStatus == 7 \">修 改</el-button>\n\n          <el-button type=\"primary\" @click=\"approve\" v-if=\"rProReport.fStatus == 1 \">提交审批</el-button>\n\n          <el-button type=\"primary\" @click=\"survey\" v-if=\"rProReport.fStatus == 2 \">提交勘察</el-button>\n\n          <el-button type=\"primary\" @click=\"bidding\" v-if=\"rProReport.fStatus == 3 \">提交招标</el-button>\n\n          <el-button type=\"primary\" @click=\"implement\" v-if=\"rProReport.fStatus == 4 \">提交实施</el-button>\n\n          <el-button type=\"primary\" @click=\"acceptance\" v-if=\"rProReport.fStatus == 5 \">提交验收</el-button>\n\n          <el-button type=\"primary\" @click=\"editFormVisible = false\" v-if=\"rProReport.fStatus == 8 || rProReport.fStatus == 6\">确 定</el-button>\n\n\n    </span> -->\n\n  </el-dialog>\n\n  <!-- 下一流程 处理人 弹窗 -->\n  <el-dialog\n    title=\"选择处理人\"\n    :visible.sync=\"nextVisible\"\n    width=\"600px\"\n    >\n    <el-radio v-model=\"radio\" :label=\"item.userId\" v-for=\"(item,index) in list\" :key=\"index\">{{item.nickName}}</el-radio>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"nextVisible = false\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"addSubmits\">确 定</el-button>\n    </span>\n  </el-dialog>\n  </div>\n</template>\n<script>\n  //获得系统用户\n  import {getUserList } from \"@/api/security/planning\"\n  //获得Token\n  import {getToken} from \"@/utils/auth\"\n  //获得文件\n  import {getFileById} from \"@/api/file\"\n  //项目申报 API\n  import {listReport, getReport, addReport, updateReport, delReport} from \"@/api/repair/rproreport\"\nimport projectApprove from './projectApprove.vue';\nexport default {\n  components: {projectApprove},\n  name: \"RightToolbar\",\n  data() {\n    return {\n      nextVisible:false,\n      list:[],\n      total:0,\n      radio:'',\n\n      fileList: [],\n      fileList1: [],\n      fileList2: [],\n      fileList3: [],\n      fileList4: [],\n      options: [{\n          value: '选项1',\n          label: '计划一'\n        }, {\n          value: '选项2',\n          label: '计划二'\n        }, {\n          value: '选项3',\n          label: '计划三'\n        }],\n        audit: [{\n          value: '选项1',\n          label: '通过'\n        }, {\n          value: '选项2',\n          label: '未通过'\n        }],\n        options1: [{\n          value: '选项1',\n          label: '汛前检查'\n        }, {\n          value: '选项2',\n          label: '年度检查'\n        }, {\n          value: '选项3',\n          label: '特别检查'\n        }],\n      // 显隐数据\n      // 弹出层标题\n      title: \"显示/隐藏\",\n      // 是否显示弹出层\n      editFormVisible: false,\n      editFormVisible1: false,\n      data: [],\n         // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        fPerName: '',\n        fStatus: '',\n      },\n      approvalStatus: [\n        { value: 0, label: '待提交' },\n        { value: 1, label: '待审核' },\n        { value: 2, label: '待勘察' },\n        { value: 3, label: '待招标' },\n        { value: 4, label: '待实施' },\n        { value: 5, label: '待验收' },\n        { value: 6, label: '已验收' },\n        { value: 7, label: '待修改' },\n        { value: 8, label: '未通过' },\n      ],\n    //对象 项目申报\n    rProReport:{\n          //id\n          fId:'',\n          //项目名称\n          fPerName:'',\n          //预算\n          fBudget:'',\n\n          //项目概况\n          fProContent:'',\n          //项目概况附件id\n          fProId:'',\n          //编制人\n          fPreparedBy:'',\n          //编制时间\n          fPreparationTime:'',\n\n          //审批意见\n          fAuditComments:'',\n          //审批结果\n          fAuditResult:'',\n          //审批人\n          fAuditPeople:'',\n          //审批时间\n          fAuditDate:'',\n\n          //勘察设计内容\n          fDesignContent:'',\n          //勘察设计附件id\n          fDesignId:'',\n          //勘察设计单位\n          fDesignUnit:'',\n          //勘察设计时间\n          fDesignTime:'',\n\n          //招投标概况内容\n          fTenderContent:'',\n          //招投标附件id\n          fTenderId:'',\n          //投标人\n          fTenderPersion:'',\n          //投标时间\n          fTenderTime:'',\n\n          //项目实施概况内容\n          fProimplContent:'',\n          //项目实施内容附件id\n          fProimplId:'',\n          //项目实施人\n          fProimplPersion:'',\n          //项目实施时间\n          fProimplTime:'',\n\n          //评价验收意见\n          fAcceptanceContent:'',\n          //验收专家名单\n          fAcceptanceList:'',\n          //评价验收附件id\n          fAcceptanceId:'',\n          //专家验收组长\n          fAcceptancePersion:'',\n          //验收时间\n          fAcceptanceTime:'',\n\n          //状态\n          fStatus:'',\n          //创建人\n          fCreatePeople:'',\n          //创建时间\n          fCreateTime:'',\n          //流程实例id\n          fActId:'',\n          //流程下一节点审核人\n          fActPersion:'',\n          //流程状态\n          fActStatus:'',\n          //流程节点\n          fActNode:'',\n    },\n    //对象 项目申报 初始化\n    rProReportInit:{\n          //id\n          fId:'',\n          //项目名称\n          fPerName:'',\n          //预算\n          fBudget:'',\n\n          //项目概况\n          fProContent:'',\n          //项目概况附件id\n          fProId:'',\n          //编制人\n          fPreparedBy:'',\n          //编制时间\n          fPreparationTime:'',\n\n          //审批意见\n          fAuditComments:'',\n          //审批结果\n          fAuditResult:'',\n          //审批人\n          fAuditPeople:'',\n          //审批时间\n          fAuditDate:'',\n\n          //勘察设计内容\n          fDesignContent:'',\n          //勘察设计附件id\n          fDesignId:'',\n          //勘察设计单位\n          fDesignUnit:'',\n          //勘察设计时间\n          fDesignTime:'',\n\n          //招投标概况内容\n          fTenderContent:'',\n          //招投标附件id\n          fTenderId:'',\n          //投标人\n          fTenderPersion:'',\n          //投标时间\n          fTenderTime:'',\n\n          //项目实施概况内容\n          fProimplContent:'',\n          //项目实施内容附件id\n          fProimplId:'',\n          //项目实施人\n          fProimplPersion:'',\n          //项目实施时间\n          fProimplTime:'',\n\n          //评价验收意见\n          fAcceptanceContent:'',\n          //验收专家名单\n          fAcceptanceList:'',\n          //评价验收附件id\n          fAcceptanceId:'',\n          //专家验收组长\n          fAcceptancePersion:'',\n          //验收时间\n          fAcceptanceTime:'',\n\n          //状态\n          fStatus:'',\n          //创建人\n          fCreatePeople:'',\n          //创建时间\n          fCreateTime:'',\n          //流程实例id\n          fActId:'',\n          //流程下一节点审核人\n          fActPersion:'',\n          //流程状态\n          fActStatus:'',\n          //流程节点\n          fActNode:'',\n    },\n    };\n  },\n  props: {\n    showSearch: {\n      type: Boolean,\n      default: true,\n    },\n    columns: {\n      type: Array,\n    },\n\n  },\n  created() {\n    // 显隐列初始默认隐藏列\n    for (let item in this.columns) {\n      if (this.columns[item].visible === false) {\n        this.value.push(parseInt(item));\n      }\n    }\n    this.personnel()\n    this.getList()\n  },\n  methods: {\n    //点击 <下一个处理人> 弹窗 => <确定> 按钮\n    addSubmits() {\n      if(this.radio == null || this.radio == '') {\n        this.$message({\n          showClose: true,\n          message: '请选择处理人',\n          type: 'error'\n        });\n        return false\n      }\n      //提交 保存\n      if(this.rProReport.fStatus == 0 || this.rProReport.fStatus == 7) {\n        this.rProReport.fStatus = 1\n        this.rProReport.fActPersion = this.radio\n        updateReport(this.rProReport).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"提交成功\")\n            this.editFormVisible = false\n            this.nextVisible = false\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.fileList3 = []\n            this.fileList4 = []\n            this.radio = ''\n          }\n        })\n      }\n      //提交 审核\n      else if(this.rProReport.fStatus == 1) {\n        this.rProReport.fStatus = 2\n        this.rProReport.fActPersion = this.radio\n        console.log('处理人  ',this.radio)\n        console.log('处理人  ',this.rProReport.fActPersion)\n        updateReport(this.rProReport).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"提交成功\")\n            this.editFormVisible = false\n            this.nextVisible = false\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.fileList3 = []\n            this.fileList4 = []\n            this.radio = ''\n          }\n        })\n      }\n      //提交 勘察\n      else if(this.rProReport.fStatus == 2) {\n        this.rProReport.fStatus = 3\n        this.rProReport.fActPersion = this.radio\n        updateReport(this.rProReport).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"提交成功\")\n            this.editFormVisible = false\n            this.nextVisible = false\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.fileList3 = []\n            this.fileList4 = []\n            this.radio = ''\n          }\n        })\n      }\n      //提交 招投标\n      else if(this.rProReport.fStatus == 3) {\n        this.rProReport.fStatus = 4\n        this.rProReport.fActPersion = this.radio\n        updateReport(this.rProReport).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"提交成功\")\n            this.editFormVisible = false\n            this.nextVisible = false\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.fileList3 = []\n            this.fileList4 = []\n            this.radio = ''\n          }\n        })\n      }\n      //提交 实施\n      else if(this.rProReport.fStatus == 4) {\n        this.rProReport.fStatus = 5\n        this.rProReport.fActPersion = this.radio\n        updateReport(this.rProReport).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"提交成功\")\n            this.editFormVisible = false\n            this.nextVisible = false\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.fileList3 = []\n            this.fileList4 = []\n            this.radio = ''\n          }\n        })\n      }\n    },\n    //获取处理人集合\n    personnel(){\n      console.log('获取处理人集合')\n      getUserList().then(response => {\n         console.log('获取处理人集合执行成功',response)\n        this.list = response.data\n      })\n    },\n\n    //获得 数据 列表\n    getList() {\n      listReport(this.queryParams).then(res => {\n        if(res.code == 200) {\n          console.log('获得 数据 列表', res.rows)\n          this.total = res.total\n          this.data = res.rows\n        }\n      })\n    },\n    open(){\n      this.editFormVisible = true;\n    },\n    open1(val){\n      if(val.fProId) {\n        getFileById({id:val.fProId}).then(result =>{\n          if (result) {\n            this.fileList = [{name:result.data.fOldFileName,url:result.data.fFilePath}];\n            console.log(\"fileList.url:\",this.fileList[0].url);\n            console.log(\"fileList.name:\",this.fileList[0].name);\n          }\n        })\n      }\n      if(val.fDesignId) {\n        getFileById({id:val.fDesignId}).then(result =>{\n          if (result) {\n            this.fileList1 = [{name:result.data.fOldFileName,url:result.data.fFilePath}];\n            console.log(\"fileList1.url:\",this.fileList[0].url);\n            console.log(\"fileList1.name:\",this.fileList[0].name);\n          }\n        })\n      }\n      if(val.fTenderId) {\n        getFileById({id:val.fTenderId}).then(result =>{\n          if (result) {\n            this.fileList2 = [{name:result.data.fOldFileName,url:result.data.fFilePath}];\n            console.log(\"fileList2.url:\",this.fileList[0].url);\n            console.log(\"fileList2.name:\",this.fileList[0].name);\n          }\n        })\n      }\n      if(val.fProimplId) {\n        getFileById({id:val.fProimplId}).then(result =>{\n          if (result) {\n            this.fileList3 = [{name:result.data.fOldFileName,url:result.data.fFilePath}];\n            console.log(\"fileList3.url:\",this.fileList[0].url);\n            console.log(\"fileList3.name:\",this.fileList[0].name);\n          }\n        })\n      }\n      if(val.fAcceptanceId) {\n        getFileById({id:val.fAcceptanceId}).then(result =>{\n          if (result) {\n            this.fileList4 = [{name:result.data.fOldFileName,url:result.data.fFilePath}];\n            console.log(\"fileList4.url:\",this.fileList[0].url);\n            console.log(\"fileList4.name:\",this.fileList[0].name);\n          }\n        })\n      }\n      this.rProReport = val\n      this.editFormVisible = true;\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    initZi() {\n      this.handleQuery()\n      this.fileList = []\n      this.fileList1 = []\n      this.fileList2 = []\n      this.fileList3 = []\n      this.fileList4 = []\n    },\n\n    /** 重置按钮操作 */\n    resetQuery() {\n      //this.dateRange = [];\n      this.queryParams.fStatus = ''\n      this.queryParams.fPerName = ''\n      this.handleQuery();\n    },\n    addPla() {\n      console.log('提 交')\n      //是否填写 项目名称\n      if(this.rProReport.fPerName == null || this.rProReport.fPerName == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写项目名称',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 预算\n      if(this.rProReport.fBudget == null || this.rProReport.fBudget == '') {\n        this.$message({\n          showClose: true,\n          message: '请选择计划预算',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 项目概况\n      if(this.rProReport.fProContent == null || this.rProReport.fProContent == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写项目概况',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 编制人\n      if(this.rProReport.fPreparedBy == null || this.rProReport.fPreparedBy == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写编制人',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 编制时间\n      if(this.rProReport.fPreparationTime == null || this.rProReport.fPreparationTime == '') {\n        this.$message({\n          showClose: true,\n          message: '请选择编制时间',\n          type: 'error'\n        });\n        return false\n      }\n        this.rProReport.fStatus = 1\n        updateReport(this.rProReport).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"提交成功\")\n            this.editFormVisible = false\n            this.nextVisible = false\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.fileList3 = []\n            this.fileList4 = []\n            this.radio = ''\n          }\n        })\n    },\n    modify() {\n      console.log('修 改')\n      //是否填写 项目名称\n      if(this.rProReport.fPerName == null || this.rProReport.fPerName == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写项目名称',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 预算\n      if(this.rProReport.fBudget == null || this.rProReport.fBudget == '') {\n        this.$message({\n          showClose: true,\n          message: '请选择计划预算',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 项目概况\n      if(this.rProReport.fProContent == null || this.rProReport.fProContent == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写项目概况',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 编制人\n      if(this.rProReport.fPreparedBy == null || this.rProReport.fPreparedBy == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写编制人',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 编制时间\n      if(this.rProReport.fPreparationTime == null || this.rProReport.fPreparationTime == '') {\n        this.$message({\n          showClose: true,\n          message: '请选择编制时间',\n          type: 'error'\n        });\n        return false\n      }\n      this.rProReport.fStatus = 1\n      updateReport(this.rProReport).then(res => {\n        if(res.code == 200) {\n          this.msgSuccess(\"提交成功\")\n          this.editFormVisible = false\n          this.nextVisible = false\n          this.fileList = []\n          this.fileList1 = []\n          this.fileList2 = []\n          this.fileList3 = []\n          this.fileList4 = []\n          this.radio = ''\n        }\n      })\n    },\n    approve() {\n      console.log('提交审批')\n\n      //是否填写 审核意见\n      if(this.rProReport.fAuditComments == null || this.rProReport.fAuditComments == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写审批意见',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 审核结果\n      if(this.rProReport.fAuditResult == null || this.rProReport.fAuditResult == '') {\n        this.$message({\n          showClose: true,\n          message: '请选择审批结果',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 审核人\n      if(this.rProReport.fAuditPeople == null || this.rProReport.fAuditPeople == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写审批人',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 审批时间\n      if(this.rProReport.fAuditDate == null || this.rProReport.fAuditDate == '') {\n        this.$message({\n          showClose: true,\n          message: '请选择审批时间',\n          type: 'error'\n        });\n        return false\n      }\n      //审核结果 => 通过\n      if(this.rProReport.fAuditResult == 1) {\n        this.rProReport.fStatus = 2\n        console.log('处理人  ',this.radio)\n        console.log('处理人  ',this.rProReport.fActPersion)\n        updateReport(this.rProReport).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"提交成功\")\n            this.editFormVisible = false\n            this.nextVisible = false\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.fileList3 = []\n            this.fileList4 = []\n            this.radio = ''\n          }\n        })\n      }\n      //审核结果 => 不通过\n      else if(this.rProReport.fAuditResult == 2) {\n        this.rProReport.fStatus = 8\n        updateReport(this.rProReport).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"提交成功\")\n            this.editFormVisible = false\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.fileList3 = []\n            this.fileList4 = []\n          }\n        })\n      }\n      //审核结果 => 驳回\n      else if(this.rProReport.fAuditResult == 3) {\n        this.rProReport.fStatus = 7\n        updateReport(this.rProReport).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"提交成功\")\n            this.editFormVisible = false\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.fileList3 = []\n            this.fileList4 = []\n          }\n        })\n      }\n\n    },\n    survey() {\n      console.log('提交勘察')\n      //是否填写 勘察设计内容\n      if(this.rProReport.fDesignContent == null || this.rProReport.fDesignContent == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写勘察设计内容',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 勘察设计单位\n      if(this.rProReport.fDesignUnit == null || this.rProReport.fDesignUnit == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写勘察设计单位',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 勘察设计时间\n      if(this.rProReport.fDesignTime == null || this.rProReport.fDesignTime == '') {\n        this.$message({\n          showClose: true,\n          message: '请选择勘察设计时间',\n          type: 'error'\n        });\n        return false\n      }\n        this.rProReport.fStatus = 3\n        updateReport(this.rProReport).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"提交成功\")\n            this.editFormVisible = false\n            this.nextVisible = false\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.fileList3 = []\n            this.fileList4 = []\n            this.radio = ''\n          }\n        })\n    },\n    bidding() {\n      console.log('提交招标')\n      //是否填写 招投标概况内容\n      if(this.rProReport.fTenderContent == null || this.rProReport.fTenderContent == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写招投标概况内容',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 投标人\n      if(this.rProReport.fTenderPersion == null || this.rProReport.fTenderPersion == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写投标人',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 投标时间\n      if(this.rProReport.fTenderTime == null || this.rProReport.fTenderTime == '') {\n        this.$message({\n          showClose: true,\n          message: '请选择投标时间',\n          type: 'error'\n        });\n        return false\n      }\n      console.log(\"========= 提交招标 =========\",this.rProReport)\n      this.rProReport.fStatus = 4\n      updateReport(this.rProReport).then(res => {\n        if(res.code == 200) {\n          this.msgSuccess(\"提交成功\")\n          this.editFormVisible = false\n          this.nextVisible = false\n          this.fileList = []\n          this.fileList1 = []\n          this.fileList2 = []\n          this.fileList3 = []\n          this.fileList4 = []\n          this.radio = ''\n        }\n      })\n    },\n    implement() {\n      console.log('提交实施')\n      //是否填写 项目实施概况内容\n      if(this.rProReport.fProimplContent == null || this.rProReport.fProimplContent == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写项目实施概况内容',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 项目实施人\n      if(this.rProReport.fProimplPersion == null || this.rProReport.fProimplPersion == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写项目实施人',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 项目实施时间\n      if(this.rProReport.fProimplTime == null || this.rProReport.fProimplTime == '') {\n        this.$message({\n          showClose: true,\n          message: '请选择项目实施时间',\n          type: 'error'\n        });\n        return false\n      }\n        this.rProReport.fStatus = 5\n        updateReport(this.rProReport).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"提交成功\")\n            this.editFormVisible = false\n            this.nextVisible = false\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.fileList3 = []\n            this.fileList4 = []\n            this.radio = ''\n          }\n        })\n    },\n    acceptance() {\n      console.log('提交验收')\n      //是否填写 评价验收意见\n      if(this.rProReport.fAcceptanceContent == null || this.rProReport.fAcceptanceContent == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写评价验收意见',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 验收专家名单\n      if(this.rProReport.fAcceptanceList == null || this.rProReport.fAcceptanceList == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写验收专家名单',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 专家验收组长\n      if(this.rProReport.fAcceptancePersion == null || this.rProReport.fAcceptancePersion == '') {\n        this.$message({\n          showClose: true,\n          message: '请填写专家验收组长',\n          type: 'error'\n        });\n        return false\n      }\n      //是否填写 验收时间\n      if(this.rProReport.fAcceptanceTime == null || this.rProReport.fAcceptanceTime == '') {\n        this.$message({\n          showClose: true,\n          message: '请选择验收时间',\n          type: 'error'\n        });\n        return false\n      }\n      this.rProReport.fStatus = 6\n      updateReport(this.rProReport).then(res => {\n        if(res.code == 200) {\n          this.msgSuccess(\"提交成功\")\n          this.editFormVisible = false\n          this.fileList = []\n          this.fileList1 = []\n          this.fileList2 = []\n          this.fileList3 = []\n          this.fileList4 = []\n        }\n      })\n\n    },\r\n    // 关闭弹窗——实施\r\n    close1(data) {\r\n        this.editFormVisible = false\r\n    }\n\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .el-transfer__button {\n  border-radius: 50%;\n  padding: 12px;\n  display: block;\n  margin-left: 0px;\n}\n::v-deep .el-transfer__button:first-child {\n  margin-bottom: 10px;\n}\n.el-steps--simple{\n  padding: 0;\n}\n</style>\n"]}]}