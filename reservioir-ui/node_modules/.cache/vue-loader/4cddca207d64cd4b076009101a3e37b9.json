{"remainingRequest":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\collection\\safe\\gate\\gateDeclination.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\collection\\safe\\gate\\gateDeclination.vue","mtime":1640571458995},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1711181252330},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1711181252689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgcmVjb3JkIGZyb20gJ0Avdmlld3MvY29sbGVjdGlvbi9jb21tb24vcmVjb3JkJwppbXBvcnQgenJlbmRlciBmcm9tICd6cmVuZGVyJwppbXBvcnQgSW1hZ2VTaGFwZSBmcm9tICd6cmVuZGVyL3NyYy9ncmFwaGljL0ltYWdlJzsKaW1wb3J0IFBvbHlnb25TaGFwZSBmcm9tICd6cmVuZGVyL3NyYy9ncmFwaGljL3NoYXBlL1BvbHlnb24nOwppbXBvcnQgVGV4dCBmcm9tICd6cmVuZGVyL3NyYy9ncmFwaGljL1RleHQnOwppbXBvcnQgQ2lyY2xlIGZyb20gJ3pyZW5kZXIvc3JjL2dyYXBoaWMvc2hhcGUvQ2lyY2xlJzsKaW1wb3J0IExpbmVhckdyYWRpZW50IGZyb20gJ3pyZW5kZXIvc3JjL2dyYXBoaWMvTGluZWFyR3JhZGllbnQnOwppbXBvcnQgU2hhcGVMaW5lIGZyb20gInpyZW5kZXIvc3JjL2dyYXBoaWMvc2hhcGUvUG9seWxpbmUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyZWFsdGltZSIsCiAgY29tcG9uZW50czoge3JlY29yZH0sCiAgZGF0YSgpIHsKICAgIGxldCBwYXJhcyA9IHRoaXMub3BlcmF0b3IuZ2V0QXR0ckFycmF5KHRoaXMuY29tbW9uLmdldERhdGEoJ2dhdGVEZWNsaW5hdGlvbicpLCAnbmFtZScpOwogICAgcmV0dXJuIHsKICAgICAgdHJhbnNmb3JtOiB0aGlzLnJlc2Vydm9pci5nZXRHYXRlKCkuZ2V0RGVjbGluYXRpb25TYWZlKCksCiAgICAgIHBhcmFzOiBwYXJhcywKICAgICAgcGFyYUluZGV4OiAxLAogICAgICBzZW5zb3I6IG51bGwsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBuZXdlc3RUaW1lOiAnMjAxNi0wOC0wMSAxMDowMDowMCcsCgogICAgICB6cjogbnVsbCwKICAgICAgaW1hZ2VzOiBbXSwKICAgICAgc2hhcGVHczogW10sCiAgICAgIHNoYXBlczogW10sCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3QocGFyYUluZGV4KSB7CiAgICAgIHRoaXMucGFyYUluZGV4ID0gcGFyYUluZGV4OwogICAgICB0aGlzLnVwZGF0ZVNlbnNvcnMoKTsKICAgIH0sCiAgICBzaG93UmVjb3JkKHNlbikgewogICAgICB0aGlzLnNlbnNvciA9IHNlbjsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDnm5HlkKwg5a2Q57uE5Lu25by556qX5YWz6Zet5ZCO6Kem5Y+R77yM5pyJ5a2Q57uE5Lu26LCD55SoCiAgICBzaG93SGlzdG9yeShkYXRhKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGRhdGEgIT09ICdmYWxzZSc7CiAgICB9LAogICAgLyoqCiAgICAgKiDliJvlu7rlpJrovrnlvaIKICAgICAqIEBwYXJhbSBwb2ludHMg5aSa5Liq54K5CiAgICAgKiBAcGFyYW0gb3JkZXIKICAgICAqIEByZXR1cm5zIHtQb2x5Z29uU2hhcGV9CiAgICAgKi8KICAgIGNyZWF0ZVNoYXBlUG9seWdvbihzZW5zb3IpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFBvbHlnb25TaGFwZSh7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIGZpbGw6ICdyZ2JhKDIwLCAyMDAsIDIwMCwgMC42KScsCiAgICAgICAgICBsaW5lV2lkdGg6IDIKICAgICAgICB9LAogICAgICAgIGRyYWdnYWJsZTogZmFsc2UsCiAgICAgICAgc2hhcGU6IHsKICAgICAgICAgIHBvaW50czogdGhpcy5vcGVyYXRvci5jcmVhdGVCYWNrZ3JvdW5kUmVjdChzZW5zb3IucG9zWzBdLCBzZW5zb3IucG9zWzFdLCAxMDAsIDUwKSwKICAgICAgICB9LAogICAgICAgIHN0YXRlczogewogICAgICAgICAgbm9ybWFsOiB7CiAgICAgICAgICAgIHRyYW5zaXRpb246ICcqIDUwMCAwIExpbmVhcicKICAgICAgICAgIH0sCiAgICAgICAgICBob3ZlcjogewogICAgICAgICAgICBzaGFwZTogewogICAgICAgICAgICAgIHBvaW50czogW1swLCAwXSwgWzEwMDAsIDBdLCBbMTAwMCwgNjAwXSwgWzAsIDYwMF1dCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIOWbvuW9ouWFg+e0oOS4iue7keWumuS6i+S7tgogICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHRoYXQubGluZVNob3coc2Vuc29yKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8qKgogICAgICog5Yib5bu65LiA5Liq5ZyG5b2iCiAgICAgKiBAcGFyYW0gY29sb3Ig6aKc6ImyCiAgICAgKiBAcGFyYW0gcmFkaXVzIOWNiuW+hAogICAgICogQHBhcmFtIG9yZGVyIOasoeW6jwogICAgICogQHJldHVybnMge0NpcmNsZX0KICAgICAqLwogICAgY3JlYXRlQ2lyY2xlU2hhcGUoY29sb3IsIHJhZGl1cywgb3JkZXIpIHsKICAgICAgbGV0IHBvc2l0aW9uID0gdGhpcy5maW5kU2Vuc29yKG9yZGVyKS5wb3M7CiAgICAgIGxldCB4ID0gcG9zaXRpb25bMF0gKyAxMDsKICAgICAgbGV0IHkgPSBwb3NpdGlvblsxXSArIDMwOwoKICAgICAgbGV0IGdyYWRpZW50ID0gbmV3IExpbmVhckdyYWRpZW50KCk7CiAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCBjb2xvcik7CiAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCBjb2xvcik7CiAgICAgIGxldCBzaGFwZSA9IG5ldyBDaXJjbGUoewogICAgICAgIHBvc2l0aW9uOiBbeCwgeV0sCiAgICAgICAgc2NhbGU6IFsxLCAxXSwKICAgICAgICBzaGFwZTogewogICAgICAgICAgY3g6IDAsCiAgICAgICAgICBjeTogMCwKICAgICAgICAgIHI6IDcKICAgICAgICB9LAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBmaWxsOiBncmFkaWVudCwKICAgICAgICAgIGxpbmVXaWR0aDogNQogICAgICAgIH0KICAgICAgfSk7CgogICAgICBzaGFwZS5hbmltYXRlU2hhcGUodHJ1ZSkud2hlbigxMDAwLCB7cjogcmFkaXVzfSkuc3RhcnQoKTsKICAgICAgcmV0dXJuIHNoYXBlOwogICAgfSwKICAgIC8qKgogICAgICog5Yib5bu65Zu+5YOP5paH5pys5YaF5a65CiAgICAgKiBAcGFyYW0gdGV4dCDmlofmnKzlhoXlrrkKICAgICAqIEBwYXJhbSBvcmRlciDmrKHluo8KICAgICAqIEByZXR1cm5zIHt6cmVuZGVyL2dyYXBoaWMvVGV4dHxUZXh0fFRleHR9CiAgICAgKi8KICAgIGNyZWF0ZVNoYXBlVGV4dCh0ZXh0LCBvcmRlcikgewogICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgIGxldCBwb3NpdGlvbiA9IHRoaXMuZmluZFNlbnNvcihvcmRlcikucG9zOwogICAgICBsZXQgeCA9IHBvc2l0aW9uWzBdICsgMjU7CiAgICAgIGxldCB5ID0gcG9zaXRpb25bMV0gKyA1OwoKICAgICAgcmV0dXJuIG5ldyBUZXh0KHsKICAgICAgICBzdHlsZTogewogICAgICAgICAgdGV4dDogdGV4dCwKICAgICAgICAgIHg6IHgsCiAgICAgICAgICB5OiB5LAogICAgICAgICAgdGV4dEZvbnQ6ICdib2xkIDE2cHggQXJpYWwnLAogICAgICAgICAgY29sb3I6ICcjZmZmMDAwJywKICAgICAgICAgIHN0cm9rZUNvbG9yOiAnIzBmZjAwMCcKICAgICAgICB9LAogICAgICAgIGRyYWdnYWJsZTogZmFsc2UsCiAgICAgICAgb25jbGljazogZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhhdC5saW5lU2hvdyh0aGF0LmZpbmRTZW5zb3Iob3JkZXIpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIOWIm+W7uuWbvueJh+W9oueKtgogICAgICogQHBhcmFtIGltYWdlTmFtZSDlm77niYflkI3np7AKICAgICAqIEBwYXJhbSBwb3NYIOaoquWdkOaghwogICAgICogQHBhcmFtIHBvc1kg57q15Z2Q5qCHCiAgICAgKiBAcGFyYW0gd2lkdGgg5a695bqmCiAgICAgKiBAcGFyYW0gaGVpZ2h0IOmrmOW6pgogICAgICogQHBhcmFtIHRleHQg5paH5pysCiAgICAgKiBAcGFyYW0gb3JkZXIg5qyh5bqPCiAgICAgKiBAcmV0dXJucyB7SW1hZ2VTaGFwZX0KICAgICAqLwogICAgY3JlYXRlSW1hZ2VTaGFwZShpbWFnZU5hbWUsIHBvc1gsIHBvc1ksIHdpZHRoLCBoZWlnaHQsIHRleHQsIG9yZGVyKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgbGV0IHBvc2l0aW9uID0gdGhpcy5maW5kU2Vuc29yKG9yZGVyKS5wb3M7CiAgICAgIGxldCB4ID0gcG9zaXRpb25bMF07CiAgICAgIGxldCB5ID0gcG9zaXRpb25bMV0gKyAyMDsKICAgICAgcmV0dXJuIG5ldyBJbWFnZVNoYXBlKHsKICAgICAgICBwb3NpdGlvbjogW3gsIHldLAogICAgICAgIHNjYWxlOiBbMSwgMV0sCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHg6IDAsCiAgICAgICAgICB5OiAwLAogICAgICAgICAgaW1hZ2U6IHJlcXVpcmUoYEAvYXNzZXRzL2ltYWdlcy9jb21tb24vYCArIGltYWdlTmFtZSksCiAgICAgICAgICB3aWR0aDogMjAsCiAgICAgICAgICBoZWlnaHQ6IDIwLAogICAgICAgICAgc3g6IHBvc1gsCiAgICAgICAgICBzeTogcG9zWSwKICAgICAgICAgIHNXaWR0aDogd2lkdGgsCiAgICAgICAgICBzSGVpZ2h0OiBoZWlnaHQsCiAgICAgICAgICB0ZXh0OiB0ZXh0LAogICAgICAgICAgaG92ZXJhYmxlOiB0cnVlLAogICAgICAgICAgdGV4dEFsaWduOiAnc3RhcnQnLAogICAgICAgICAgdGV4dFBvc2l0aW9uOiAncmlnaHQnLAogICAgICAgICAgdGV4dEZvbnQ6ICdib2xkIDE2cHggQXJpYWwnCiAgICAgICAgfSwKICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLAogICAgICAgIC8vIOWbvuW9ouWFg+e0oOS4iue7keWumuS6i+S7tgogICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHRoYXQubGluZVNob3codGhhdC5maW5kU2Vuc29yKG9yZGVyKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDliJvlu7rlvaLnirbnur/mnaEKICAgICAqIEBwYXJhbSBvcmRlciDmrKHluo8KICAgICAqIEByZXR1cm5zIHtTaGFwZUxpbmV9CiAgICAgKi8KICAgIGNyZWF0ZVNoYXBlTGluZShvcmRlcikgewogICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgIHJldHVybiBuZXcgU2hhcGVMaW5lKHsKICAgICAgICBwb3NpdGlvbjogdGhpcy5maW5kU2Vuc29yKG9yZGVyKS5wb3MsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHN0cm9rZTogInJnYmEoMCwgMCwgMjAwLCAwLjgpIiwKICAgICAgICAgIGxpbmVXaWR0aDogMgogICAgICAgIH0sCiAgICAgICAgc2hhcGU6IHsKICAgICAgICAgIHBvaW50czogW1sxMCwgMF0sIFsxMCwgMjBdLCBbMTAsIDEwXSwgWzAsIDEwXSwgWzIwLCAxMF1dCiAgICAgICAgfSwKICAgICAgICAvLyDlm77lvaLlhYPntKDkuIrnu5Hlrprkuovku7YKICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0aGF0LmxpbmVTaG93KHRoYXQuZmluZFNlbnNvcihvcmRlcikpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqCiAgICAgKiDmmL7npLrljoblj7LmlbDmja4KICAgICAqICovCiAgICBsaW5lU2hvdyhzZW5zb3IpIHsKICAgICAgaWYgKHNlbnNvciAmJiAhc2Vuc29yLmludmFsaWQpIHsKICAgICAgICBpZiAoc2Vuc29yLm5hbWUgPT09ICfmsonpmY0nICYmIHNlbnNvci50eXBlID09PSAwKSB7ICAgLy/lpITnkIbmsonpmY3kuK3nmoTln7rlh4bngrnvvIzorqnlroPkuI3mmL7npLrmm7Lnur8KICAgICAgICAgIHNlbnNvci51cmwgPSAnJzsKICAgICAgICB9CiAgICAgICAgdGhpcy5zaG93UmVjb3JkKHNlbnNvcik7CiAgICAgIH0KICAgIH0sCiAgICBzZXREYXRhKHNlbnNvcikgewogICAgICBsZXQgcG9zWCA9IDA7CiAgICAgIGxldCBwb3NZID0gMDsKICAgICAgbGV0IGltZzsKICAgICAgbGV0IHR4dFRlbTsKICAgICAgbGV0IHNoYXBlSW5mbzsKICAgICAgbGV0IHNlbnNvcnMgPSB0aGlzLmNvbW1vbi5nZXREYXRhKCdnYXRlRGVjbGluYXRpb24nKTsKICAgICAgaWYgKHNlbnNvci5uYW1lID09PSAn55S15Y6LJykgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v55S15Y6L5rKh5pyJ5q2j6LSf77yM5Y2V54us5aSE55CGCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZW5zb3JzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAoc2Vuc29yLmlkID09PSBzZW5zb3JzW2ldLmlkKSB7CiAgICAgICAgICAgIGltZyA9ICdob3Jpem9udGFsLnBuZyc7CiAgICAgICAgICAgIHRoaXMuenIucmVtb3ZlKHRoaXMuc2hhcGVHc1tpXSk7CiAgICAgICAgICAgIHRoaXMuenIuYWRkKHRoaXMuc2hhcGVzW2ldKTsKICAgICAgICAgICAgdGhpcy56ci5yZW1vdmUodGhpcy5pbWFnZXNbaV0pOwogICAgICAgICAgICB0eHRUZW0gPSBzZW5zb3IubmFtZSArICI6IiArICh2YWx1ZSkudG9GaXhlZCgxKSArIHNlbnNvci51bml0OwogICAgICAgICAgICB0aGlzLmltYWdlc1tpXSA9IHRoaXMuY3JlYXRlSW1hZ2VTaGFwZShpbWcsIHBvc1gsCiAgICAgICAgICAgICAgcG9zWSwgMTAwLCAxMDAsIHR4dFRlbSwgaSk7CiAgICAgICAgICAgIHRoaXMuenIuYWRkKHRoaXMuaW1hZ2VzW2ldKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoc2Vuc29yLm5hbWUgPT09ICfmtrLpnaInKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAvL+a2sumdoui3neemuwogICAgICAgIHNoYXBlSW5mbyA9IHRoaXMuc2V0VmFsdWUoMTUwLCAwLCAzMjAsIDI2MCwgc2Vuc29yKTsKICAgICAgICB0aGlzLnN3aXRjaEltYWdlKHNoYXBlSW5mbywgc2Vuc29yKTsKICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+ayiemZjeS9jeenu+eahOWkhOeQhgogICAgICAgIHNoYXBlSW5mbyA9IHRoaXMuc2V0VmFsdWUoMzEwLCAxMzUsIDE0MCwgMjcwLCBzZW5zb3IpOwogICAgICAgIHRoaXMuc3dpdGNoSW1hZ2Uoc2hhcGVJbmZvLCBzZW5zb3IpOwogICAgICB9CiAgICB9LAogICAgLyoqCiAgICAgKiDmiJDlip/ojrflj5bmlbDmja7lkI7nmoTlpITnkIblh73mlbAKICAgICAqLwogICAgdXBkYXRlU2Vuc29ycygpIHsKICAgICAgbGV0IHNlbnMgPSB0aGlzLmNvbW1vbi5nZXREYXRhKCdnYXRlRGVjbGluYXRpb24nKTsKICAgICAgbGV0IG5ld2VzdFRpbWUgPSBzZW5zWzBdLnRpbWU7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2Vucy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChzZW5zW2ldLnRpbWUgPiBuZXdlc3RUaW1lKSB7CiAgICAgICAgICBuZXdlc3RUaW1lID0gc2Vuc1tpXS50aW1lOwogICAgICAgIH0KICAgICAgICBsZXQgc2Vuc29ySUQgPSBzZW5zW2ldLmlkOwogICAgICAgIGxldCBzZW5zb3IgPSB0aGlzLm9wZXJhdG9yLmZpbmRBcnJheUl0ZW1CeUF0dHJWYWx1ZShzZW5zLCAnaWQnLCBzZW5zb3JJRCk7CgogICAgICAgIGlmIChzZW5zb3IgJiYgdGhpcy5wYXJhc1t0aGlzLnBhcmFJbmRleF0gPT09IHNlbnNvci5uYW1lKSB7CiAgICAgICAgICB0aGlzLnNldERhdGEoc2Vuc29yKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5uZXdlc3RUaW1lID0gbmV3IERhdGUobmV3ZXN0VGltZSkuZm9ybWF0KCJ5eXl5LU1NLWRkIGhoOm1tOnNzIik7CiAgICB9LAogICAgLyoqCiAgICAgKiDorr7nva7mlbDmja4KICAgICAqIEBwYXJhbSBwb3NYMQogICAgICogQHBhcmFtIHBvc1kxCiAgICAgKiBAcGFyYW0gcG9zWDIKICAgICAqIEBwYXJhbSBwb3NZMgogICAgICogQHBhcmFtIHNlbnNvciDkvKDmhJ/lmajmlbDmja4KICAgICAqICovCiAgICBzZXRWYWx1ZShwb3NYMSwgcG9zWTEsIHBvc1gyLCBwb3NZMiwgc2Vuc29yKSB7CiAgICAgIGxldCBwb3NYLCBwb3NZLCBpbWcsIHR4dFRlbTsKICAgICAgaWYgKHNlbnNvci52YWx1ZSA+IDApIHsKICAgICAgICBwb3NYID0gcG9zWDE7CiAgICAgICAgcG9zWSA9IHBvc1kxOwogICAgICAgIGltZyA9ICdvcmllbnRhdGlvbi5wbmcnOwogICAgICAgIHRoaXMuenIucmVtb3ZlKHRoaXMuc2hhcGVHc1tzZW5zb3IudHlwZV0pOwogICAgICAgIHRoaXMuenIuYWRkKHRoaXMuc2hhcGVzW3NlbnNvci50eXBlXSk7CiAgICAgIH0gZWxzZSBpZiAoc2Vuc29yLnZhbHVlIDwgMCkgewogICAgICAgIHBvc1ggPSBwb3NYMjsKICAgICAgICBwb3NZID0gcG9zWTI7CiAgICAgICAgaW1nID0gJ29yaWVudGF0aW9uLnBuZyc7CiAgICAgICAgdGhpcy56ci5yZW1vdmUodGhpcy5zaGFwZXNbc2Vuc29yLnR5cGVdKTsKICAgICAgICB0aGlzLnpyLmFkZCh0aGlzLnNoYXBlR3Nbc2Vuc29yLnR5cGVdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpbWcgPSAnaG9yaXpvbnRhbC5wbmcnOwogICAgICB9CiAgICAgIHR4dFRlbSA9IHRoaXMub3BlcmF0b3IuZ2V0UG9pbnRUZXh0KHNlbnNvcik7CiAgICAgIHJldHVybiB7J3Bvc1gnOiBwb3NYLCAncG9zWSc6IHBvc1ksICdpbWcnOiBpbWcsICd0eHRUZW0nOiB0eHRUZW19OwogICAgfSwKICAgIC8qKgogICAgICog5p+l5om+5Lyg5oSf5Zmo5pWw5o2uCiAgICAgKgogICAgICogKi8KICAgIGZpbmRTZW5zb3Iob3JkZXIpIHsKICAgICAgbGV0IHNlbnNvcnMgPSB0aGlzLmNvbW1vbi5nZXREYXRhKCdnYXRlRGVjbGluYXRpb24nKTsKICAgICAgbGV0IG5hbWUgPSB0aGlzLnBhcmFzW3RoaXMucGFyYUluZGV4XTsKICAgICAgcmV0dXJuIHRoaXMub3BlcmF0b3IuZ2V0U2Vuc29yKHRoaXMub3BlcmF0b3IuZ2V0U2Vuc29ycyhzZW5zb3JzLCAndHlwZScsIG9yZGVyKSwgJ25hbWUnLCBuYW1lLCB0cnVlKTsKICAgIH0sCiAgICAvKioKICAgICAqIOWIh+aNouWbvueJhwogICAgICogQHBhcmFtIHNoYXBlSW5mbyDlm77lg4/lj4LmlbAKICAgICAqIEBwYXJhbSBzZW5zb3Ig5Lyg5oSf5Zmo5pWw5o2uCiAgICAgKiAqLwogICAgc3dpdGNoSW1hZ2Uoc2hhcGVJbmZvLCBzZW5zb3IpIHsKICAgICAgdGhpcy56ci5yZW1vdmUodGhpcy5pbWFnZXNbc2Vuc29yLnR5cGVdKTsKICAgICAgdGhpcy5pbWFnZXNbc2Vuc29yLnR5cGVdID0gdGhpcy5jcmVhdGVJbWFnZVNoYXBlKHNoYXBlSW5mby5pbWcsIHNoYXBlSW5mby5wb3NYLAogICAgICAgIHNoYXBlSW5mby5wb3NZLCAxMDAsIDEwMCwgc2hhcGVJbmZvLnR4dFRlbSwgc2Vuc29yLnR5cGUpOwogICAgICB0aGlzLnpyLmFkZCh0aGlzLmltYWdlc1tzZW5zb3IudHlwZV0pOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnpyID0genJlbmRlci5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkaXYtaW1nIikpOwogICAgbGV0IGltYWdlID0gbmV3IEltYWdlU2hhcGUoewogICAgICBzY2FsZTogWzEuMSwgMV0sCiAgICAgIHN0eWxlOiB7CiAgICAgICAgeDogLTgwLAogICAgICAgIHk6IDAsCiAgICAgICAgaW1hZ2U6IHJlcXVpcmUoYC4uLy4uLy4uLy4uL2Fzc2V0cy9pbWFnZXMvJHt0aGlzLmNvbW1vbi5DVVJSRU5UX1JFU0VSVk9JUn0vZ2F0ZURpc3BsYWNlbWVudC5qcGdgKSwKICAgICAgICB3aWR0aDogMTAwMCwKICAgICAgICBoZWlnaHQ6IDYwMAogICAgICB9LAogICAgICBkcmFnZ2FibGU6IGZhbHNlCiAgICB9KTsKICAgIHRoaXMuenIuYWRkKGltYWdlKTsKCiAgICBsZXQgc2VucyA9IHRoaXMub3BlcmF0b3IuZ2V0U2Vuc29ycyh0aGlzLmNvbW1vbi5nZXREYXRhKCdnYXRlRGVjbGluYXRpb24nKSwgJ25hbWUnLCAneOWAvuaWnCcpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRoaXMuenIuYWRkKHRoaXMuY3JlYXRlU2hhcGVQb2x5Z29uKHNlbnNbaV0pKTsKICAgICAgdGhpcy5zaGFwZXMucHVzaCh0aGlzLmNyZWF0ZUNpcmNsZVNoYXBlKCcjMDAwMGZmJywgc2Vuc1tpXS5zaXplLCBpKSk7CiAgICAgIHRoaXMuc2hhcGVHcy5wdXNoKHRoaXMuY3JlYXRlQ2lyY2xlU2hhcGUoJyMwZmYwMDAnLCBzZW5zW2ldLnNpemUsIGkpKTsKCiAgICAgIHRoaXMuenIuYWRkKHRoaXMuY3JlYXRlU2hhcGVUZXh0KHNlbnNbaV0udGl0bGUsIGkpKTsKICAgICAgaW1hZ2UgPSB0aGlzLmNyZWF0ZUltYWdlU2hhcGUoc2Vuc1tpXS5pbWFnZSwgJycsICcnLCAxMDAsIDEwMCwgc2Vuc1tpXS50ZXh0LCBpKTsKICAgICAgdGhpcy5pbWFnZXMucHVzaChpbWFnZSk7CiAgICAgIHRoaXMuenIuYWRkKGltYWdlKTsKICAgICAgdGhpcy56ci5hZGQodGhpcy5jcmVhdGVTaGFwZUxpbmUoaSkpOwogICAgfQoKICAgIHRoaXMudXBkYXRlU2Vuc29ycygpOwogICAgbGV0IHRoYXQgPSB0aGlzOwogICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICB0aGF0LnVwZGF0ZVNlbnNvcnMoKTsKICAgIH0sIHRoaXMuY29tbW9uLlRJTUVfU1BBTik7CiAgfQp9CgoK"},{"version":3,"sources":["gateDeclination.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"gateDeclination.vue","sourceRoot":"src/views/collection/safe/gate","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <record :sensor=\"sensor\" :dialogVisible=\"dialogVisible\" @changeShow=\"showHistory\"></record>\n    <dv-border-box9 style=\"padding: 10px; height: 80vh\">\n      <el-row>\n        <el-col :span=\"6\">\n          <dv-decoration3 style=\"width: 320px;height: 30px\"></dv-decoration3>\n        </el-col>\n        <el-col :span=\"10\">\n          <label class=\"w-label\">参数选择：</label>\n          <el-radio-group v-model=\"paraIndex\">\n            <el-radio :label=\"i\" v-bind:key=\"item\" v-for=\"(item,i) in paras\" @change=\"select(paraIndex)\">{{item}}\n            </el-radio>\n          </el-radio-group>\n        </el-col>\n        <el-col :span=\"8\">\n          <div id=\"lb-time\" class=\"layui-inline\">\n            <label class=\"w-label\" for=\"newest-time\">最新监测时间：<span\n              id=\"newest-time\">{{newestTime}}</span></label>\n          </div>\n        </el-col>\n      </el-row>\n      <el-row>\n        <div id=\"div-main\">\n          <div id=\"div-img\" style=\"width:100%;height:500px;margin-left: 10%;margin-top: 50px;\"></div>\n        </div>\n      </el-row>\n    </dv-border-box9>\n  </div>\n</template>\n\n<script>\n\n  import record from '@/views/collection/common/record'\n  import zrender from 'zrender'\n  import ImageShape from 'zrender/src/graphic/Image';\n  import PolygonShape from 'zrender/src/graphic/shape/Polygon';\n  import Text from 'zrender/src/graphic/Text';\n  import Circle from 'zrender/src/graphic/shape/Circle';\n  import LinearGradient from 'zrender/src/graphic/LinearGradient';\n  import ShapeLine from \"zrender/src/graphic/shape/Polyline\";\n\n  export default {\n    name: \"realtime\",\n    components: {record},\n    data() {\n      let paras = this.operator.getAttrArray(this.common.getData('gateDeclination'), 'name');\n      return {\n        transform: this.reservoir.getGate().getDeclinationSafe(),\n        paras: paras,\n        paraIndex: 1,\n        sensor: null,\n        dialogVisible: false,\n        newestTime: '2016-08-01 10:00:00',\n\n        zr: null,\n        images: [],\n        shapeGs: [],\n        shapes: [],\n      }\n    },\n    methods: {\n      select(paraIndex) {\n        this.paraIndex = paraIndex;\n        this.updateSensors();\n      },\n      showRecord(sen) {\n        this.sensor = sen;\n        this.dialogVisible = true;\n      },\n      // 监听 子组件弹窗关闭后触发，有子组件调用\n      showHistory(data) {\n        this.dialogVisible = data !== 'false';\n      },\n      /**\n       * 创建多边形\n       * @param points 多个点\n       * @param order\n       * @returns {PolygonShape}\n       */\n      createShapePolygon(sensor) {\n        let that = this;\n        return new PolygonShape({\n          style: {\n            fill: 'rgba(20, 200, 200, 0.6)',\n            lineWidth: 2\n          },\n          draggable: false,\n          shape: {\n            points: this.operator.createBackgroundRect(sensor.pos[0], sensor.pos[1], 100, 50),\n          },\n          states: {\n            normal: {\n              transition: '* 500 0 Linear'\n            },\n            hover: {\n              shape: {\n                points: [[0, 0], [1000, 0], [1000, 600], [0, 600]]\n              }\n            }\n          },\n          // 图形元素上绑定事件\n          onclick: function () {\n            that.lineShow(sensor);\n          }\n        });\n      },\n      /**\n       * 创建一个圆形\n       * @param color 颜色\n       * @param radius 半径\n       * @param order 次序\n       * @returns {Circle}\n       */\n      createCircleShape(color, radius, order) {\n        let position = this.findSensor(order).pos;\n        let x = position[0] + 10;\n        let y = position[1] + 30;\n\n        let gradient = new LinearGradient();\n        gradient.addColorStop(0, color);\n        gradient.addColorStop(1, color);\n        let shape = new Circle({\n          position: [x, y],\n          scale: [1, 1],\n          shape: {\n            cx: 0,\n            cy: 0,\n            r: 7\n          },\n          style: {\n            fill: gradient,\n            lineWidth: 5\n          }\n        });\n\n        shape.animateShape(true).when(1000, {r: radius}).start();\n        return shape;\n      },\n      /**\n       * 创建图像文本内容\n       * @param text 文本内容\n       * @param order 次序\n       * @returns {zrender/graphic/Text|Text|Text}\n       */\n      createShapeText(text, order) {\n        let that = this;\n        let position = this.findSensor(order).pos;\n        let x = position[0] + 25;\n        let y = position[1] + 5;\n\n        return new Text({\n          style: {\n            text: text,\n            x: x,\n            y: y,\n            textFont: 'bold 16px Arial',\n            color: '#fff000',\n            strokeColor: '#0ff000'\n          },\n          draggable: false,\n          onclick: function () {\n            that.lineShow(that.findSensor(order));\n          }\n        });\n      },\n\n      /**\n       * 创建图片形状\n       * @param imageName 图片名称\n       * @param posX 横坐标\n       * @param posY 纵坐标\n       * @param width 宽度\n       * @param height 高度\n       * @param text 文本\n       * @param order 次序\n       * @returns {ImageShape}\n       */\n      createImageShape(imageName, posX, posY, width, height, text, order) {\n        let that = this;\n        let position = this.findSensor(order).pos;\n        let x = position[0];\n        let y = position[1] + 20;\n        return new ImageShape({\n          position: [x, y],\n          scale: [1, 1],\n          style: {\n            x: 0,\n            y: 0,\n            image: require(`@/assets/images/common/` + imageName),\n            width: 20,\n            height: 20,\n            sx: posX,\n            sy: posY,\n            sWidth: width,\n            sHeight: height,\n            text: text,\n            hoverable: true,\n            textAlign: 'start',\n            textPosition: 'right',\n            textFont: 'bold 16px Arial'\n          },\n          draggable: false,\n          // 图形元素上绑定事件\n          onclick: function () {\n            that.lineShow(that.findSensor(order));\n          }\n        });\n      },\n\n      /**\n       * 创建形状线条\n       * @param order 次序\n       * @returns {ShapeLine}\n       */\n      createShapeLine(order) {\n        let that = this;\n        return new ShapeLine({\n          position: this.findSensor(order).pos,\n          style: {\n            stroke: \"rgba(0, 0, 200, 0.8)\",\n            lineWidth: 2\n          },\n          shape: {\n            points: [[10, 0], [10, 20], [10, 10], [0, 10], [20, 10]]\n          },\n          // 图形元素上绑定事件\n          onclick: function () {\n            that.lineShow(that.findSensor(order));\n          }\n        });\n      },\n      /**\n       * 显示历史数据\n       * */\n      lineShow(sensor) {\n        if (sensor && !sensor.invalid) {\n          if (sensor.name === '沉降' && sensor.type === 0) {   //处理沉降中的基准点，让它不显示曲线\n            sensor.url = '';\n          }\n          this.showRecord(sensor);\n        }\n      },\n      setData(sensor) {\n        let posX = 0;\n        let posY = 0;\n        let img;\n        let txtTem;\n        let shapeInfo;\n        let sensors = this.common.getData('gateDeclination');\n        if (sensor.name === '电压') {                                 //电压没有正负，单独处理\n          for (let i = 0; i < sensors.length; i++) {\n            if (sensor.id === sensors[i].id) {\n              img = 'horizontal.png';\n              this.zr.remove(this.shapeGs[i]);\n              this.zr.add(this.shapes[i]);\n              this.zr.remove(this.images[i]);\n              txtTem = sensor.name + \":\" + (value).toFixed(1) + sensor.unit;\n              this.images[i] = this.createImageShape(img, posX,\n                posY, 100, 100, txtTem, i);\n              this.zr.add(this.images[i]);\n            }\n          }\n        } else if (sensor.name === '液面') {                          //液面距离\n          shapeInfo = this.setValue(150, 0, 320, 260, sensor);\n          this.switchImage(shapeInfo, sensor);\n        } else {                                                      //沉降位移的处理\n          shapeInfo = this.setValue(310, 135, 140, 270, sensor);\n          this.switchImage(shapeInfo, sensor);\n        }\n      },\n      /**\n       * 成功获取数据后的处理函数\n       */\n      updateSensors() {\n        let sens = this.common.getData('gateDeclination');\n        let newestTime = sens[0].time;\n        for (let i = 0; i < sens.length; i++) {\n          if (sens[i].time > newestTime) {\n            newestTime = sens[i].time;\n          }\n          let sensorID = sens[i].id;\n          let sensor = this.operator.findArrayItemByAttrValue(sens, 'id', sensorID);\n\n          if (sensor && this.paras[this.paraIndex] === sensor.name) {\n            this.setData(sensor);\n          }\n        }\n        this.newestTime = new Date(newestTime).format(\"yyyy-MM-dd hh:mm:ss\");\n      },\n      /**\n       * 设置数据\n       * @param posX1\n       * @param posY1\n       * @param posX2\n       * @param posY2\n       * @param sensor 传感器数据\n       * */\n      setValue(posX1, posY1, posX2, posY2, sensor) {\n        let posX, posY, img, txtTem;\n        if (sensor.value > 0) {\n          posX = posX1;\n          posY = posY1;\n          img = 'orientation.png';\n          this.zr.remove(this.shapeGs[sensor.type]);\n          this.zr.add(this.shapes[sensor.type]);\n        } else if (sensor.value < 0) {\n          posX = posX2;\n          posY = posY2;\n          img = 'orientation.png';\n          this.zr.remove(this.shapes[sensor.type]);\n          this.zr.add(this.shapeGs[sensor.type]);\n        } else {\n          img = 'horizontal.png';\n        }\n        txtTem = this.operator.getPointText(sensor);\n        return {'posX': posX, 'posY': posY, 'img': img, 'txtTem': txtTem};\n      },\n      /**\n       * 查找传感器数据\n       *\n       * */\n      findSensor(order) {\n        let sensors = this.common.getData('gateDeclination');\n        let name = this.paras[this.paraIndex];\n        return this.operator.getSensor(this.operator.getSensors(sensors, 'type', order), 'name', name, true);\n      },\n      /**\n       * 切换图片\n       * @param shapeInfo 图像参数\n       * @param sensor 传感器数据\n       * */\n      switchImage(shapeInfo, sensor) {\n        this.zr.remove(this.images[sensor.type]);\n        this.images[sensor.type] = this.createImageShape(shapeInfo.img, shapeInfo.posX,\n          shapeInfo.posY, 100, 100, shapeInfo.txtTem, sensor.type);\n        this.zr.add(this.images[sensor.type]);\n      },\n    },\n    mounted() {\n      this.zr = zrender.init(document.getElementById(\"div-img\"));\n      let image = new ImageShape({\n        scale: [1.1, 1],\n        style: {\n          x: -80,\n          y: 0,\n          image: require(`../../../../assets/images/${this.common.CURRENT_RESERVOIR}/gateDisplacement.jpg`),\n          width: 1000,\n          height: 600\n        },\n        draggable: false\n      });\n      this.zr.add(image);\n\n      let sens = this.operator.getSensors(this.common.getData('gateDeclination'), 'name', 'x倾斜');\n      for (let i = 0; i < sens.length; i++) {\n        this.zr.add(this.createShapePolygon(sens[i]));\n        this.shapes.push(this.createCircleShape('#0000ff', sens[i].size, i));\n        this.shapeGs.push(this.createCircleShape('#0ff000', sens[i].size, i));\n\n        this.zr.add(this.createShapeText(sens[i].title, i));\n        image = this.createImageShape(sens[i].image, '', '', 100, 100, sens[i].text, i);\n        this.images.push(image);\n        this.zr.add(image);\n        this.zr.add(this.createShapeLine(i));\n      }\n\n      this.updateSensors();\n      let that = this;\n      setInterval(function () {\n        that.updateSensors();\n      }, this.common.TIME_SPAN);\n    }\n  }\n\n\n</script>\n\n<style scoped>\n  .app-container {\n    margin: 0;\n    background: url(\"../../../../assets/images/bg.png\") repeat-y;\n    color: #dfe6ec;\n    height: 100vh;\n  }\n\n  ::v-deep .w-label {\n    font-size: 24px;\n    font-family: 楷体, serif;\n    color: #eceebc;\n  }\n\n  ::v-deep .el-radio__label {\n    font-size: 24px;\n    font-family: 楷体, serif;\n    color: #eceebc;\n  }\n\n  ::v-deep .el-radio__input {\n    vertical-align: baseline;\n  }\n</style>\n"]}]}