{"remainingRequest":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\safetyManagement\\engineering\\registration.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\safetyManagement\\engineering\\registration.vue","mtime":1640419132281},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1711181251489},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1711181253421},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":1711181252308},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1711181250722},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1711181252689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNvbG9yNDA5IHsKICBjb2xvcjogIzQwOWVmZjsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLmVsLXVwbG9hZC1saXN0X19pdGVtIC5lbC1pY29uLWNsb3NlLXRpcHsKICB0b3A6IDEwMDAwMHB4OwogIHotaW5kZXg6IC05ODsKfQo="},{"version":3,"sources":["registration.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAi+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"registration.vue","sourceRoot":"src/views/safetyManagement/engineering","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-row class=\"from-top\">\r\n      <el-col :span=\"24\">\r\n        <div style=\"margin: 0 auto;display: flex;align-items: center;width: 100%;justify-content:center;\">\r\n          <div style=\"position: relative;\">\r\n            <img src=\"../../../assets/images/jin.png\" />\r\n            <div style=\"position: absolute;top: 10px;left: 100px;width: 50%;color: #FFFFFF;\">1.编制</div>\r\n          </div>\r\n          <div style=\"position: relative;\">\r\n            <img :src=\"require(active>1? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\" />\r\n            <div :style=\"active>1? 'position: absolute;top: 10px;left: 100px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 100px;width: 50%;color: #757575;'\">2.审核</div>\r\n          </div>\r\n          <div style=\"position: relative;\">\r\n            <img :src=\"require(active==3? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\" />\r\n            <div :style=\"active>1? 'position: absolute;top: 10px;left: 100px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 100px;width: 50%;color: #757575;'\">3.审批</div>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- 页面主体 -->\r\n    <div class=\"from-div\">\r\n      <!-- 头部 注册登记 审核提交 按钮 -->\r\n      <el-row>\r\n        <el-col :span=\"24\" class=\"from-div-title\" style=\"background-color: rgba(215, 215, 215, 1); text-align: right;\">\r\n          <div style=\"margin-right: 15px\">\r\n            <el-button type=\"primary\" size=\"small\" @click=\"zhuce\" v-if=\"status <= 0\">{{this.status == 0 ? '注册登记':'修改'}}</el-button>\r\n            <el-button type=\"primary\" size=\"small\" v-if=\"status == 1\" @click=\"auditPass\">审核提交</el-button>\r\n            <el-button type=\"primary\" size=\"small\" v-if=\"status == 2\" @click=\"auditApprove\">审批提交</el-button>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <el-col :span=\"24\" class=\"from-div-title\">\r\n          <div>水库大坝注册登记表</div>\r\n          <div>\r\n            <registrationDetail :type=\"1\" :input=\"input\" :time='time' :status=\"status\" v-if=\"status >= -1\" :ifXian=\"0\"></registrationDetail>\r\n          </div>\r\n\r\n\r\n\r\n        </el-col>\r\n      </el-row>\r\n      <el-row class=\"from-border-bottom\">\r\n        <el-col :span=\"3\" class=\"from-col\" style=\"line-height:200px;\">\r\n          计划审核\r\n        </el-col>\r\n        <el-col :span=\"21\" style=\"height: 50px;\">\r\n          <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n            审核意见：\r\n          </div>\r\n          <el-input  maxlength=\"500\" show-word-limit  type=\"textarea\" :rows=\"4\" placeholder=\"请输入内容\" v-model=\"input.fReviewComments\" v-bind:disabled=\"status == 1 ? false : true\">\r\n          </el-input>\r\n          <div class=\"from-select\">\r\n            <div style=\"margin-top: 20px;margin-left: 10px;\">\r\n              <div style=\"font-size: 16px;font-weight: 600;display:inline;\">\r\n                审核结果：\r\n              </div>\r\n              <el-select v-model=\"input.fReviewResult\" placeholder=\"请选择\" v-bind:disabled=\"status == 1 ? false : true\">\n                  <el-option v-bind:disabled=\"status == 1 ? false : true\" v-for=\"item in dict.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\" :value=\"item.dictValue\">\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n            <div style=\"margin-top:20px;\">\r\n              <span>审核人：<el-input v-model=\"input.fReviewPeople\" placeholder=\"审核人\" style=\"width:180px;\" v-bind:disabled=\"status == 1 ? false : true\"></el-input></span>\r\n              <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                <el-date-picker v-bind:disabled=\"status == 1 ? false : true\" type=\"date\" v-model=\"input.fReviewDate\"\r\n                  placeholder=\"选择日期\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\">\r\n                </el-date-picker>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"3\" class=\"from-align\" style=\"line-height:200px;\">\r\n          计划批准\r\n        </el-col>\r\n        <el-col :span=\"21\" style=\"height: 50px;\">\r\n          <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n            审批意见：\r\n          </div>\r\n          <el-input  maxlength=\"500\" show-word-limit  type=\"textarea\" :rows=\"4\" placeholder=\"请输入内容\" v-model=\"input.fAuditComments\" v-bind:disabled=\"this.status ==2 ? false : true\">\r\n          </el-input>\r\n          <div class=\"from-select\">\r\n            <div style=\"margin-top: 20px;margin-left: 10px;\">\r\n              <div style=\"font-size: 16px;font-weight: 600;display:inline;\">\r\n                审批结果：\r\n              </div>\r\n              <el-select v-model=\"value4\" placeholder=\"请选择\" v-bind:disabled=\"status == 2 ? false : true\">\r\n                <!-- <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"\r\n                  v-bind:disabled=\"status ==2 ?  false: true\">\r\n                </el-option> -->\n                <el-option v-bind:disabled=\"status == 2 ? false : true\" v-for=\"item in dict.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\" :value=\"item.dictValue\">\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n            <div style=\"margin-top:20px;\">\r\n              <span>审批人：<el-input v-model=\"input.fAuditPeople\" placeholder=\"审批人\" style=\"width:180px;\" v-bind:disabled=\"status ==2 ? false : true\"></el-input></span>\r\n              <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                <el-date-picker type=\"date\" v-model=\"input.fAuditDate\" placeholder=\"选择日期\" format=\"yyyy-MM-dd\"\r\n                  value-format=\"yyyy-MM-dd\" v-bind:disabled=\"status ==2 ? false : true\">\r\n                </el-date-picker>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n    <!-- 审核弹窗 -->\r\n    <el-dialog title=\"详情\" :visible.sync=\"dialogVisible\" width=\"1500px\">\r\n      <div class=\"from-div\">\n        <el-row >\n          <el-col :span=\"24\" class=\"from-div-title\" style=\"background-color: rgba(215, 215, 215, 1); text-align: right;\">\n            <div style=\"margin-right: 15px\">\n              <el-button size=\"small\"  @click=\"dialogVisible = false\">取 消</el-button>\n              <el-button type=\"primary\" size=\"small\"  @click=\"dialogVisible = false\">确 定</el-button>\n            </div>\n          </el-col>\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"24\" class=\"from-div-title\">\r\n            <div>水库大坝注册登记表</div>\r\n            <div>\r\n              <registrationDetail :ifXian=\"0\" :type=\"1\" :input=\"inputCheck\" :time='time' :status=\"status\"></registrationDetail>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row class=\"from-border-bottom\">\r\n          <el-col :span=\"3\" class=\"from-col\" style=\"line-height:200px;\">\r\n            计划审核\r\n          </el-col>\r\n          <el-col :span=\"21\" style=\"height: 50px;\">\r\n            <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n              审核意见：\r\n            </div>\r\n            <el-input  maxlength=\"500\" show-word-limit disabled  type=\"textarea\" :rows=\"4\" placeholder=\"请输入内容\" v-model=\"inputCheck.fReviewComments\">\r\n            </el-input>\r\n            <div class=\"from-select\">\r\n              <div style=\"margin-top: 20px;margin-left: 10px;\">\r\n                <div style=\"font-size: 16px;font-weight: 600;display:inline;\">\r\n                  审核结果：\r\n                </div>\r\n                <el-select v-model=\"inputCheck.fReviewResult\" placeholder=\"请选择\" disabled>\r\n                  <el-option v-for=\"item in dict.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\" :value=\"item.dictValue\">\r\n                  </el-option>\r\n                </el-select>\r\n              </div>\r\n              <div style=\"margin-top:20px;\">\r\n                <span>审核人：<el-input v-model=\"inputCheck.fReviewPeople\" disabled placeholder=\"审核人\" style=\"width:180px;\"></el-input></span>\r\n                <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                  <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                  <el-date-picker type=\"date\" v-model=\"inputCheck.fReviewDate\" placeholder=\"选择日期\" format=\"yyyy-MM-dd\"\r\n                    value-format=\"yyyy-MM-dd\" disabled>\r\n                  </el-date-picker>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"3\" class=\"from-align\" style=\"line-height:200px;\">\r\n            计划批准\r\n          </el-col>\r\n          <el-col :span=\"21\" style=\"height: 50px;\">\r\n            <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n              审批意见：\r\n            </div>\r\n            <el-input  maxlength=\"500\" show-word-limit disabled  type=\"textarea\" :rows=\"4\" placeholder=\"请输入内容\" v-model=\"inputCheck.fAuditComments\">\r\n            </el-input>\r\n            <div class=\"from-select\">\r\n              <div style=\"margin-top: 20px;margin-left: 10px;\">\r\n                <div style=\"font-size: 16px;font-weight: 600;display:inline;\">\r\n                  审批结果：\r\n                </div>\r\n                <el-select v-model=\"inputCheck.fAuditResult\" placeholder=\"请选择\" disabled>\r\n                  <el-option v-for=\"item in dict.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\" :value=\"item.dictValue\">\r\n                  </el-option>\r\n                </el-select>\r\n              </div>\r\n              <div style=\"margin-top:20px;\">\r\n                <span>审批人：<el-input disabled v-model=\"inputCheck.fAuditPeople\" placeholder=\"审批人\" style=\"width:180px;\"></el-input></span>\r\n                <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                  <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                  <el-date-picker type=\"date\" v-model=\"inputCheck.fAuditDate\" placeholder=\"选择日期\" format=\"yyyy-MM-dd\"\r\n                    value-format=\"yyyy-MM-dd\" disabled>\r\n                  </el-date-picker>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n\r\n\r\n\r\n      <!-- <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"dialogVisible = false\">确 定</el-button>\r\n      </span> -->\r\n    </el-dialog>\r\n\r\n    <!-- 下一流程 处理人 弹窗 -->\r\n    <!-- <el-dialog title=\"选择处理人\" :visible.sync=\"nextVisible\" width=\"30%\" >\r\n      <el-radio v-model=\"radio\" :label=\"item.userId\" v-for=\"(item,index) in list\" :key=\"index\">{{item.nickName}}</el-radio>\r\n      <el-radio v-model=\"radio\" label=\"2\">备选项</el-radio>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addSubmits\">确 定</el-button>\r\n      </span>\r\n    </el-dialog> -->\r\n\r\n    <!-- 注册登记弹窗 -->\r\n    <el-dialog title=\"详情\" :visible.sync=\"zhuceVisible\" width=\"1500px\">\r\n      <registrationDetail @submitInput=\"submitInput\" @reviseInput=\"reviseInput\" @zhuceVisible=\"zhuceVisiblefalse\"  :type=\"0\" :input=\"this.input\" :time='this.time' :status=\"status\" :ifXian=\"1\"></registrationDetail>\r\n      <!-- <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"zhuceVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitInput()\" v-if=\"status ==  0\">提 交</el-button>\r\n        <el-button type=\"primary\" @click=\"reviseInput()\" v-if=\"status == -1\">修 改</el-button>\r\n      </span> -->\r\n    </el-dialog>\n\n    <!-- 注册登记编制记录 -->\n    <div class=\"from-div\" style=\"border: 0px\">\n      <div class=\"table-head\" style=\"margin-top:40px;margin:0 auto;width:100%\">\n        注册登记编制记录\n      </div>\n      <el-table :data=\"data\" class=\"from-top\" border style=\"margin:0 auto;width:100%\">\n        <el-table-column label=\"序号\" align=\"center\">\n          <template slot-scope=\"scope\">\n            {{ scope.$index + 1 }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"变更时间\" align=\"center\" prop=\"fPreparationTime\" />\n        <el-table-column label=\"编制人\" align=\"center\" prop=\"fPreparedBy\" />\n        <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"mini\" type=\"text\" @click=\"check(scope.row)\">查看</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  //mengineeringInformation\r\n\r\n  import {\r\n    getUserList\r\n  } from \"@/api/security/planning\"\r\n\r\n  import {\r\n    listInformation,\r\n    getInformation,\r\n    addInformation,\r\n    updateInformation,\r\n    delInformation\r\n  } from \"@/api/security/mengineeringInformation\"\r\nimport {\n  queryDataDictionary\n} from \"@/api/indemnification/training\";\r\n  import registrationDetail from './registrationDetail.vue'\r\n  export default {\r\n    components: {\r\n      registrationDetail\r\n    },\r\n    data() {\r\n      return {\r\n        data:'',\r\n        inputCheck: '',\r\n        input55: {\r\n          //下一节点审核人\r\n          nextId: '',\r\n          //下一节点参数\r\n          nextParameter: '',\r\n          //申报单位\r\n          fDeclareUnit: '',\r\n          //注册登记机构\r\n          fRegistrationMechanism: '',\r\n          //注册登记日期\r\n          fRegistrationDate: '',\r\n          //编制时间\r\n          fPreparationTime: '',\r\n          //编制人\r\n          fPreparedBy: '',\r\n\r\n          //工程ID\r\n          fId: '',\r\n          //注册登记号\r\n          fRegistrationNumberl: '',\r\n          //水库名称\r\n          fReservoirName: '',\r\n          //水库类型\r\n          fReservoirType: '',\r\n          //水库等别\r\n          fReservoirLevel: '',\r\n          //经度\r\n          fLongitude: '',\r\n          //纬度\r\n          fLatitude: '',\r\n\r\n          //灌溉面积\r\n          fIrrigationArea: '',\r\n          //所在河流\r\n          fRiver: '',\r\n          //乡镇供水\r\n          fTownWaterSupply: '',\r\n          //管理单位\r\n          fManagementUnit: '',\r\n          //所在地址\r\n          fAddress: '',\r\n          //邮政编码\r\n          fPostalCode: '',\r\n          //主管部门\r\n          fCompetentDepartment: '',\r\n\r\n          //集水面积\r\n          fCatchmentArea: '',\r\n          //总库容\r\n          fTotalStorageCapacity: '',\r\n          //兴利库容\r\n          fRegulationStorageCapacity: '',\r\n          //调洪库容\r\n          fRegulationStorageCapacity: '',\r\n          //总投资\r\n          fTotalInvestment: '',\r\n          //完成时间\r\n          fFinishDate: '',\r\n          //是否竣工验收 0=否,1=是\r\n          fIfCompletion: '',\r\n\r\n          //竣工日期\r\n          fCompletionDate: '',\r\n          //坝型    结=构划分\r\n          fDamTypeStructure: '',\r\n          //主要功能\r\n          fMajorFunction: '',\r\n          //坝顶高程\r\n          fCrestElevation: '',\r\n          //最大坝高\r\n          fMaximumDamHeight: '',\r\n          //坝顶长度\r\n          fCrestLength: '',\r\n          //坝顶宽度\r\n          fCrestWidth: '',\r\n\r\n          //坝基防渗型式\r\n          fSeepagePreventionType: '',\r\n          //放水洞型式\r\n          fDewateringTunnelType: '',\r\n          //放水洞洞泾\r\n          fDewateringTunnelDiameter: '',\r\n          //放水洞最大放水量\r\n          fDewateringTunnelDischarge: '',\r\n          //副坝座数\r\n          fAuxiliaryDamNum: '',\r\n          //工作闸门总数\r\n          fSluiceGateNum: '',\r\n          //工作闸门名称\r\n          fSluiceGateName: '',\r\n\r\n          //溢洪道型式\r\n          fSpillwayType: '',\r\n          //溢洪道底高程\r\n          fSpillwayBottomElevation: '',\r\n          //溢洪道顶高程\r\n          fSpillwayTopElevation: '',\r\n          //溢洪道顶宽\r\n          fSpillwayTopWidth: '',\r\n          //溢洪道最大泄量\r\n          fSpillwayBottomDischarge: '',\r\n          //洪水标准设计\r\n          fFloodStandardDesign: '',\r\n          //洪水标准校核\r\n          fFloodStandardCheck: '',\r\n\r\n          //洪水标准实际\r\n          fFloodStandardActual: '',\r\n          //水库下游影响铁路\r\n          fDownstreamImpactRailway: '',\r\n          //水库下游影响公路\r\n          fDownstreamImpactHighway: '',\r\n          //水库下游影响村庄\r\n          fDownstreamImpactVillage: '',\r\n          //水库下游影响人口\r\n          fDownstreamImpactPeople: '',\r\n          //水库下游影响耕地\r\n          fDownstreamImpactFarmland: '',\r\n          //管理职工人数\r\n          fManagementStaffPeople: '',\r\n\r\n          //固定资源值\r\n          fFixedResourceValue: '',\r\n          //年度管理费用\r\n          fAnnualManagementExpenses: '',\r\n          //年度水费收入\r\n          fAnnualWaterRevenue: '',\r\n          //年度电费收入\r\n          fAnnualElectricityRevenue: '',\r\n          //多种经营纯收入\r\n          fNetOperatingIncome: '',\r\n          //大坝安全类别\r\n          fDamSecurityCategory: '',\r\n          //大坝鉴定与否\r\n          fDamIsAppraisal: '',\r\n\r\n          //大坝安全状态\r\n          fSafetyStatus: '',\r\n          //工程信息附件ID\r\n          fEngineeringFileId: '',\r\n          //审核意见\r\n          fReviewComments: '',\r\n          //审核结果\r\n          fReviewResult: '',\r\n          //审核人\r\n          fReviewPeople: '',\r\n          //审核时间\r\n          fReviewDate: '',\r\n          //审批意见\r\n          fAuditComments: '',\r\n          //审批结果\r\n          fAuditResult: '',\r\n          //审批人\r\n          fAuditPeople: '',\r\n          //审批时间\r\n          fAuditDate: '',\r\n          //流程实例ID\r\n          fActId: '',\r\n          //下一节点审核人\r\n          fActPersion: '',\r\n          //流程状态 1已提交启动 2：审核中 3：审核完成 4：驳回修改 5：不同意删除\r\n          fActStatus: '',\r\n          //流程节点\r\n          fActNode: '',\r\n        },\r\n        //当前数据状态\r\n        status: '',\r\n        //下一节点审核人 弹窗\r\n        nextVisible: false,\r\n\r\n        info: {\r\n          stockDate: this.getNowTime(), //日期\r\n        },\r\n        //下一节点审核人\r\n        radio: '',\r\n\r\n        active: 1,\r\n        zhuceVisible: false,\r\n        dialogVisible: false,\r\n        textarea: '',\r\n        value1: '',\r\n        value2: '',\r\n        value3: '',\r\n        value4: '',\r\n        //处理人  集合\r\n        list: [],\r\n        //填表时间\r\n        time: {\r\n          yy: '',\r\n          mm: '',\r\n          dd: '',\r\n        },\r\n        input: {\r\n          //下一节点审核人\r\n          nextId: '',\r\n          //下一节点参数\r\n          nextParameter: '',\r\n\r\n          //申报单位\r\n          fDeclareUnit: '',\r\n          //注册登记机构\r\n          fRegistrationMechanism: '',\r\n          //注册登记日期\r\n          fRegistrationDate: '',\r\n          //编制时间\r\n          fPreparationTime: '',\r\n          //编制人\r\n          fPreparedBy: '',\r\n\r\n          //工程ID\r\n          fId: '',\r\n          //注册登记号\r\n          fRegistrationNumberl: '',\r\n          //水库名称\r\n          fReservoirName: '',\r\n          //水库类型\r\n          fReservoirType: '',\r\n          //水库等别\r\n          fReservoirLevel: '',\r\n          //经度\r\n          fLongitude: '',\r\n          //纬度\r\n          fLatitude: '',\r\n\r\n          //灌溉面积\r\n          fIrrigationArea: '',\r\n          //所在河流\r\n          fRiver: '',\r\n          //乡镇供水\r\n          fTownWaterSupply: '',\r\n          //管理单位\r\n          fManagementUnit: '',\r\n          //所在地址\r\n          fAddress: '',\r\n          //邮政编码\r\n          fPostalCode: '',\r\n          //主管部门\r\n          fCompetentDepartment: '',\r\n\r\n          //集水面积\r\n          fCatchmentArea: '',\r\n          //总库容\r\n          fTotalStorageCapacity: '',\r\n          //兴利库容\r\n          fBeneficialStorageCapacity: '',\r\n          //调洪库容\r\n          fRegulationStorageCapacity: '',\r\n          //总投资\r\n          fTotalInvestment: '',\r\n          //完成时间\r\n          fFinishDate: '',\r\n          //是否竣工验收 0=否,1=是\r\n          fIfCompletion: '',\r\n\r\n          //竣工日期\r\n          fCompletionDate: '',\r\n          //坝型    结=构划分\r\n          fDamTypeStructure: '',\r\n          //主要功能\r\n          fMajorFunction: '',\r\n          //坝顶高程\r\n          fCrestElevation: '',\r\n          //最大坝高\r\n          fMaximumDamHeight: '',\r\n          //坝顶长度\r\n          fCrestLength: '',\r\n          //坝顶宽度\r\n          fCrestWidth: '',\r\n\r\n          //坝基防渗型式\r\n          fSeepagePreventionType: '',\r\n          //放水洞型式\r\n          fDewateringTunnelType: '',\r\n          //放水洞洞泾\r\n          fDewateringTunnelDiameter: '',\r\n          //放水洞最大放水量\r\n          fDewateringTunnelDischarge: '',\r\n          //副坝座数\r\n          fAuxiliaryDamNum: '',\r\n          //工作闸门总数\r\n          fSluiceGateNum: '',\r\n          //工作闸门名称\r\n          fSluiceGateName: '',\r\n\r\n          //溢洪道型式\r\n          fSpillwayType: '',\r\n          //溢洪道底高程\r\n          fSpillwayBottomElevation: '',\r\n          //溢洪道顶高程\r\n          fSpillwayTopElevation: '',\r\n          //溢洪道顶宽\r\n          fSpillwayTopWidth: '',\r\n          //溢洪道最大泄量\r\n          fSpillwayBottomDischarge: '',\r\n          //洪水标准设计\r\n          fFloodStandardDesign: '',\r\n          //洪水标准校核\r\n          fFloodStandardCheck: '',\r\n\r\n          //洪水标准实际\r\n          fFloodStandardActual: '',\r\n          //水库下游影响铁路\r\n          fDownstreamImpactRailway: '',\r\n          //水库下游影响公路\r\n          fDownstreamImpactHighway: '',\r\n          //水库下游影响村庄\r\n          fDownstreamImpactVillage: '',\r\n          //水库下游影响人口\r\n          fDownstreamImpactPeople: '',\r\n          //水库下游影响耕地\r\n          fDownstreamImpactFarmland: '',\r\n          //管理职工人数\r\n          fManagementStaffPeople: '',\r\n\r\n          //固定资源值\r\n          fFixedResourceValue: '',\r\n          //年度管理费用\r\n          fAnnualManagementExpenses: '',\r\n          //年度水费收入\r\n          fAnnualWaterRevenue: '',\r\n          //年度电费收入\r\n          fAnnualElectricityRevenue: '',\r\n          //多种经营纯收入\r\n          fNetOperatingIncome: '',\r\n          //大坝安全类别\r\n          fDamSecurityCategory: '',\r\n          //大坝鉴定与否\r\n          fDamIsAppraisal: '',\r\n\r\n          //大坝安全状态\r\n          fSafetyStatus: '',\r\n          //工程信息附件ID\r\n          fEngineeringFileId: '',\r\n          //审核意见\r\n          fReviewComments: '',\r\n          //审核结果\r\n          fReviewResult: '',\r\n          //审核人\r\n          fReviewPeople: '',\r\n          //审核时间\r\n          fReviewDate: '',\r\n          //审批意见\r\n          fAuditComments: '',\r\n          //审批结果\r\n          fAuditResult: '',\r\n          //审批人\r\n          fAuditPeople: '',\r\n          //审批时间\r\n          fAuditDate: '',\r\n          //流程实例ID\r\n          fActId: '',\r\n          //下一节点审核人\r\n          fActPersion: '',\r\n          //流程状态 1已提交启动 2：审核中 3：驳回 4：审核完成\r\n          fActStatus: '',\r\n          //流程节点\r\n          fActNode: '',\r\n        },\r\n        value: '',\r\n        textarea1: '',\r\n        textarea2: '',\r\n        fileList: [],\n        dict:{\n          result:[]\n        }\r\n      };\r\n    },\r\n    created() {\r\n      this.init()\n      this.queryDataDictionary()\r\n\r\n    },\r\n    methods: {\n      zhuceVisiblefalse(){\n        this.zhuceVisible = false\n      },\n      queryDataDictionary() {\n        queryDataDictionary().then(res => {\n          this.dict.result = res.data.result\n        });\n      },\r\n      //审批提交按钮\r\n      auditApprove() {\r\n        //判断是否填写审批意见\r\n        if (this.input.fAuditComments == null || this.input.fAuditComments == '') {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请填写审批意见',\r\n            type: 'error'\r\n          });\r\n          return false\r\n        }\r\n        //判断是否填写审批结果\r\n        if (this.value4 == null || this.value4 == '') {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请选择审批结果',\r\n            type: 'error'\r\n          });\r\n          return false\r\n        }\r\n        //判断是否填写审批人\r\n        if (this.input.fAuditPeople == null || this.input.fAuditPeople == '') {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请填写审批人',\r\n            type: 'error'\r\n          });\r\n          return false\r\n        }\r\n        //判断是否填写审批时间\r\n        if (this.input.fAuditDate == null || this.input.fAuditDate == '') {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请选择审批时间',\r\n            type: 'error'\r\n          });\r\n          return false\r\n        }\r\n        //审批通过\r\n        if (this.value4 == 1) {\r\n          this.input.fActStatus = 3\r\n          this.input.fAuditResult = 1\r\n          updateInformation(this.input).then(res => {\r\n            if (res.code == 200) {\r\n              this.msgSuccess(\"审批提交成功\");\r\n              this.init()\r\n              this.init()\r\n            }\r\n          })\r\n        }\r\n        //审批未通过\r\n        else if (this.value4 == 2) {\r\n          this.input.fActStatus = 5\r\n          this.input.fAuditResult = 2\r\n          updateInformation(this.input).then(res => {\r\n            if (res.code == 200) {\r\n              this.msgSuccess(\"审批提交成功\");\r\n              this.init()\r\n              this.init()\r\n            }\r\n          })\r\n        }\r\n        //驳回\r\n        else if (this.value4 == 3) {\r\n          this.input.fActStatus = 4\r\n          this.input.fAuditResult = 3\r\n          updateInformation(this.input).then(res => {\r\n            if (res.code == 200) {\r\n              this.msgSuccess(\"审批提交成功\");\r\n              this.init()\r\n              this.init()\r\n            }\r\n          })\r\n        }\r\n      },\r\n      //审核提交按钮\r\n      auditPass() {\r\n        //判断是否填写审核意见\r\n        if (this.input.fReviewComments == null || this.input.fReviewComments == '') {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请填写审核意见',\r\n            type: 'error'\r\n          });\r\n          return false\r\n        }\r\n        //判断是否填写审核结果\r\n        if (this.input.fReviewResult == null || this.input.fReviewResult == '') {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请选择审核结果',\r\n            type: 'error'\r\n          });\r\n          return false\r\n        }\r\n        //判断是否填写审核人\r\n        if (this.input.fReviewPeople == null || this.input.fReviewPeople == '') {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请填写审核人',\r\n            type: 'error'\r\n          });\r\n          return false\r\n        }\r\n        //判断是否填写审核时间\r\n        if (this.input.fReviewDate == null || this.input.fReviewDate == '') {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请选择审核时间',\r\n            type: 'error'\r\n          });\r\n          return false\r\n        }\r\n        console.log(this.input.fReviewResult)\r\n        //如果审核通过  打开 <下一处理人> 弹窗\r\n        if (this.input.fReviewResult == 1) {\r\n          this.addSubmits()\r\n        }\r\n        //如果审核不通过  提交状态为 <不同意删除>\r\n        else if (this.input.fReviewResult == 2) {\r\n          this.input.fActStatus = 5\r\n          //this.input.fReviewDate = this.input.fReviewDate[0]\r\n          this.input.fReviewResult = 2\r\n          updateInformation(this.input).then(res => {\r\n            console.log(\"提交结果\", res)\r\n            if (res.code == 200) {\r\n              this.msgSuccess(\"审核提交成功\");\r\n              this.nextVisible = false\r\n              this.init()\r\n              this.init()\r\n            }\r\n          })\r\n        }\r\n        //如果审核驳回  打开 <下一处理人> 弹窗\r\n        else if (this.input.fReviewResult == 3) {\r\n          //如果审核驳回  提交状态为 <驳回>\r\n\r\n          this.input.fActStatus = 4\r\n          this.input.fReviewResult = 3\r\n          console.log(\"时间\", this.input.fReviewDate)\r\n          console.log(\"上传数据： ====>\", this.input)\r\n          updateInformation(this.input).then(res => {\r\n            console.log(\"提交结果\", res)\r\n            if (res.code == 200) {\r\n              this.msgSuccess(\"审核成功\");\r\n              this.nextVisible = false\r\n              this.init()\r\n              this.init()\r\n            }\r\n          })\r\n\r\n        }\r\n      },\r\n      //初始化 查询是否有审核中 审批中的 登记信息\r\n      init() {\r\n        listInformation().then(res => {\r\n          this.data = res.rows\r\n        })\r\n        //初始化状态状态\r\n        this.status = 0\r\n        this.active = 1\r\n        //查询待审核\r\n        listInformation({\r\n          pageNum: 1,\r\n          pageSize: 1,\r\n          fActStatus: 1,\r\n        }).then(res => {\r\n          if (res.total >= 1) {\r\n            this.input = res.rows[0]\n            if(this.input.fReviewResult){\n              this.input.fReviewResult = this.input.fReviewResult.toString()\n            }\n\r\n            this.status = 1\r\n            this.active = 2\r\n            console.log(\"当前状态\", this.status)\r\n            console.log(\"初始化\", res)\r\n          } else {\r\n            //查询待审批\r\n            listInformation({\r\n              pageNum: 1,\r\n              pageSize: 1,\r\n              fActStatus: 2,\r\n            }).then(res => {\r\n              if (res.total >= 1) {\r\n                this.input = res.rows[0]\n                if(this.input.fReviewResult){\n                  this.input.fReviewResult = this.input.fReviewResult.toString()\n                }\r\n                this.status = 2\r\n                this.active = 3\r\n                console.log(\"初始化\", res)\r\n              } else {\r\n                //查询被驳回 待修改\r\n                listInformation({\r\n                  pageNum: 1,\r\n                  pageSize: 1,\r\n                  fActStatus: 4,\r\n                }).then(res => {\r\n                  if (res.total >= 1) {\r\n                    this.input = res.rows[0]\n                    if(this.input.fReviewResult){\n                      this.input.fReviewResult = this.input.fReviewResult.toString()\n                    }\r\n                    this.status = -1\r\n                    this.active = 1\r\n                    console.log(\"初始化\", res)\r\n                  } else {\r\n                    this.input = this.input55\r\n                    this.input.fReviewResult = ''\r\n                    this.input.fReviewResult = ''\r\n                  }\r\n                })\r\n              }\r\n            })\r\n          }\r\n        })\r\n      },\r\n      //选择处理人 弹窗 确定按钮\r\n      addSubmits() {\r\n        this.input.fActPersion = null;\r\n        //选完下一节点审核人 提交数据 关闭两个弹窗\r\n        if (this.status == 0) {\r\n          this.input.fPreparationTime = this.time.yy + '-' + this.time.mm + '-' + this.time.dd\r\n          this.input.nextId = this.radio\r\n          addInformation(this.input).then(res => {\r\n            console.log(\"提交结果\", res)\r\n            if (res.code == 200) {\r\n              this.msgSuccess(\"注册登记成功\");\r\n              this.zhuceVisible = false\r\n              this.nextVisible = false\r\n              this.init()\r\n              this.init()\r\n            }\r\n          })\r\n          return\r\n        } else if (this.status == 1) {\r\n          this.input.nextId = this.radio\r\n          //同意 通过审核 进行下一步 <审批>\r\n          if (this.input.fReviewResult == 1) {\r\n            this.input.fActStatus = 2\r\n\r\n            this.input.fReviewResult = 1\r\n            console.log(\"提交时间\", this.input.fReviewDate)\r\n            //this.input.fReviewDate = this.input.fReviewDate\r\n            updateInformation(this.input).then(res => {\r\n              console.log(\"提交结果\", res)\r\n              if (res.code == 200) {\r\n                this.msgSuccess(\"审核成功\");\r\n                this.nextVisible = false\r\n                this.init()\r\n              }\r\n            })\r\n          }\r\n        } else if (this.status == -1) {\r\n          this.input.nextId = this.radio\r\n          this.input.fPreparationTime = this.time.yy + '-' + this.time.mm + '-' + this.time.dd\r\n          this.input.fActStatus = 1\r\n          updateInformation(this.input).then(res => {\r\n            console.log(\"提交结果\", res)\r\n            if (res.code == 200) {\r\n              this.msgSuccess(\"修改成功\");\r\n              this.nextVisible = false\r\n              this.zhuceVisible = false\r\n              this.init()\r\n            }\r\n          })\r\n        }\r\n      },\r\n      //提交注册登记信息\r\n      submitInput() {\r\n        this.addSubmits();\r\n      },\r\n      //提交 修改的 注册登记信息\r\n      reviseInput() {\r\n        this.addSubmits();\r\n      },\r\n      //处理默认选中当前日期\r\n      getNowTime() {\r\n        var now = new Date();\r\n        var year = now.getFullYear(); //得到年份\r\n        var month = now.getMonth(); //得到月份\r\n        var date = now.getDate(); //得到日期\r\n        var hour = \" 00:00:00\"; //默认时分秒 如果传给后台的格式为年月日时分秒，就需要加这个，如若不需要，此行可忽略\r\n        month = month + 1;\r\n        month = month.toString().padStart(2, \"0\");\r\n        date = date.toString().padStart(2, \"0\");\r\n        var defaultDate = `${year}-${month}-${date}${hour}`;\r\n        console.log(defaultDate)\r\n        return defaultDate;\r\n        this.$set(this.info, \"stockDate\", defaultDate);\r\n      },\r\n      zhuce() {\r\n        console.log(\"点击 注册登记按钮\")\r\n        this.zhuceVisible = true\r\n      },\r\n      check(data) {\r\n        this.inputCheck = data\n        if(this.inputCheck.fReviewResult){\r\n          this.inputCheck.fReviewResult = this.inputCheck.fReviewResult.toString()\r\n        }\r\n        if(this.inputCheck.fAuditResult){\r\n          this.inputCheck.fAuditResult = this.inputCheck.fAuditResult.toString()\r\n        }\n        if(this.inputCheck.fDamIsAppraisal){\n          this.inputCheck.fDamIsAppraisal = this.inputCheck.fDamIsAppraisal.toString()\n        }\n        if(this.inputCheck.fDamSecurityCategory){\n          this.inputCheck.fDamSecurityCategory = this.inputCheck.fDamSecurityCategory.toString()\n        }\n        if(this.inputCheck.fDamTypeMaterial){\n          this.inputCheck.fDamTypeMaterial = this.inputCheck.fDamTypeMaterial.toString()\n        }\n        if(this.inputCheck.fDamTypeStructure){\n          this.inputCheck.fDamTypeStructure = this.inputCheck.fDamTypeStructure.toString()\n        }\r\n        this.dialogVisible = true\r\n      },\r\n      handleRemove(file, fileList) {\r\n        console.log(file, fileList);\r\n      },\r\n      handlePreview(file) {\r\n        console.log(file);\r\n\t\twindow.open(this.fileList[0].url);\r\n      },\r\n      handleExceed(files, fileList) {\r\n        this.$message.warning(`当前限制选择 3 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\r\n      },\r\n      beforeRemove(file, fileList) {\r\n        return this.$confirm(`确定移除 ${ file.name }？`);\r\n      }\r\n\r\n\r\n    }\r\n  };\r\n</script>\r\n<style lang=\"scss\">\r\n  .color409 {\r\n    color: #409eff;\r\n    cursor: pointer;\r\n  }\n  .el-upload-list__item .el-icon-close-tip{\n    top: 100000px;\n    z-index: -98;\n  }\r\n</style>\n"]}]}