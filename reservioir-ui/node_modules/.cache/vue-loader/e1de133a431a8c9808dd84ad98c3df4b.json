{"remainingRequest":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\safetyManagement\\Risk\\riskManagement.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\safetyManagement\\Risk\\riskManagement.vue","mtime":1640419132427},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1711181251489},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1711181253421},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":1711181252308},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1711181250722},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1711181252689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNvbG9yNDA5IHsKICBjb2xvcjogIzQwOWVmZjsKICBjdXJzb3I6IHBvaW50ZXI7Cn0K"},{"version":3,"sources":["riskManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6mBA;AACA;AACA;AACA","file":"riskManagement.vue","sourceRoot":"src/views/safetyManagement/Risk","sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <!-- 查询 查询条件 -->\n    <el-form :model=\"queryParams\" ref=\"queryForm\" v-show=\"showSearch\" :inline=\"true\">\n      <el-form-item label=\"名称\" prop=\"fRiskName\">\n        <el-input\n          v-model=\"queryParams.fRiskName\"\n          placeholder=\"请输入名称\"\n          clearable\n          size=\"small\"\n          style=\"width: 240px\"\n          @keyup.enter.native=\"handleQuery\"\n        />\n      </el-form-item>\n\n      <el-form-item label=\"状态\" prop=\"fActStatus\">\n        <el-select\n          v-model=\"queryParams.fActStatus\"\n          placeholder=\"状态\"\n          clearable\n          size=\"small\"\n          style=\"width: 240px\"\n        >\n          <el-option\n            v-for=\"item in approvalStatus\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          />\n        </el-select>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n    <!-- 列表 数据 -->\n    <el-table v-loading=\"loading\" :data=\"data\" border>\n\n      <el-table-column label=\"序号\" align=\"center\" prop=\"id\" width=\"120\">\n        <template scope=\"scope\">\n          <span>{{  (scope.$index + 1)}} </span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"险情名称\" align=\"center\" prop=\"fRiskName\" :show-overflow-tooltip=\"true\">\n        <template slot-scope=\"scope\">\n            <span @click=\"handleUpdate\" class=\"color409\"\n            >{{ scope.row.fRiskName }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"上报人\" align=\"center\" prop=\"fRecordPeople\" :show-overflow-tooltip=\"true\" />\n      <el-table-column label=\"发现时间\" align=\"center\" prop=\"fRiskFindDate\" :show-overflow-tooltip=\"true\" />\n      <el-table-column label=\"险情录入\" align=\"center\" prop=\"fRiskSummary\" />\n      <el-table-column label=\"应急响应情况\" align=\"center\" prop=\"fResponseSituation\" />\n\n      <el-table-column label=\"状态\" align=\"center\" prop=\"fActStatus\" >\n        <template scope=\"scope\">\n          <span v-if=\"scope.row.fActStatus === 0\" >待提交</span>\n          <span v-if=\"scope.row.fActStatus === 1\" >待响应</span>\n          <span v-if=\"scope.row.fActStatus === 2\" >待排除</span>\n          <span v-if=\"scope.row.fActStatus === 3\" >待检查</span>\n          <span v-if=\"scope.row.fActStatus === 4\" >已检查</span>\n          <span v-if=\"scope.row.fActStatus === 5\" >待修改</span>\n          <span v-if=\"scope.row.fActStatus === 6\" >未通过</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"scope\">\n\n           <div style=\"overflow: auto;display: inline;margin-left:20px;\" v-if=\"scope.row.fActStatus == 0 \">\n            <el-button size=\"mini\" type=\"text\" @click=\"handleUpdate(scope.row)\" >\n              提交\n            </el-button>\n          </div>\n\n          <div style=\"overflow: auto;display: inline;margin-left:20px;\" v-if=\"scope.row.fActStatus == 1 \">\n            <el-button size=\"mini\" type=\"text\" @click=\"handleUpdate(scope.row)\" >\n              响应\n            </el-button>\n          </div>\n\n          <div style=\"overflow: auto;display: inline;margin-left:20px;\" v-if=\"scope.row.fActStatus == 2 \">\n            <el-button size=\"mini\" type=\"text\" @click=\"handleUpdate(scope.row)\" >\n              处置\n            </el-button>\n          </div>\n\n          <div style=\"overflow: auto;display: inline;margin-left:20px;\" v-if=\"scope.row.fActStatus == 3 \">\n            <el-button size=\"mini\" type=\"text\" @click=\"handleUpdate(scope.row)\" >\n              检查\n            </el-button>\n          </div>\n          <div style=\"overflow: auto;display: inline;margin-left:20px;\" v-if=\"scope.row.fActStatus == 5 \">\n            <el-button size=\"mini\" type=\"text\" @click=\"handleUpdate(scope.row)\" >\n              修改\n            </el-button>\n          </div>\n\n          <div style=\"overflow: auto;display: inline;margin-left:20px;\" >\n            <el-button size=\"mini\" type=\"text\" @click=\"handleUpdate2(scope.row)\" >\n              详情\n            </el-button>\n          </div>\n\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 分页 组件 -->\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n    <!-- 弹窗 操作 -->\n    <el-dialog title=\"提示\" :visible.sync=\"dialogVisible\" width=\"1500px\" @close=\"initZi\">\n\n      <HandlingCopy :MRiskManagement=\"MRiskManagement\" @addPlafalse=\"addPlafalse\" @addPla=\"addPla\" :fileList=\"fileList\" :fileList1=\"fileList1\" :fileList2=\"fileList2\"></HandlingCopy>\n<!--      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addPlafalse\">取 消</el-button>\n\n        <el-button type=\"primary\" @click=\"addPla\"\n        v-if=\"MRiskManagement.fActStatus == 0 \">提 交</el-button>\n\n        <el-button type=\"primary\" @click=\"addPla\"\n        v-if=\"MRiskManagement.fActStatus == 5 \">修 改</el-button>\n\n        <el-button type=\"primary\" @click=\"addPla\"\n        v-if=\"MRiskManagement.fActStatus == 1 \">提 交</el-button>\n\n        <el-button type=\"primary\" @click=\"addPla\"\n        v-if=\"MRiskManagement.fActStatus == 2 \">提 交</el-button>\n\n        <el-button type=\"primary\" @click=\"addPla2\"\n        v-if=\"MRiskManagement.fActStatus == 3 \">提 交</el-button>\n\n        <el-button type=\"primary\" @click=\"dialogVisible = false\"\n        v-if=\"MRiskManagement.fActStatus == 4 \">确 定</el-button>\n\n      </span>-->\n    </el-dialog>\n\n    <!-- 弹窗 操作 -->\n    <el-dialog title=\"提示\" :visible.sync=\"dialogVisible2\" width=\"1500px\" @close=\"initZi\">\n\n      <HandlingCopy2 :MRiskManagement=\"MRiskManagement\" :fileList=\"fileList\" :fileList1=\"fileList1\" :fileList2=\"fileList2\"></HandlingCopy2>\n    </el-dialog>\n\n    <!-- 下一流程 处理人 弹窗 -->\n    <el-dialog\n      title=\"选择处理人\"\n      :visible.sync=\"nextVisible\"\n      width=\"700px\">\n      <el-radio v-model=\"radio\" :label=\"item.userId\" v-for=\"(item,index) in list\" :key=\"index\">{{item.nickName}}</el-radio>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"nextVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addSubmits\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  //获得系统用户\n  import {getUserList } from \"@/api/security/planning\"\n  import HandlingCopy from './handlingCopy.vue'\n  import HandlingCopy2 from './handlingCopy2.vue'\n  //引入 险情管理 接口js\n  import {listManagement, getManagement, addManagement, updateManagement, delManagement} from '@/api/risk/risk'\n  import {getFileById} from \"@/api/file\"\n\nexport default {\n  components: {HandlingCopy, HandlingCopy2},\n  data() {\n    return {\n      fileList: [],\n      fileList1: [],\n      fileList2: [],\n      //对象\n      MRiskManagement:{\n          //险情管理ID\n          fId:'',\n          //险情名称\n          fRiskName:'',\n          //险情类别\n          fRiskType:'',\n          //险情编号\n          fRiskNumber:'',\n          //险情发现时间\n          fRiskFindDate:'',\n\n          //险情概述\n          fRiskSummary:'',\n          //记录人\n          fRecordPeople:'',\n          //记录时间\n          fRecordDate:'',\n          //险情信息附件ID\n          fRiskInfoFileId:'',\n\n          //响应情况\n          fResponseSituation:'',\n          //响应人\n          fResponsePeople:'',\n          //响应时间\n          fResponseDate:'',\n          //响应信息附件ID\n          fResponseInfoFileId:'',\n\n          //处置结果\n          fDisposalResults:'',\n          //处置人\n          fDisposalPeople:'',\n          //处置时间\n          fDisposalDate:'',\n          //处置信息附件ID\n          fDisposalInfoFileId:'',\n\n          //检查意见\n          fInspectionOpinions:'',\n          //检查结果\n          fInspectionResults:'',\n          //检查人\n          fInspectionPeople:'',\n          //检查时间\n          fInspectionDate:'',\n\n          //流程实例ID\n          fActId:'',\n          //下一节点审核人\n          fActPersion:'',\n          //流程状态\n          fActStatus:'',\n          //流程节点\n          fActNode:'',\n          //创建人\n          fCreateBy:'',\n          //创建时间\n          fCreateTime:'',\n      },\n      //对象\n      MRiskManagementInit:{\n          //险情管理ID\n          fId:'',\n          //险情名称\n          fRiskName:'',\n          //险情类别\n          fRiskType:'',\n          //险情编号\n          fRiskNumber:'',\n          //险情发现时间\n          fRiskFindDate:'',\n\n          //险情概述\n          fRiskSummary:'',\n          //记录人\n          fRecordPeople:'',\n          //记录时间\n          fRecordDate:'',\n          //险情信息附件ID\n          fRiskInfoFileId:'',\n\n          //响应情况\n          fResponseSituation:'',\n          //响应人\n          fResponsePeople:'',\n          //响应时间\n          fResponseDate:'',\n          //响应信息附件ID\n          fResponseInfoFileId:'',\n\n          //处置结果\n          fDisposalResults:'',\n          //处置人\n          fDisposalPeople:'',\n          //处置时间\n          fDisposalDate:'',\n          //处置信息附件ID\n          fDisposalInfoFileId:'',\n\n          //检查意见\n          fInspectionOpinions:'',\n          //检查结果\n          fInspectionResults:'',\n          //检查人\n          fInspectionPeople:'',\n          //检查时间\n          fInspectionDate:'',\n\n          //流程实例ID\n          fActId:'',\n          //下一节点审核人\n          fActPersion:'',\n          //流程状态\n          fActStatus:'',\n          //流程节点\n          fActNode:'',\n          //创建人\n          fCreateBy:'',\n          //创建时间\n          fCreateTime:'',\n      },\n      dialogVisible:false,\n      dialogVisible2:false,\n      // 遮罩层\n      loading: false,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 数据\n      data: [],\n\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        fRiskName: '',\n        fActStatus: ''\n      },\n      approvalStatus: [\n        {value:0,label:'待提交'},\n        {value:1,label:'待响应'},\n        {value:2,label:'待排除'},\n        {value:3,label:'待检查'},\n        {value:4,label:'已检查'},\n        {value:5,label:'待修改'},\n        {value:6,label:'未通过'},\n\n      ],\n      //下一处理人 弹窗\n      nextVisible:false,\n      //处理人\n      radio:'',\n      //处理人 集合\n      list:[],\n    };\n  },\n  created() {\n    this.getList()\n    this.personnel()\n  },\n  methods: {\n    addPlafalse(){\n      this.dialogVisible = false\n    },\n    isToString(val){\n      if(val.fRiskType){\n        val.fRiskType = val.fRiskType.toString()\n      }\n      if(val.fInspectionResults){\n        val.fInspectionResults = val.fInspectionResults.toString()\n      }\n    },\n    handleUpdate(val){\n      this.MRiskManagement = val\n      this.isToString(this.MRiskManagement)\n      this.dialogVisible = true\n      console.log(val)\n      if (val.fRiskInfoFileId) {\n        getFileById({id:val.fRiskInfoFileId}).then(result =>{\n          if (result) {\n            this.fileList = [{name:result.data.fOldFileName,url:result.data.fFilePath}];\n            console.log(\"fileList.url:\",this.fileList[0].url);\n            console.log(\"fileList.name:\",this.fileList[0].name);\n          }\n        })\n      }\n      if (val.fResponseInfoFileId) {\n        getFileById({id:val.fResponseInfoFileId}).then(result =>{\n          if (result) {\n            this.fileList1 = [{name:result.data.fOldFileName,url:result.data.fFilePath}];\n            console.log(\"fileList.url:\",this.fileList[0].url);\n            console.log(\"fileList.name:\",this.fileList[0].name);\n          }\n        })\n      }\n      if (val.fDisposalInfoFileId) {\n        getFileById({id:val.fDisposalInfoFileId}).then(result =>{\n          if (result) {\n            this.fileList2 = [{name:result.data.fOldFileName,url:result.data.fFilePath}];\n            console.log(\"fileList.url:\",this.fileList[0].url);\n            console.log(\"fileList.name:\",this.fileList[0].name);\n          }\n        })\n      }\n\n    },\n    handleUpdate2(val){\n      this.MRiskManagement = val\n      this.dialogVisible2 = true\n      this.isToString(this.MRiskManagement)\n      console.log(val)\n      if (val.fRiskInfoFileId) {\n        getFileById({id:val.fRiskInfoFileId}).then(result =>{\n          if (result) {\n            this.fileList = [{name:result.data.fOldFileName,url:result.data.fFilePath}];\n            console.log(\"fileList.url:\",this.fileList[0].url);\n            console.log(\"fileList.name:\",this.fileList[0].name);\n          }\n        })\n      }\n      if (val.fResponseInfoFileId) {\n        getFileById({id:val.fResponseInfoFileId}).then(result =>{\n          if (result) {\n            this.fileList1 = [{name:result.data.fOldFileName,url:result.data.fFilePath}];\n            console.log(\"fileList.url:\",this.fileList[0].url);\n            console.log(\"fileList.name:\",this.fileList[0].name);\n          }\n        })\n      }\n      if (val.fDisposalInfoFileId) {\n        getFileById({id:val.fDisposalInfoFileId}).then(result =>{\n          if (result) {\n            this.fileList2 = [{name:result.data.fOldFileName,url:result.data.fFilePath}];\n            console.log(\"fileList.url:\",this.fileList[0].url);\n            console.log(\"fileList.name:\",this.fileList[0].name);\n          }\n        })\n      }\n\n    },\n\n    //处理人 确定按钮\n    addSubmits() {\n      //提交 保存\n      if(this.MRiskManagement.fActStatus == 0) {\n        this.MRiskManagement.fActStatus = 1\n        this.MRiskManagement.fActPersion = this.radio\n        updateManagement(this.MRiskManagement).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"提交成功\")\n            this.MRiskManagement = this.MRiskManagementInit\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.nextVisible = false\n            this.dialogVisible = false\n            this.getList()\n          }\n        })\n      }\n      //提交 修改\n      else if(this.MRiskManagement.fActStatus == 5) {\n        this.MRiskManagement.fActStatus = 1\n        this.MRiskManagement.fActPersion = this.radio\n        updateManagement(this.MRiskManagement).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"修改提交成功\")\n            this.MRiskManagement = this.MRiskManagementInit\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.nextVisible = false\n            this.dialogVisible = false\n            this.getList()\n          }\n        })\n      }\n      //提交 响应\n      else if(this.MRiskManagement.fActStatus == 1) {\n        this.MRiskManagement.fActStatus = 2\n        this.MRiskManagement.fActPersion = this.radio\n        updateManagement(this.MRiskManagement).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"响应提交成功\")\n            this.MRiskManagement = this.MRiskManagementInit\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.nextVisible = false\n            this.dialogVisible = false\n            this.getList()\n          }\n        })\n      }\n      //提交 处置\n      else if(this.MRiskManagement.fActStatus == 2) {\n        this.MRiskManagement.fActStatus = 3\n        this.MRiskManagement.fActPersion = this.radio\n        updateManagement(this.MRiskManagement).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"排除提交成功\")\n            this.MRiskManagement = this.MRiskManagementInit\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.nextVisible = false\n            this.dialogVisible = false\n            this.getList()\n          }\n        })\n      }\n      //提交 处置\n      else if(this.MRiskManagement.fActStatus == 3) {\n        this.MRiskManagement.fActStatus = 4\n        this.MRiskManagement.fActPersion = this.radio\n        updateManagement(this.MRiskManagement).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"检查提交成功\")\n            this.MRiskManagement = this.MRiskManagementInit\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.nextVisible = false\n            this.dialogVisible = false\n            this.getList()\n          }\n        })\n      }\n\n\n    },\n\n    //获取处理人集合\n    personnel(){\n      console.log('获取处理人集合')\n      getUserList().then(response => {\n         console.log('获取处理人集合执行成功',response)\n        this.list = response.data\n      })\n    },\n\n    //提交 保存的险情\n    addPla() {\n      // this.msgSuccess(\"检查提交成功\")\n      this.addSubmits();\n    },\n    addPla2() {\n      //提交 检查 通过\n      if(this.MRiskManagement.fInspectionResults == 1) {\n        this.MRiskManagement.fActStatus = 4\n        updateManagement(this.MRiskManagement).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"检查提交成功\")\n            this.MRiskManagement = this.MRiskManagementInit\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.dialogVisible = false\n            this.getList()\n          }\n        })\n      }\n      //提交 检查 通过\n      else if(this.MRiskManagement.fInspectionResults == 2) {\n        this.MRiskManagement.fActStatus = 6\n        updateManagement(this.MRiskManagement).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"检查提交成功\")\n              this.fileList = []\n              this.fileList1 = []\n              this.fileList2 = []\n              this.dialogVisible = false\n              this.getList()\n          }\n        })\n      }\n      //提交 检查 驳回\n      else if(this.MRiskManagement.fInspectionResults == 3) {\n        this.MRiskManagement.fActStatus = 5\n        updateManagement(this.MRiskManagement).then(res => {\n          if(res.code == 200) {\n            this.msgSuccess(\"检查提交成功\")\n            this.MRiskManagement = this.MRiskManagementInit\n            this.fileList = []\n            this.fileList1 = []\n            this.fileList2 = []\n            this.nextVisible = false\n            this.dialogVisible = false\n            this.getList()\n          }\n        })\n      }\n\n\n    },\n    //查询 列表数据\n    getList() {\n      listManagement(this.queryParams).then(res => {\n        console.log('查询条件 this.queryParams', this.queryParams)\n        if(res.code == 200) {\n          this.data = res.rows\n          this.total = res.total\n          console.log('查询 列表数据',res)\n        }\n      })\n    },\n\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.queryParams.pageNum = 1\n      this.queryParams.pageSize = 10\n      this.queryParams.fRiskName = ''\n      this.queryParams.fActStatus = ''\n      this.getList();\n    },\n    //弹窗初始化\n    initZi() {\n      this.getList()\n      this.fileList = []\n      this.fileList1 = []\n      this.fileList2 = []\n    },\n\n\n  }\n};\n</script>\n<style lang=\"scss\">\n.color409 {\n  color: #409eff;\n  cursor: pointer;\n}\n</style>\n"]}]}