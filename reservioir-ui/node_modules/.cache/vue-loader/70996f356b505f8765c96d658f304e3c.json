{"remainingRequest":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\runManagement\\security\\Implement.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\runManagement\\security\\Implement.vue","mtime":1640419131157},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1711181251489},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1711181253421},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":1711181252308},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1711181250722},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1711181252689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY29sb3I0MDkgewogIGNvbG9yOiAjNDA5ZWZmOwogIGN1cnNvcjogcG9pbnRlcjsKfQoKLmF2YXRhci11cGxvYWRlciAuZWwtdXBsb2FkIHsKICBib3JkZXI6IDFweCBkYXNoZWQgI2Q5ZDlkOTsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBvdmVyZmxvdzogaGlkZGVuOwp9CgouYXZhdGFyLXVwbG9hZGVyIC5lbC11cGxvYWQ6aG92ZXIgewogIGJvcmRlci1jb2xvcjogIzQwOUVGRjsKfQoKLmF2YXRhci11cGxvYWRlci1pY29uIHsKICBmb250LXNpemU6IDI4cHg7CiAgY29sb3I6ICM4YzkzOWQ7CiAgd2lkdGg6IDExOHB4OwogIGhlaWdodDogMTE4cHg7CiAgbGluZS1oZWlnaHQ6IDExOHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLmF2YXRhciB7CiAgd2lkdGg6IDExOHB4OwogIGhlaWdodDogMTE4cHg7CiAgZGlzcGxheTogYmxvY2s7Cn0KICAuZWwtaW1hZ2Utdmlld2VyX193cmFwcGVyIHsKICAgIHotaW5kZXg6IDk5OTk5OTk5ICFpbXBvcnRhbnQ7CiAgfQoK"},{"version":3,"sources":["Implement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4qCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Implement.vue","sourceRoot":"src/views/runManagement/security","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-row style=\"width: 100%\">\n      <!-- <el-col :span=\"24\">\n        <div style=\"margin: 0 auto;display: flex;align-items: center;justify-content:center;width: 80% ;\">\n          <div style=\"position: relative;\">\n            <img src=\"../../../assets/images/01s.png\"/>\n            <div  style=\"position: absolute;top: 17px;left: 23px;width: 50%;color: #FFFFFF;\">检查实施</div>\n          </div>\n          <div  style=\"position: relative;width: 20%;\" >\n            <img :src=\"require(active>1? '../../../assets/images/04.png':'../../../assets/images/05.png')\" style=\"width: 100%;height: 18px;\"/>\n            <img v-if=\"active==1\" :src=\"require(active==1? '../../../assets/images/07.gif':'../../../assets/images/06.gif')\" style=\"position: absolute;top: 0px;left: 100px;height: 80%;width: 10%;\"/>\n            </div>\n          <div  style=\"position: relative;\">\n            <img :src=\"require(active>1? '../../../assets/images/01s.png':'../../../assets/images/01.png')\" />\n            <div  :style=\"active>1? 'position: absolute;top: 17px;left: 23px;width: 50%;color: #FFFFFF;':'position: absolute;top: 17px;left: 23px;width: 50%;color: #999999;'\">事件上报</div>\n            </div>\n          <div  style=\"position: relative;width: 20%;\">\n            <img :src=\"require(active>2? '../../../assets/images/04.png':'../../../assets/images/05.png')\" style=\"width: 100%;height: 18px;\"/>\n            <img v-if=\"active==2 || active==1\" :src=\"require(active==2? '../../../assets/images/07.gif':'../../../assets/images/06.gif')\" style=\"position: absolute;top: 0px;left: 100px;height: 80%;width: 10%;\"/>\n            </div>\n          <div   style=\"position: relative;\">\n            <img :src=\"require(active>2? '../../../assets/images/01s.png':'../../../assets/images/01.png')\"/>\n            <div  :style=\"active>1? 'position: absolute;top: 17px;left: 23px;width: 50%;color: #FFFFFF;':'position: absolute;top: 17px;left: 23px;width: 50%;color: #999999;'\">事件处理</div>\n            </div>\n            <div  style=\"position: relative;width: 20%;\">\n              <img :src=\"require(active==4? '../../../assets/images/04.png':'../../../assets/images/05.png')\" style=\"width: 100%;height: 18px;\"/>\n              <img v-if=\"active!=4\" :src=\"require(active==3? '../../../assets/images/07.gif':'../../../assets/images/06.gif')\" style=\"position: absolute;top: 0px;left: 100px;height: 80%;width: 10%;\"/>\n              </div>\n            <div   style=\"position: relative;\">\n              <img :src=\"require(active==4? '../../../assets/images/01s.png':'../../../assets/images/01.png')\" />\n              <div  :style=\"active>1? 'position: absolute;top: 10px;left: 23px;width: 50%;color: #FFFFFF;':'position: absolute;top: 9px;left: 23px;width: 50%;color: #999999;'\">安全情况审核</div>\n              </div>\n        </div>\n      </el-col> -->\n      <el-col :span=\"24\">\n        <div style=\"margin: 0 auto;display: flex;align-items: center;width: 100%;justify-content:center;\">\n          <div style=\"position: relative;\">\n            <img style=\"width: 100%;height: 45px;\" src=\"../../../assets/images/jin.png\"/>\n            <div style=\"position: absolute;top: 10px;left: 80px;width: 50%;color: #FFFFFF;\">1.检查实施</div>\n          </div>\n          <div style=\"position: relative;\">\n            <img style=\"width: 100%;height: 45px;\" :src=\"require(active > 5? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\"/>\n            <div\n              :style=\"active > 5? 'position: absolute;top: 10px;left: 80px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 100px;width: 50%;color: #757575;'\">\n              2.事件上报\n            </div>\n          </div>\n          <div style=\"position: relative;\">\n            <img style=\"width: 100%;height: 45px;\" :src=\"require(active >= 7? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\"/>\n            <div\n              :style=\"active >= 7? 'position: absolute;top: 10px;left: 80px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 100px;width: 50%;color: #757575;'\">\n              3.事件处理\n            </div>\n          </div>\n          <div style=\"position: relative;\">\n            <img style=\"width: 100%;height: 45px;\" :src=\"require(active > 7? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\"/>\n            <div\n              :style=\"active > 7? 'position: absolute;top: 10px;left: 80px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 100px;width: 50%;color: #757575;'\">\n              4.安全情况审核\n            </div>\n          </div>\n          <div style=\"position: relative;\">\n            <img style=\"width: 100%;height: 45px;\" :src=\"require(active > 8? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\"/>\n            <div\n              :style=\"active > 8? 'position: absolute;top: 10px;left: 80px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 100px;width: 50%;color: #757575;'\">\n              5.完成\n            </div>\n          </div>\n\n        </div>\n      </el-col>\n    </el-row>\n    <div class=\"from-div\">\n\n      <el-row>\n        <el-col :span=\"24\"\n                class=\"from-div-title\"\n                style=\"background-color: rgba(215, 215, 215, 1); text-align: right;\"\n        >\n          <div style=\"margin-right: 5px\">\n            <el-button v-if=\"active == 5 && formData.fId == null || formData.fId == '' \" type=\"primary\" size=\"small\"\n                       style=\"margin-right: 5px\" @click=\"submit(0)\">暂存\n            </el-button>\n            <el-button v-if=\"active == 5\" type=\"primary\" size=\"small\" style=\"margin-right: 20px\" @click=\"submit(1)\">事件上报\n            </el-button>\n            <el-button v-if=\"active == 6\" type=\"primary\" size=\"small\" style=\"margin-right: 20px\" @click=\"handle\">处置保存\n            </el-button>\n            <el-button v-if=\"active == 7\" type=\"primary\" size=\"small\" style=\"margin-right: 20px\" @click=\"event\">事件保存\n            </el-button>\n            <el-button v-if=\"active == 8\" type=\"primary\" size=\"small\" style=\"margin-right: 20px\" @click=\"check\">审核\n            </el-button>\n          </div>\n        </el-col>\n      </el-row>\n\n      <el-row>\n        <el-col :span=\"24\"\n                class=\"from-div-title\"\n        >\n          安全检查实施表\n        </el-col>\n      </el-row>\n      <el-row class=\"from-border-bottom\">\n        <el-col :span=\"3\" class=\"from-col-left\">\n          计划名称\n        </el-col>\n        <el-col :span=\"8\" style=\"line-height: 40px;\">\n          <div>\n            <div v-if=\"select == 1\">\n              <el-select v-model=\"formData.fPlaneditId\" placeholder=\"请选择\" :disabled=\"active != 5\">\n                <el-option v-for=\"item in tableData\" :key=\"item.fId\" :label=\"item.fPlanName\" :value=\"item.fId\">\n                </el-option>\n              </el-select>\n            </div>\n            <div v-if=\"select == 0\">\n              <el-input v-model=\"planName\" placeholder=\"计划名称\" style=\"width:100%;\" disabled/>\n            </div>\n          </div>\n        </el-col>\n      </el-row>\n\n      <el-row class=\"from-border-bottom\">\n        <el-col :span=\"3\" class=\"from-col\">\n          计划实施\n        </el-col>\n        <el-col :span=\"21\" style=\"height: 50px;\">\n          <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\n            实施内容:\n          </div>\n          <el-input  maxlength=\"500\" show-word-limit  type=\"textarea\" :rows=\"3\" placeholder=\"请输入内容\" v-model=\"formData.fImplContent\"\n                    :disabled=\"active != 5\">\n          </el-input>\n        </el-col>\n      </el-row>\n\n      <el-row class=\"from-border-bottom\">\n        <el-col :span=\"3\" class=\"from-col\" style=\"line-height: 400px;min-height:400px\">\n          检查列表\n        </el-col>\n        <el-col :span=\"21\">\n          <div style=\"width:98%;margin:0 auto;\">\n            <el-button size=\"small\" type=\"primary\" style=\"float:right;margin-top:5px;\" @click=\"addCensor\"\n                       :disabled=\"active != 5\">检查记录\n            </el-button>\n          </div>\n          <div class=\"table-head\" style=\"width:98%;margin:0 auto;margin-top:40px;\">\n            检查记录列表\n          </div>\n          <el-table :data=\"formData.recordList\" style=\"width:98%;margin:0 auto;\" border>\n            <!--            <el-table-column label=\"序号\"  align=\"center\" prop=\"id\" />-->\n            <el-table-column label=\"检查内容\" align=\"center\" prop=\"fCheckContent\" :show-overflow-tooltip=\"true\"/>\n            <el-table-column label=\"检查时间\" width=\"120px;\" align=\"center\" prop=\"fCheckTime\"/>\n            <el-table-column label=\"检查人\" align=\"center\" prop=\"fCheckPersion\" width=\"120px;\"/>\n            <!-- <el-table-column label=\"图片\" align=\"center\" prop=\"fPhoto\"/> -->\n            <el-table-column label=\"图片\" align=\"center\" prop=\"fPhoto\"  width=\"120px;\">\n              <template slot-scope=\"scope\">\n                <el-image :src=\"scope.row.imageUrl\" style=\"width: 120px\" :preview-src-list=\"[scope.row.imageUrl]\"></el-image>\n                <!-- <el-image src=\"../../../assets/images/jin.png\" style=\"width: 200px\" :preview-src-list=\"'../../../assets/images/jin.png' \"></el-image> -->\n\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" width=\"120px;\" align=\"center\" class-name=\"small-padding fixed-width\">\n              <template slot-scope=\"scope\">\n                <el-button size=\"mini\" type=\"text\" @click=\"inspectEdit(scope)\" :disabled=\"active != 5\">编辑</el-button>\n                <el-button size=\"mini\" type=\"text\" @click=\"inspectDelete(scope)\" :disabled=\"active != 5\">删除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-col>\n      </el-row>\n\n      <el-row class=\"from-border-bottom\">\n        <el-col :span=\"3\" class=\"from-col\" style=\"line-height: 400px;min-height:400px\">\n          事件列表\n        </el-col>\n        <el-col :span=\"21\">\n          <div style=\"width:98%;margin:0 auto;\">\n            <el-button size=\"small\" type=\"primary\" style=\"float:right;margin-top:5px;\" @click=\"addHappening\"\n                       :disabled=\"active != 6\">事件记录\n            </el-button>\n          </div>\n          <div class=\"table-head\" style=\"width:98%;margin:0 auto;margin-top:40px;\">\n            事件记录列表\n          </div>\n          <el-table :data=\"recordData\" style=\"width:98%;margin:0 auto;\" border>\n            <el-table-column label=\"事件名称\" align=\"center\" prop=\"fEventName\"  width=\"200px;\"/>\n            <el-table-column label=\"事件等级\" align=\"center\" prop=\"fEventLevel\" width=\"120px;\">\n              <template slot-scope=\"{ row }\">\n                <span v-for=\"item in dict.eventLevel\" v-if=\"row.fEventLevel == item.dictValue\">{{ item.dictLabel }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"事件描述\" align=\"center\" prop=\"fEventContent\"/>\n            <el-table-column label=\"发生时间\" width=\"120px;\" align=\"center\" prop=\"fEventTime\" />\n            <el-table-column label=\"上报人\" align=\"center\" prop=\"fEditPersion\"  />\n            <!-- <el-table-column label=\"图片\" align=\"center\" prop=\"fPhoto\"/> -->\n            <el-table-column label=\"图片\" align=\"center\" prop=\"fPhoto\"  width=\"120px;\">\n              <template slot-scope=\"scope\">\n                <el-image :src=\"scope.row.imageUrl1\" style=\"width: 120px\" :preview-src-list=\"[scope.row.imageUrl1]\"></el-image>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" width=\"120px;\" align=\"center\" class-name=\"small-padding fixed-width\">\n              <template slot-scope=\"scope\">\n                <el-button size=\"mini\" type=\"text\" :disabled=\"active != 6\" @click=\"eventEdit(scope.row)\">编辑</el-button>\n                <el-button size=\"mini\" type=\"text\" :disabled=\"active != 6\" @click=\"eventDelete(scope.row)\">删除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-col>\n      </el-row>\n\n\n      <el-row class=\"from-border-bottom\">\n        <el-col :span=\"3\" class=\"from-col\" style=\"line-height: 500px;min-height:400px\">\n          处置结果\n        </el-col>\n        <el-col :span=\"21\">\n          <div style=\"width:98%;margin:0 auto;\">\n            <el-button size=\"small\" type=\"primary\" style=\"float:right;margin-top:5px;\" @click=\"addHandle\"\n                       :disabled=\"active != 7\">处置上传\n            </el-button>\n          </div>\n          <div class=\"table-head\" style=\"width:98%;margin:0 auto;margin-top:40px;\">\n            处置结果列表\n          </div>\n          <el-table :data=\"handleData\" style=\"width:98%;margin:0 auto;\" border>\n            <!--            <el-table-column label=\"序号\" align=\"center\" prop=\"id\"/>-->\n            <el-table-column label=\"事件名称\" align=\"center\" prpo=\"fEventId\">\n              <template slot-scope=\"{row}\">\n                 <span v-for=\"(item,index) in recordData\" v-if=\"item.fId == row.fEventId\">\n                  {{ item.fEventName }}\n                </span>\n              </template>\n            </el-table-column>\n            <!-- <el-table-column label=\"事件描述\" align=\"center\" width=\"200px;\" prop=\"p2\" /> -->\n            <el-table-column label=\"处置内容\" align=\"center\"  prop=\"fProcessContent\"/>\n            <el-table-column label=\"处置时间\" align=\"center\" width=\"120px;\" prop=\"fProcessTime\"/>\n            <el-table-column label=\"处置人\" align=\"center\" prop=\"fProcessPeople\" width=\"120px;\"/>\n            <el-table-column label=\"处置后图片\" align=\"center\" prop=\"fProcessPhoto\" width=\"120px;\">\n              <template slot-scope=\"scope\">\n                <el-image  :src=\"scope.row.imageUrl2\" style=\"width: 120px\" :preview-src-list=\"[scope.row.imageUrl2]\"></el-image>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" align=\"center\" width=\"180px;\" class-name=\"small-padding fixed-width\">\n              <template slot-scope=\"scope\">\n                <el-button size=\"mini\" type=\"text\" :disabled=\"active != 7\" @click=\"resultEdit(scope.row)\">编辑</el-button>\n                <el-button size=\"mini\" type=\"text\" :disabled=\"active != 7\" @click=\"resultDeleted(scope.row)\">删除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-col>\n      </el-row>\n      <el-row class=\"from-border-bottom\">\n        <el-col :span=\"3\" class=\"from-col\">\n          安检审核\n        </el-col>\n        <el-col :span=\"21\" style=\"height: 50px;\">\n          <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\n            审核意见：\n          </div>\n          <el-input  maxlength=\"500\" show-word-limit  type=\"textarea\" placeholder=\"请输入内容\" :rows=\"3\" v-model=\"formData.fReviewComments\"\n                    :disabled=\"active != 8\">\n          </el-input>\n          <div class=\"from-select\">\n            <div style=\"margin-left: 10px;\">\n              <div style=\"font-size: 16px;font-weight: 700;display:inline;\">\n                审核结果：\n              </div>\n              <el-select v-model=\"formData.fReviewResult\" clearable placeholder=\"请选择\"\n                         :disabled=\"active != 8\">\n                <el-option v-for=\"item in dict.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\"\n                           :value=\"item.dictValue\">\n                </el-option>\n              </el-select>\n\n            </div>\n            <div>\n              <span>审核人：<el-input v-model=\"formData.fReviewPeople\" placeholder=\"审核人\" style=\"width:180px;\"\n                                  :disabled=\"active != 8\"></el-input></span>\n              <div class=\"block\" style=\"display:inline;margin-left:10px;\">\n                <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\"/>\n                <el-date-picker\n                  type=\"date\"\n                  v-model=\"formData.fReviewDate\"\n                  placeholder=\"选择日期\"\n                  format=\"yyyy 年 MM 月 dd 日\"\n                  value-format=\"yyyy-MM-dd HH:mm:ss\"\n                  :disabled=\"active != 8\"\n                >\n                </el-date-picker>\n              </div>\n            </div>\n          </div>\n        </el-col>\n      </el-row>\n    </div>\n\n    <!-- 检查记录 -->\n    <el-dialog title=\"检查记录\" :visible.sync=\"open2\" width=\"700px\" append-to-body>\n      <el-form ref=\"form\" :model=\"checkForm\" :inline=\"true\" class=\"demo-form-inline\"  label-width=\"150px\">\n\n        <el-form-item label=\"检查内容\">\n          <el-input style=\"width: 530px\" v-model=\"checkForm.fCheckContent\" :autosize=\"{ minRows: 4, maxRows: 6}\"\n                   maxlength=\"500\" show-word-limit   type=\"textarea\" placeholder=\"请输入描述内容\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"检查时间\" prop=\"\">\n          <el-date-picker style=\"width:  200px\" v-model=\"checkForm.fCheckTime\" placeholder=\"发生时间\"\n                          format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\"></el-date-picker>\n        </el-form-item>\n\n        <el-form-item label=\"检查人\" prop=\"\">\n          <el-input v-model=\"checkForm.fCheckPersion\" style=\"width:220px;\" placeholder=\"请输入上报人名称\" maxlength=\"50\"/>\n        </el-form-item>\n\n        <el-form-item label=\"上传图片\" prop=\"\">\n          <el-upload\n            class=\"avatar-uploader\"\n\n            :headers=\"GLOBAL.headers()\"\n            :action=\"GLOBAL.httpUrl\"\n            :show-file-list=\"false\"\n            :on-success=\"handleAvatarSuccess\"\n            :before-upload=\"beforeAvatarUpload\">\n            <img v-if=\"checkForm.imageUrl\" :src=\"checkForm.imageUrl\" class=\"avatar\">\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n          </el-upload>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"inspection\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 事件记录 -->\n    <el-dialog title=\"事件记录\" :visible.sync=\"open\" width=\"700px\" append-to-body>\n      <el-form ref=\"form\" :model=\"recordForm\" :inline=\"true\" class=\"demo-form-inline\"  label-width=\"150px\">\n        <el-form-item label=\"事件名称\" prop=\"\">\n          <el-input style=\"width:  200px\" v-model=\"recordForm.fEventName\" placeholder=\"请输入事件名称\" maxlength=\"50\"/>\n        </el-form-item>\n\n        <el-form-item label=\"事件等级\" prop=\"\">\n          <el-select v-model=\"recordForm.fEventLevel\" placeholder=\"请选择事件等级\" style=\"width:220px;\">\n            <el-option v-for=\"item in dict.eventLevel\" :key=\"item.dictValue\" :label=\"item.dictLabel\" :value=\"item.dictValue\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"事件描述\">\n          <el-input style=\"width: 530px\" v-model=\"recordForm.fEventContent\" :autosize=\"{ minRows: 4, maxRows: 6}\"\n                   maxlength=\"500\" show-word-limit   type=\"textarea\" placeholder=\"请输入描述内容\"></el-input>\n        </el-form-item>\n\n\n        <el-form-item label=\"发生时间\" prop=\"\">\n          <el-date-picker style=\"width:  200px\" v-model=\"recordForm.fEventTime\" placeholder=\"发生时间\"\n                          format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\"></el-date-picker>\n        </el-form-item>\n\n        <el-form-item label=\"上报人\" prop=\"\">\n          <el-input v-model=\"recordForm.fEditPersion\" style=\"width:220px;\" placeholder=\"请输入上报人名称\" maxlength=\"50\"/>\n        </el-form-item>\n\n        <el-form-item label=\"处置前图片\" prop=\"\" label-width=\"150px\">\n          <el-upload\n\n            class=\"avatar-uploader\"\n            :headers=\"GLOBAL.headers()\"\n            :action=\"GLOBAL.httpUrl\"\n            :show-file-list=\"false\"\n            :on-success=\"eventList\"\n            :before-upload=\"beforeAvatarUpload\">\n            <img v-if=\"recordForm.imageUrl1\" :src=\"recordForm.imageUrl1\" class=\"avatar\">\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n          </el-upload>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"eventOK\">确 定</el-button>\n        <el-button @click=\"eventCanceled\">取 消</el-button>\n      </div>\n    </el-dialog>\n\n\n    <!-- 处置上传 -->\n    <el-dialog title=\"处置上传\" :visible.sync=\"open1\" width=\"700px\" append-to-body>\n      <el-form ref=\"form\" :model=\"handleForm\" label-position=\"labelPosition\" label-width=\"150px\">\n\n        <el-form-item label=\"事件名称\" prop=\"\">\n          <el-select v-model=\"handleForm.fEventId\" placeholder=\"请选择\">\n            <el-option v-for=\"item in recordData\" :key=\"item.fId\" :label=\"item.fEventName\" :value=\"item.fId\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"处置人\" prop=\"\">\n          <el-input style=\"width: 500px\" v-model=\"handleForm.fProcessPeople\" placeholder=\"请输入处置人名称\"/>\n        </el-form-item>\n\n        <el-form-item label=\"处置内容\">\n          <el-input style=\"width: 500px\" v-model=\"handleForm.fProcessContent\" :autosize=\"{ minRows: 4, maxRows: 6}\"\n                    maxlength=\"500\" show-word-limit  type=\"textarea\" placeholder=\"请输入处置内容\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"处置时间\">\n          <el-date-picker type=\"date\" v-model=\"handleForm.fProcessTime\" maxlength=\"11\" placeholder=\"处置时间\"\n                          format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\">\n          </el-date-picker>\n        </el-form-item>\n\n        <el-form-item label=\"处置后图片\">\n          <el-upload\n\n            class=\"avatar-uploader\"\n            :headers=\"GLOBAL.headers()\"\n            :action=\"GLOBAL.httpUrl\"\n            :show-file-list=\"false\"\n            :on-success=\"resultList\"\n            :before-upload=\"beforeAvatarUpload\">\n            <img v-if=\"handleForm.imageUrl2\" :src=\"handleForm.imageUrl2\" class=\"avatar\">\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n          </el-upload>\n        </el-form-item>\n\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"resultOk\">确 定</el-button>\n        <el-button @click=\"resultCanceled\">取 消</el-button>\n      </div>\n    </el-dialog>\n\n\n<!--    <el-dialog-->\n<!--      title=\"选择处理人\"-->\n<!--      :visible.sync=\"dialogVisible\"-->\n<!--      :modal=\"false\"-->\n<!--      width=\"30%\">-->\n<!--      <el-radio v-model=\"formData.fActPersion\" :label=\"item.userId\" v-for=\"(item,index) in userList\" :key=\"index\">-->\n<!--        {{ item.nickName }}-->\n<!--      </el-radio>-->\n<!--      <span slot=\"footer\" class=\"dialog-footer\">-->\n<!--        <el-button @click=\"dialogVisible = false\">取 消</el-button>-->\n<!--        <el-button type=\"primary\" @click=\"addAndUpdate\">确 定</el-button>-->\n<!--      </span>-->\n<!--    </el-dialog>-->\n\n\n  </div>\n\n</template>\n<script>\nimport {\n  getList\n} from \"@/api/security/planning\";\nimport { addEventRecord, updateEventRecord, delEventRecord, listEventRecord } from \"@/api/security/eventRecord\";\nimport { addProcess, updateProcess, delProcess, listProcess } from \"@/api/security/process\";\n// import {getToken} from \"@/utils/auth\";\nimport {addImpl, updateImpl} from \"@/api/security/impl\";\nimport {\n  getUserList\n} from \"@/api/security/planning\";\nimport {\n  queryDataDictionary,\n  dataQuery\n} from \"@/api/indemnification/training\";\nexport default {\n\n  data() {\n    return {\n      imageUrls:'../../../assets/images/01s.png',\n\n      dict: {\n        eventLevel: [],\n        result: []\n      },\n\n      select: 1,\n\n      planName:'',\n\n      active: 5,\n\n      // dialogVisible: false,\n\n      imageUrl: '',\n\n      imageUrl1: '',\n\n      imageUrl2: '',\n\n      type: '',\n\n      index: '',\n\n      formData: {\n        /** id */\n        fId: null,\n\n        /** 计划编制id */\n        fPlaneditId: null,\n\n        /** 实施内容 */\n        fImplContent: null,\n\n        /** 审核意见 */\n        fReviewComments: null,\n\n        /** 审核结果 0:不同意1：同意 */\n        fReviewResult: null,\n\n        /** 审核人 */\n        fReviewPeople: null,\n\n        /** 审核时间 */\n        fReviewDate: null,\n\n        /** 状态 */\n        fStatus: null,\n\n        /** 创建人 */\n        fCreatePeople: null,\n\n        /** 创建时间 */\n        fCreateTime: null,\n\n        /** 流程实例id */\n        fActId: null,\n\n        // /** 流程下一节点审核人 */\n        // fActPersion: null,\n\n        /** 流程状态 流程状态 1:待审核 2：待审批 3：审批完成 4：驳回 */\n        fActStatus: null,\n\n        /** 流程节点 */\n        fActNode: null,\n\n        /**\n         * 暂存或提交 1提交 0暂存\n         */\n        holdOrSubmit: null,\n\n        /**\n         * 当前登陆人\n         */\n        landingPersonId: null,\n\n        /**\n         * 检查记录集合\n         */\n        recordList: []\n\n      },\n\n      tableData: [],\n\n      checkForm: {\n        imageUrl:null,\n        /** id */fId: null,\n\n        /** 安全检查实施表id */\n        fSecuimpId: null,\n\n        /** 检查内容 */\n        fCheckContent: null,\n\n        /** 检查时间 */\n        fCheckTime: null,\n\n        /** 检查人 */\n        fCheckPersion: null,\n\n        /** 图片 */\n        fPhoto: null,\n\n        /** 状态 0:无效1：有效 */\n        fStatus: null\n      },\n\n      recordForm: {\n        imageUrl1:null,\n        /** id */\n        fId: null,\n\n        /** 安全检查实施表id */\n        fSecuimpId: null,\n\n        /** 事件名称 */\n        fEventName: null,\n\n        /** 事件等级 */\n        fEventLevel: null,\n\n        /** 事件描述 */\n        fEventContent: null,\n\n        /** 发生时间 */\n        fEventTime: null,\n\n        /** 上报人 */\n        fEditPersion: null,\n\n        /** 图片 */\n        fPhoto: null,\n\n        /** 处置内容 */\n        fHandleContent: null,\n\n        /** 处置时间 */\n        fHandleTime: null,\n\n        /** 处置人 */\n        fHandlePersion: null,\n\n        /** 状态 0:无效1：有效 */\n        fStatus: null\n      },\n\n      recordData: [],\n\n      handleForm: {\n        imageUrl2:null,\n        /** id */\n        fId: null,\n\n        /** 事件id */\n        fEventId: null,\n\n        /** 实施id */\n        fImplId: null,\n\n        /** 处置内容 */\n        fProcessContent: null,\n\n        /** 处置人 */\n        fProcessPeople: null,\n\n        /** 处置时间 */\n        fProcessTime: null,\n\n        /** 处置后图片 */\n        fProcessPhoto: null\n\n      },\n\n      handleData: [],\n\n      info: {\n        stockDate: this.getNowTime(),  //日期\n      },\n      open: false,\n      open1: false,\n      open2: false,\n\n      // 文件上传\n      // upload: {\n      //   // 设置上传的请求头部\n      //   headers: {Authorization: \"Bearer \" + getToken()},\n      //   // 上传的地址\n      //   url: process.env.VUE_APP_BASE_API + \"/file/upload\"\n      // },\n      userList: [],\n\n    };\n  },\n  created() {\n    this.getList();\n    this.Personnel();\n    this.queryDataDictionary()\n    this.dataQuery()\n  },\n  methods: {\n\n    init(row,data,type) {\n      this.getList()\n      // 显示流程节点\n      this.active = row.fActStatus\n      this.formData = data\n      // 控制显示输入框\n      this.select = type\n      // 控制显示计划名称\n      this.planName = row.fPlanName\n      // 计划名称\n      this.formData.fPlaneditId = this.formData.fPlaneditId.toString()\n      if (data.recordList) {\n        this.formData.recordList = data.recordList\n      }\n      if (data.eventRecordList) {\n        this.recordData = data.eventRecordList\n      }\n      if (data.eventProcessList) {\n        this.handleData = data.eventProcessList\n      }\n      if (data.fReviewResult) {\n        this.formData.fReviewResult = this.formData.fReviewResult.toString()\n      }\n    },\n\n    addHappening() {\n      this.open = true;\n    },\n    addCensor() {\n      this.type = 0\n      this.open2 = true;\n    },\n    addHandle() {\n      this.open1 = true;\n    },\n    cancel() {\n      this.open = false;\n      this.open1 = false;\n      this.open2 = false;\n    },\n\n    inspection() {\n      if (this.type == 0) {\n        this.formData.recordList.push(this.checkForm);\n      } else {\n        this.formData.recordList[this.index] = this.checkForm\n      }\n      this.open2 = false;\n      this.removeCheckForm();\n    },\n\n    inspectEdit(row) {\n      this.type = 1\n      this.checkForm = row.row\n      this.index = row.$index\n      this.open2 = true\n\n    },\n\n    inspectDelete(row) {\n      this.formData.recordList.splice(row.$index)\n    },\n\n    getList() {\n      getList().then(result => {\n        if (result.code == 200) {\n          this.tableData = result.data\n        }\n      });\n    },\n\n    Personnel() {\n      getUserList().then(response => {\n        this.userList = response.data\n      })\n    },\n\n    queryDataDictionary() {\n      queryDataDictionary().then(res => {\n        this.dict.result = res.data.result\n      });\n    },\n\n    submit(type) {\n      if (this.formData.fPlaneditId == null) {\n        this.$message.error(\"请选择计划名称\")\n        return false\n      } else if (this.formData.fImplContent == null) {\n        this.$message.error(\"请填写实施内容\")\n        return false\n      } else if (this.formData.recordList.length <= 0) {\n        this.$message.error(\"请添加检查记录\")\n        return false\n      }\n      this.formData.holdOrSubmit = type\n      // if (type == 1) {\n      //   this.dialogVisible = true;\n      // } else {\n        this.addAndUpdate()\n      // }\n    },\n\n    handle() {\n      if (this.recordData.length <= 0) {\n        this.msgError(\"请添加事件记录\")\n        return false\n      }\n      this.addAndUpdate();\n    },\n\n    event() {\n      if (this.handleData.length <= 0) {\n        this.msgError(\"请添加处置结果\")\n        return false\n      }\n      this.addAndUpdate();\n    },\n\n    check() {\n      if (this.formData.fReviewComments == null) {\n        this.$message.error(\"请填写审意见\")\n        return false\n      } else if (this.formData.fReviewResult == null) {\n        this.$message.error(\"请选择审核结果\")\n        return false\n      } else if (this.formData.fReviewPeople == null) {\n        this.$message.error(\"请填写审核人\")\n        return false\n      }\n      if (this.formData.fReviewDate == null) {\n        this.$message.error(\"请选择审核时间\")\n        return false\n      }\n      this.addAndUpdate()\n    },\n\n    addAndUpdate() {\n      // if (this.formData.holdOrSubmit == 1) {\n      //   if (this.formData.fActPersion == null) {\n      //     this.$message.error(\"请选择流程下一环节审核人\")\n      //     return false\n      //   }\n      // }\n      if (this.formData.fId != null && this.formData.fId != '') {\n        updateImpl(this.formData).then(res => {\n          if (res.code == 200) {\n            if (this.formData.holdOrSubmit == 1) {\n              this.$message.success(\"安全检查实施提交成功\");\n            } else {\n              this.msgSuccess(\"安全审核实施暂存成功\");\n            }\n            // this.dialogVisible = false;\n            // 调用父组件方法关闭弹窗\n            this.$emit(\"shut\", false)\n            // 调用父组件方法查询列表\n            this.$emit(\"search\")\n          } else {\n            if (this.formData.holdOrSubmit == 1) {\n              this.$message.error(\"安全检查实施提交失败\");\n            } else {\n              this.msgError(\"安全检查实施暂存失败\");\n            }\n          }\n        });\n      } else {\n        addImpl(this.formData).then(res => {\n          if (res.code == 200) {\n            this.$message.success(\"安全检查实施成功\");\n            this.clearForm()\n            // this.dialogVisible = false\n          } else {\n            this.$message.error(\"安全检查实施失败\")\n          }\n        });\n      }\n    },\n\n    dataQuery() {\n      var query = { dictType: 'eventLevel' }\n      dataQuery(query).then(res => {\n        if (res.code == 200) {\n          this.dict.eventLevel = res.data\n        }\n      });\n    },\n\n    //处理默认选中当前日期\n    getNowTime() {\n      var now = new Date();\n      var year = now.getFullYear(); //得到年份\n      var month = now.getMonth(); //得到月份\n      var date = now.getDate(); //得到日期\n      var hour = \" 00:00:00\"; //默认时分秒 如果传给后台的格式为年月日时分秒，就需要加这个，如若不需要，此行可忽略\n      month = month + 1;\n      month = month.toString().padStart(2, \"0\");\n      date = date.toString().padStart(2, \"0\");\n      var defaultDate = `${year}-${month}-${date}${hour}`;\n      console.log(defaultDate)\n      return defaultDate;\n      this.$set(this.info, \"stockDate\", defaultDate);\n    },\n\n    // 检查记录列表图片\n    handleAvatarSuccess(res, file) {\n      this.imageUrl = URL.createObjectURL(file.raw);\n      console.log(1111,this.imageUrl)\n      this.checkForm.fPhoto = res.data.fId\n      this.checkForm.imageUrl = this.imageUrl\n    },\n\n    // 事件列表图片\n    eventList(res, file) {\n      this.imageUrl1 = URL.createObjectURL(file.raw);\n      this.recordForm.fPhoto = res.data.fId\n      this.recordForm.imageUrl1 = this.imageUrl1\n    },\n\n    // 处置结果列表图片\n    resultList(res, file) {\n      this.imageUrl2 = URL.createObjectURL(file.raw);\n      this.handleForm.fProcessPhoto = res.data.fId\n      this.handleForm.imageUrl2 = this.imageUrl2\n    },\n\n    beforeAvatarUpload(file){\n          const isLt100M = file.size / 1024 / 1024 < 100;\n             if (!isLt100M) {\n                    this.$message.error('上传文件大小不能超过 100MB!');\n                    return false\n                }\n          },\n\n    // 新增修改事件记录\n    eventOK() {\n      if (this.recordForm.fId) {\n        console.log('123123123')\n        updateEventRecord(this.recordForm).then(res => {\n          if (res.code == 200) {\n            this.msgSuccess(\"事件记录编辑成功\");\n            this.listEventRecord()\n            this.open = false;\n          } else {\n            this.msgError(\"事件编辑失败\");\n          }\n        });\n      } else {\n        // 安全检查实施表id\n        this.recordForm.fSecuimpId = this.formData.fId;\n        addEventRecord(this.recordForm).then(res => {\n          if (res.code == 200) {\n            this.msgSuccess(\"事件记录新增成功\");\n            this.listEventRecord()\n            this.removeRecordForm()\n            this.open = false\n          } else {\n            this.msgError(\"事件记录新增失败\");\n          }\n        });\n      }\n    },\n\n    // 编辑事件记录\n    eventEdit(row) {\n      this.recordForm = row\n      this.open = true\n    },\n\n    // 删除事件记录\n    eventDelete(row) {\n      this.$confirm('是否确认删除事件记录 编号为\"' + row.fId + '\"的数据项?', \"警告\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(function() {\n        return delEventRecord(row.fId);\n      }).then(() => {\n        this.listEventRecord();\n        this.msgSuccess(\"删除成功\");\n      }).catch(() => {});\n    },\n\n    // 获取事件记录列表\n    listEventRecord() {\n      // 根据实施id查询列表\n      var query = { fSecuimpId: this.formData.fId }\n      listEventRecord(query).then(res => {\n        if (res.code == 200) {\n          this.recordData = res.rows\n        }\n      });\n    },\n\n    // 事件记录弹窗关闭\n    eventCanceled() {\n      this.removeRecordForm()\n      this.open = false\n    },\n\n    // 新增编辑处置结果\n    resultOk() {\n      if (this.handleForm.fId) {\n        updateProcess(this.handleForm).then(res => {\n          if (res.code == 200) {\n            this.msgSuccess(\"处置结果编辑成功\");\n            this.listProcess()\n            this.removeHandleForm()\n            this.open1 = false\n          } else {\n            this.msgError(\"处置结果编辑失败\");\n          }\n        });\n      } else {\n        // 实施表id\n        this.handleForm.fImplId = this.formData.fId\n        addProcess(this.handleForm).then(res => {\n          if (res.code == 200) {\n            this.msgSuccess(\"处置结果新增成功\");\n            this.listProcess();\n            this.removeHandleForm();\n            this.open1 = false;\n          } else {\n            this.msgError(\"处置结果新增失败\");\n          }\n        });\n      }\n    },\n\n    // 编辑处置结果\n    resultEdit(row) {\n      this.handleForm = row\n      this.open1 = true\n    },\n\n    // 删除处置结果\n    resultDeleted(row) {\n      this.$confirm('是否确认删除处置结果 编号为\"' + row.fId + '\"的数据项?', \"警告\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(function() {\n        return delProcess(row.fId);\n      }).then(() => {\n        this.listProcess();\n        this.msgSuccess(\"删除成功\");\n      }).catch(() => {});\n    },\n\n    // 获取处置结果列表\n    listProcess() {\n      var query = { fImplId: this.formData.fId }\n      listProcess(query).then(res => {\n        if (res.code == 200) {\n          this.handleData = res.rows\n        }\n      });\n    },\n\n    // 关闭处置结果弹窗\n    resultCanceled() {\n      this.removeHandleForm()\n      this.open1 = false\n    },\n\n    removeCheckForm() {\n      this.checkForm = {\n        imageUrl:null,\n        /** id */fId: null,\n\n        /** 安全检查实施表id */\n        fSecuimpId: null,\n\n        /** 检查内容 */\n        fCheckContent: null,\n\n        /** 检查时间 */\n        fCheckTime: null,\n\n        /** 检查人 */\n        fCheckPersion: null,\n\n        /** 图片 */\n        fPhoto: null,\n\n        /** 状态 0:无效1：有效 */\n        fStatus: null\n      },\n        this.imageUrl = ''\n    },\n\n    removeRecordForm() {\n      this.recordForm = {\n        /** id */\n        imageUrl1:null,\n        fId: null,\n\n        /** 安全检查实施表id */\n        fSecuimpId: null,\n\n        /** 事件名称 */\n        fEventName: null,\n\n        /** 事件等级 */\n        fEventLevel: null,\n\n        /** 事件描述 */\n        fEventContent: null,\n\n        /** 发生时间 */\n        fEventTime: null,\n\n        /** 上报人 */\n        fEditPersion: null,\n\n        /** 图片 */\n        fPhoto: null,\n\n        /** 处置内容 */\n        fHandleContent: null,\n\n        /** 处置时间 */\n        fHandleTime: null,\n\n        /** 处置人 */\n        fHandlePersion: null,\n\n        /** 状态 0:无效1：有效 */\n        fStatus: null\n      }\n    },\n\n    removeHandleForm() {\n      this.handleForm = {\n        imageUrl2:null,\n        /** id */\n        fId: null,\n\n        /** 事件id */\n        fEventId: null,\n\n        /** 实施id */\n        fImplId: null,\n\n        /** 处置内容 */\n        fProcessContent: null,\n\n        /** 处置人 */\n        fProcessPeople: null,\n\n        /** 处置时间 */\n        fProcessTime: null,\n\n        /** 处置后图片 */\n        fProcessPhoto: null\n\n      }\n    },\n\n    clearForm() {\n      this.formData = {\n        /** id */\n        fId: null,\n\n        /** 计划编制id */\n        fPlaneditId: null,\n\n        /** 实施内容 */\n        fImplContent: null,\n\n        /** 审核意见 */\n        fReviewComments: null,\n\n        /** 审核结果 0:不同意1：同意 */\n        fReviewResult: null,\n\n        /** 审核人 */\n        fReviewPeople: null,\n\n        /** 审核时间 */\n        fReviewDate: null,\n\n        /** 状态 */\n        fStatus: null,\n\n        /** 创建人 */\n        fCreatePeople: null,\n\n        /** 创建时间 */\n        fCreateTime: null,\n\n        /** 流程实例id */\n        fActId: null,\n\n        // /** 流程下一节点审核人 */\n        // fActPersion: null,\n\n        /** 流程状态 流程状态 1:待审核 2：待审批 3：审批完成 4：驳回 */\n        fActStatus: null,\n\n        /** 流程节点 */\n        fActNode: null,\n\n        /**\n         * 暂存或提交 1提交 0暂存\n         */\n        holdOrSubmit: null,\n\n        /**\n         * 当前登陆人\n         */\n        landingPersonId: null,\n\n        /**\n         * 检查记录集合\n         */\n        recordList: []\n      }\n    }\n\n  }\n};\n</script>\n<style lang=\"scss\">\n.color409 {\n  color: #409eff;\n  cursor: pointer;\n}\n\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n\n.avatar-uploader .el-upload:hover {\n  border-color: #409EFF;\n}\n\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 118px;\n  height: 118px;\n  line-height: 118px;\n  text-align: center;\n}\n\n.avatar {\n  width: 118px;\n  height: 118px;\n  display: block;\n}\n  .el-image-viewer__wrapper {\n    z-index: 99999999 !important;\n  }\n\n</style>\n"]}]}