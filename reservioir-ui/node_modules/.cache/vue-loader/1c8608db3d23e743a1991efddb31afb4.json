{"remainingRequest":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\safetyManagement\\engineering\\safety.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\safetyManagement\\engineering\\safety.vue","mtime":1641226348267},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1711181252330},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1711181252689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgaW1wb3J0IHsKICAgIGdldERpY3RCeVR5cGUsCiAgICBzdGFydFdvcmtGbG93LAogICAgdGFza1JldmlldywKICAgIGxhdGVseVJlaW5mb3JjZW1lbnQsCiAgICBsaXN0UmVpbmZvcmNlbWVudCwKICAgIGdldFJlaW5mb3JjZW1lbnQsCiAgICBkZWxSZWluZm9yY2VtZW50LAogICAgYWRkUmVpbmZvcmNlbWVudCwKICAgIHVwZGF0ZVJlaW5mb3JjZW1lbnQKICB9IGZyb20gIkAvYXBpL3NlY3VyaXR5L3JlaW5mb3JjZW1lbnQuanMiOwogIGltcG9ydCB7CiAgICBnZXRVc2VyTGlzdCwKICB9IGZyb20gIkAvYXBpL3NlY3VyaXR5L3BsYW5uaW5nIjsKICBpbXBvcnQgewogICAgZ2V0VG9rZW4KICB9IGZyb20gIkAvdXRpbHMvYXV0aCI7CiAgaW1wb3J0IHsKICAgIGdldEZpbGVCeUlkCiAgfSBmcm9tICJAL2FwaS9maWxlIjsKCiAgZXhwb3J0IGRlZmF1bHQgewoKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdXNlckxpc3Q6IFtdLAogICAgICAgIG5leHRWaXNpYmxlOiBmYWxzZSwKICAgICAgICBhdWRpdDogW10sCiAgICAgICAgZGlzYWJsZWQ6IHRydWUsCiAgICAgICAgLy8g5rC05bqT5aSn5Z2d6Zmk6Zmp5Yqg5Zu6IOihqOagvOaVsOaNrgogICAgICAgIHJlaW5mb3JjZW1lbnRMaXN0OiBbXSwKICAgICAgICByZWluZm9yY2VtZW50OiB7CiAgICAgICAgICBmUHJvamVjdFN0YXJ0RGF0ZTogbnVsbCwKICAgICAgICAgIGZQcm9qZWN0RW5kRGF0ZTogbnVsbCwKICAgICAgICAgIGZQcm9qZWN0TmFtZTogbnVsbCwKICAgICAgICAgIGZQcm9qZWN0RGF0ZTogbnVsbCwKICAgICAgICAgIGZQcm9qZWN0U3VtbWFyeTogbnVsbCwKICAgICAgICAgIGZQcmVwYXJlZEJ5OiBudWxsLAogICAgICAgICAgZlByZXBhcmF0aW9uVGltZTogbnVsbCwKICAgICAgICAgIGZSZWluZm9yY2VtZW50RmlsZUlkOiBudWxsLAogICAgICAgICAgZlJldmlld0NvbW1lbnRzOiBudWxsLAogICAgICAgICAgZlJldmlld1Jlc3VsdDogbnVsbCwKICAgICAgICAgIGZSZXZpZXdQZW9wbGU6IG51bGwsCiAgICAgICAgICBmUmV2aWV3RGF0ZTogbnVsbCwKICAgICAgICAgIGZBdWRpdENvbW1lbnRzOiBudWxsLAogICAgICAgICAgZkF1ZGl0UmVzdWx0OiBudWxsLAogICAgICAgICAgZkF1ZGl0UGVvcGxlOiBudWxsLAogICAgICAgICAgZkF1ZGl0RGF0ZTogbnVsbCwKICAgICAgICAgIGZBY3RJZDogbnVsbCwKICAgICAgICAgIGZBY3RQZXJzaW9uOiBudWxsLAogICAgICAgICAgZkFjdFN0YXR1czogbnVsbCwKICAgICAgICAgIGZBY3ROb2RlOiBudWxsCiAgICAgICAgfSwKICAgICAgICBhY3RpdmU6IDEsCiAgICAgICAgaW5mbzogewogICAgICAgICAgLy8gc3RvY2tEYXRlOiB0aGlzLmdldE5vd1RpbWUoKSwgLy/ml6XmnJ8KICAgICAgICB9LAogICAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICAgIHRleHRhcmVhOiAnJywKICAgICAgICB2YWx1ZTE6ICcnLAogICAgICAgIHZhbHVlMjogJycsCiAgICAgICAgdmFsdWUzOiAnJywKICAgICAgICB2YWx1ZTQ6ICcnLAogICAgICAgIGlucHV0OiAnJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgdGV4dGFyZWExOiAnJywKICAgICAgICB0ZXh0YXJlYTI6ICcnLAogICAgICAgIGZpbGVMaXN0OiBbXQogICAgICB9OwogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICB0aGlzLlBlcnNvbm5lbCgpOwogICAgICB0aGlzLmdldExhdGVseSgpOwogICAgICB0aGlzLmdldEF1ZGl0KCk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBiZWZvcmVBdmF0YXJVcGxvYWQoZmlsZSl7CiAgICAgICAgICAgIGNvbnN0IGlzTHQxMDBNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAxMDA7CiAgICAgICAgICAgICAgIGlmICghaXNMdDEwME0pIHsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOaWh+S7tuWkp+Wwj+S4jeiDvei2hei/hyAxMDBNQiEnKTsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgIGdldEZpbGUoKSB7CiAgICAgICAgY29uc29sZS5sb2coJ2ZpbGVMaXN0ID0gW10nKTsKICAgICAgICB0aGlzLmZpbGVMaXN0ID0gW107CiAgICAgICAgaWYgKHRoaXMucmVpbmZvcmNlbWVudC5mUmVpbmZvcmNlbWVudEZpbGVJZCkgewogICAgICAgICAgZ2V0RmlsZUJ5SWQoewogICAgICAgICAgICBpZDogdGhpcy5yZWluZm9yY2VtZW50LmZSZWluZm9yY2VtZW50RmlsZUlkCiAgICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICAgICAgICB0aGlzLmZpbGVMaXN0ID0gW3sKICAgICAgICAgICAgICAgIG5hbWU6IHJlc3VsdC5kYXRhLmZPbGRGaWxlTmFtZSwKICAgICAgICAgICAgICAgIHVybDogcmVzdWx0LmRhdGEuZkZpbGVQYXRoCiAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgY29uc29sZS5sb2coImZpbGVMaXN0LnVybDoiLCB0aGlzLmZpbGVMaXN0WzBdLnVybCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9LAogICAgICBnZXRBdWRpdCgpIHsKICAgICAgICBnZXREaWN0QnlUeXBlKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmF1ZGl0ID0gcmVzcG9uc2UuZGF0YQogICAgICAgIH0pCiAgICAgIH0sCiAgICAgIFBlcnNvbm5lbCgpIHsKICAgICAgICBnZXRVc2VyTGlzdCgpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy51c2VyTGlzdCA9IHJlc3BvbnNlLmRhdGEKICAgICAgICB9KQogICAgICB9LAogICAgICBhZGRTdWJtaXRzKCkgewogICAgICAgIGNvbnNvbGUubG9nKCJ0aGlzLmF1ZGl0IiwgdGhpcy5hdWRpdCkKICAgICAgICBpZiAodGhpcy5hY3RpdmUgPT0gMSkgewogICAgICAgICAgdGhpcy5vcGVuU3RhcnRXb3JrRmxvdygpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMub3BlblRhc2tSZXZpZXcoKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG9wZW5TdGFydFdvcmtGbG93KCkgewogICAgICAgIGlmICh0aGlzLnJlaW5mb3JjZW1lbnQuZlByb2plY3ROYW1lID09IG51bGwpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+Whq+WGmemhueebruWQjeensCIpCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVpbmZvcmNlbWVudC5mUHJvamVjdFN0YXJ0RGF0ZSA9PSBudWxsKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7floavlhpnpobnnm67lvIDlp4vml7bpl7QiKQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlaW5mb3JjZW1lbnQuZlByb2plY3RFbmREYXRlID09IG51bGwpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+Whq+WGmemhueebruWujOaIkOaXtumXtCIpCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVpbmZvcmNlbWVudC5mUHJvamVjdFN1bW1hcnkgPT0gbnVsbCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+35aGr5YaZ6aG555uu5qaC6L+wIikKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZWluZm9yY2VtZW50LmZQcmVwYXJlZEJ5ID09IG51bGwpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+Whq+WGmee8luWItuS6uiIpCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVpbmZvcmNlbWVudC5mUHJlcGFyYXRpb25UaW1lID09IG51bGwpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+Whq+WGmee8luWItuaXtumXtCIpCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RhcnRXb3JrRmxvdyh0aGlzLnJlaW5mb3JjZW1lbnQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICB0aGlzLm1zZ1N1Y2Nlc3MoIuaPkOS6pOaIkOWKnyIpOwogICAgICAgICAgICB0aGlzLmdldExhdGVseSgpOwogICAgICAgICAgICB0aGlzLm5leHRWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICB9LAogICAgICBvcGVuVGFza1JldmlldygpIHsKICAgICAgICB0YXNrUmV2aWV3KHRoaXMucmVpbmZvcmNlbWVudCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLm1zZ1N1Y2Nlc3MoIuaPkOS6pOaIkOWKnyIpOwogICAgICAgICAgdGhpcy5nZXRMYXRlbHkoKTsKICAgICAgICAgIHRoaXMubmV4dFZpc2libGUgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqLwogICAgICBoYW5kbGVBZGQoKSB7CiAgICAgICAgdGhpcy5hY3RpdmUgPSAxOwogICAgICAgIHRoaXMucmVpbmZvcmNlbWVudCA9IHt9OwogICAgICAgIHRoaXMuZmlsZUxpc3QgPSBbXTsKICAgICAgfSwKICAgICAgLyoqIOafpeivouawtOW6k+Wkp+WdnemZpOmZqeWKoOWbuiDliJfooaggKi8KICAgICAgZ2V0TGlzdCgpIHsKICAgICAgICBsaXN0UmVpbmZvcmNlbWVudCh0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMucmVpbmZvcmNlbWVudExpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOwogICAgICAgIH0pOwogICAgICB9LAogICAgICAvKiog6I635Y+W5pyA6L+RICovCiAgICAgIGdldExhdGVseSgpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIGxhdGVseVJlaW5mb3JjZW1lbnQoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEpewogICAgICAgICAgICB0aGlzLnJlaW5mb3JjZW1lbnQgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmdldEZpbGUoKTsKICAgICAgICAgIGlmICh0aGlzLnJlaW5mb3JjZW1lbnQuZlJldmlld1Jlc3VsdCkgewogICAgICAgICAgICB0aGlzLnJlaW5mb3JjZW1lbnQuZlJldmlld1Jlc3VsdCA9IHRoaXMucmVpbmZvcmNlbWVudC5mUmV2aWV3UmVzdWx0LnRvU3RyaW5nKCk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5yZWluZm9yY2VtZW50LmZBdWRpdFJlc3VsdCkgewogICAgICAgICAgICB0aGlzLnJlaW5mb3JjZW1lbnQuZkF1ZGl0UmVzdWx0ID0gdGhpcy5yZWluZm9yY2VtZW50LmZBdWRpdFJlc3VsdC50b1N0cmluZygpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHRoaXMucmVpbmZvcmNlbWVudC5mQWN0U3RhdHVzID09IDMpIHsKICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSA0OwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlaW5mb3JjZW1lbnQuZkFjdFN0YXR1cyA9PSAyKSB7CiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gMzsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZWluZm9yY2VtZW50LmZBY3RTdGF0dXMgPT0gMSkgewogICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IDI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IDE7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGRpYWxvZyhyb3cpIHsKICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICAgIHRoaXMucmVpbmZvcmNlbWVudCA9IHJvdzsKICAgICAgICBpZiAodGhpcy5yZWluZm9yY2VtZW50LmZSZXZpZXdSZXN1bHQpIHsKICAgICAgICAgIHRoaXMucmVpbmZvcmNlbWVudC5mUmV2aWV3UmVzdWx0ID0gdGhpcy5yZWluZm9yY2VtZW50LmZSZXZpZXdSZXN1bHQudG9TdHJpbmcoKTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMucmVpbmZvcmNlbWVudC5mQXVkaXRSZXN1bHQpIHsKICAgICAgICAgIHRoaXMucmVpbmZvcmNlbWVudC5mQXVkaXRSZXN1bHQgPSB0aGlzLnJlaW5mb3JjZW1lbnQuZkF1ZGl0UmVzdWx0LnRvU3RyaW5nKCk7CiAgICAgICAgfQoKICAgICAgfSwKICAgICAgdXBsb2FkZWRTdWNjZXNzKHJlc3BvbnNlLCBmaWxlLCBmaWxlTGlzdCkgewogICAgICAgIHRoaXMucmVpbmZvcmNlbWVudC5mUmVpbmZvcmNlbWVudEZpbGVJZCA9IHJlc3BvbnNlLmRhdGEuZklkOwogICAgICAgIHRoaXMuZ2V0RmlsZSgpOwogICAgICB9LAogICAgICBoYW5kbGVSZW1vdmUoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgICB0aGlzLkdMT0JBTC5jb21tb25GdW4odGhpcy5yZWluZm9yY2VtZW50LmZSZWluZm9yY2VtZW50RmlsZUlkKTsKICAgICAgICB0aGlzLnJlaW5mb3JjZW1lbnQuZlJlaW5mb3JjZW1lbnRGaWxlSWQgPSAnJzsKICAgICAgfSwKICAgICAgaGFuZGxlUHJldmlldyhmaWxlKSB7CiAgICAgICAgLy8gd2luZG93LmxvY2F0aW9uLmhyZWYgPSB0aGlzLmZpbGVMaXN0WzBdLnVybDsKCQl3aW5kb3cub3Blbih0aGlzLmZpbGVMaXN0WzBdLnVybCk7CiAgICAgIH0sCiAgICAgIGhhbmRsZUV4Y2VlZChmaWxlcywgZmlsZUxpc3QpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoYOW9k+WJjemZkOWItumAieaLqSAxIOS4quaWh+S7tu+8jOacrOasoemAieaLqeS6hiAke2ZpbGVzLmxlbmd0aH0g5Liq5paH5Lu277yM5YWx6YCJ5oup5LqGICR7ZmlsZXMubGVuZ3RoICsgZmlsZUxpc3QubGVuZ3RofSDkuKrmlofku7ZgKTsKICAgICAgfSwKICAgICAgYmVmb3JlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGNvbmZpcm0oYOehruWumuenu+mZpCAke2ZpbGUubmFtZX3vvJ9gKTsKICAgICAgfQogICAgfQogIH07Cg=="},{"version":3,"sources":["safety.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"safety.vue","sourceRoot":"src/views/safetyManagement/engineering","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n\r\n    <el-row class=\"from-top\">\r\n      <el-col :span=\"24\">\r\n        <div style=\"margin: 0 auto;display: flex;align-items: center;width: 100%;justify-content:center;\">\r\n          <div style=\"position: relative;\">\r\n            <img src=\"../../../assets/images/jin.png\" />\r\n            <div style=\"position: absolute;top: 10px;left: 100px;width: 50%;color: #FFFFFF;\">1.编制</div>\r\n          </div>\r\n          <div style=\"position: relative;\">\r\n            <img :src=\"require(active>1? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\" />\r\n            <div\r\n              :style=\"active>1? 'position: absolute;top: 10px;left: 100px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 100px;width: 50%;color: #757575;'\">\r\n              2.审核</div>\r\n          </div>\r\n          <div style=\"position: relative;\">\r\n            <img :src=\"require(active>=3? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\" />\r\n            <div\r\n              :style=\"active>1? 'position: absolute;top: 10px;left: 100px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 100px;width: 50%;color: #757575;'\">\r\n              3.审批</div>\r\n          </div>\r\n          <div style=\"position: relative;\">\r\n            <img :src=\"require(active==4? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\" />\r\n            <div\r\n              :style=\"active>1? 'position: absolute;top: 10px;left: 100px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 100px;width: 50%;color: #757575;'\">\r\n              4.完成</div>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <div class=\"from-div\">\r\n      <el-row>\r\n        <el-col :span=\"24\" class=\"from-div-title\" style=\"background-color: rgba(215, 215, 215, 1); text-align: right;\">\r\n          <div style=\"margin-right: 15px\">\r\n            <!-- <el-button type=\"primary\" size=\"small\" @click>提交</el-button>\r\n            <el-button type=\"primary\" size=\"small\">下载</el-button> -->\r\n            <el-button type=\"primary\" size=\"small\" @click=\"handleAdd\">新建</el-button>\r\n            <el-button type=\"primary\" size=\"small\" @click=\"addSubmits\">提交</el-button>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\" class=\"from-div-title\">\r\n          水库大坝除险加固一览表\r\n        </el-col>\r\n      </el-row>\r\n      <el-row class=\"from-border-bottom\">\r\n        <el-col :span=\"3\" class=\"from-col-left\">\r\n          项目名称\r\n        </el-col>\r\n        <el-col :span=\"8\" class=\"from-border-right\">\r\n          <el-input :disabled=\"active != 1 || reinforcement.fReviewResult\" v-model=\"reinforcement.fProjectName\"\r\n            placeholder=\"请输入内容\"></el-input>\r\n        </el-col>\r\n        <el-col :span=\"3\" class=\"from-col-left\">\r\n          项目时间\r\n        </el-col>\r\n        <el-col :span=\"10\" style=\"text-align: center ;line-height: 40px;\">\r\n          <el-date-picker :disabled=\"active != 1 || reinforcement.fReviewResult\"\r\n            v-model=\"reinforcement.fProjectStartDate\" type=\"date\" style=\"width: 40%;\" placeholder=\"开始时间\">\r\n          </el-date-picker>\r\n          ~\r\n          <el-date-picker :disabled=\"active != 1 || reinforcement.fReviewResult\" v-model=\"reinforcement.fProjectEndDate\"\r\n            type=\"date\" style=\"width: 40%;\" placeholder=\"结束时间\">\r\n          </el-date-picker>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row class=\"from-border-bottom\">\r\n        <el-col :span=\"3\" class=\"from-borderibht\">\r\n          项目概述\r\n        </el-col>\r\n        <el-col :span=\"21\" style=\"height: 400px;\">\r\n          <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n            项目概述：\r\n          </div>\r\n          <el-input   maxlength=\"500\" show-word-limit :disabled=\"active != 1 || reinforcement.fReviewResult\" type=\"textarea\" :rows=\"8\" placeholder=\"请输入内容\"\r\n            v-model=\"reinforcement.fProjectSummary\">\r\n          </el-input>\r\n          <div style=\"display:flex;justify-content:space-between;margin-top: 100px;\">\r\n            <div style=\"width: 200px;margin-top: -60px;margin-left: 20px;\">\r\n              <el-upload style=\"margin-left: 15px;margin-top: 15px\" class=\"upload-demo\" :headers=\"GLOBAL.headers()\"\n               :before-upload = \"beforeAvatarUpload\"\r\n                :action=\"GLOBAL.httpUrl\" :on-preview=\"handlePreview\" :on-remove=\"handleRemove\"\r\n                 multiple :on-success=\"uploadedSuccess\" :show-file-list=\"true\"\r\n                :auto-upload=\"true\" :limit=\"1\" :on-exceed=\"handleExceed\" :file-list=\"fileList\">\r\n                <el-button size=\"small\" type=\"primary\" :disabled=\"active != 1 || reinforcement.fReviewResult\">点击上传</el-button>\r\n                <div slot=\"tip\" class=\"el-upload__tip\" style=\"margin-top: 15px\">上传文件不得超过100M</div>\r\n              </el-upload>\r\n            </div>\r\n            <div style=\"font-size: 20px;margin-right: 10px;margin-top: -5px;\">\r\n              <div style=\"text-align: left\">\r\n                <div style=\"display:inline;\">编制人：<el-input :disabled=\"active != 1 || reinforcement.fReviewResult\"\r\n                    v-model=\"reinforcement.fPreparedBy\" placeholder=\"请输入内容\"\r\n                    style=\"width:220px;border: 1px solid #DCDFE6;\"></el-input>\r\n                </div>\r\n                <div class=\"block\" style=\"transform:translateY(10%)\">\r\n                  <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                  <el-date-picker :disabled=\"active != 1 || reinforcement.fReviewResult\" type=\"datetime\"\r\n                    style=\"border: 1px solid #DCDFE6;\" v-model=\"reinforcement.fPreparationTime\" placeholder=\"选择日期\"\r\n                    format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\">\r\n                  </el-date-picker>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row class=\"from-border-bottom\">\r\n        <el-col :span=\"3\" class=\"from-col\">\r\n          项目审核\r\n        </el-col>\r\n        <el-col :span=\"21\" style=\"height: 50px;\">\r\n          <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n            审核意见：\r\n          </div>\r\n          <el-input  maxlength=\"500\" show-word-limit  :disabled=\"active != 2\" type=\"textarea\" :rows=\"3\" v-model=\"reinforcement.fReviewComments\"\r\n            placeholder=\"请输入内容\">\r\n          </el-input>\r\n          <div class=\"from-select\">\r\n            <div style=\"margin-left: 10px;\">\r\n              <div style=\"font-size: 16px;font-weight: 700;display:inline;\">\r\n                审核结果：\r\n              </div>\r\n              <el-select :disabled=\"active != 2\" v-model=\"reinforcement.fReviewResult\" clearable placeholder=\"请选择\">\r\n                <el-option v-for=\"item in audit.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\"\r\n                  :value=\"item.dictValue\">\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n            <div>\r\n              <span>审核人：<el-input :disabled=\"active != 2\" v-model=\"reinforcement.fReviewPeople\" placeholder=\"请输入内容\"\r\n                  style=\"width:180px;\">\r\n                </el-input></span>\r\n              <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                <el-date-picker :disabled=\"active != 2\" type=\"datetime\" v-model=\"reinforcement.fReviewDate\"\r\n                  placeholder=\"选择日期\" format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\">\r\n                </el-date-picker>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row class=\"from-border-bottom\">\r\n        <el-col :span=\"3\" class=\"from-col\">\r\n          项目审批\r\n        </el-col>\r\n        <el-col :span=\"21\" style=\"height: 50px;\">\r\n          <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n            审批意见：\r\n          </div>\r\n          <el-input  maxlength=\"500\" show-word-limit  :disabled=\"active != 3\" type=\"textarea\" :rows=\"3\" v-model=\"reinforcement.fAuditComments\"\r\n            placeholder=\"请输入内容\">\r\n          </el-input>\r\n          <div class=\"from-select\">\r\n            <div style=\"margin-left: 10px;\">\r\n              <div style=\"font-size: 16px;font-weight: 700;display:inline;\">\r\n                审批结果：\r\n              </div>\r\n              <el-select :disabled=\"active != 3\" v-model=\"reinforcement.fAuditResult\" clearable placeholder=\"请选择\">\r\n                <el-option v-for=\"item in audit.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\"\r\n                  :value=\"item.dictValue\">\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n            <div>\r\n              <span>审批人：<el-input :disabled=\"active != 3\" v-model=\"reinforcement.fAuditPeople\" placeholder=\"请输入内容\"\r\n                  style=\"width:180px;\">\r\n                </el-input></span>\r\n              <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                <el-date-picker :disabled=\"active != 3\" type=\"datetime\" v-model=\"reinforcement.fAuditDate\"\r\n                  placeholder=\"选择日期\" format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\">\r\n                </el-date-picker>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\n\r\n    <div class=\"from-div\" style=\"border: 0px\">\r\n      <div class=\"table-head\" style=\"margin-top:40px;width:100%;margin:0 auto;\">\r\n        除险加固提交记录\r\n      </div>\r\n      <el-table :data=\"reinforcementList\" class=\"from-top\" border style=\"margin:0 auto;width:100%;\">\r\n        <el-table-column label=\" 序号\" align=\"center\" type=\"index\" width=\"300\" />\r\n        <el-table-column label=\"编制时间\" align=\"center\" prop=\"fPreparationTime\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ parseTime(scope.row.fPreparationTime, '{y}-{m}-{d}') }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"编制人\" align=\"center\" prop=\"fPreparedBy\" />\r\n        <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" type=\"text\" @click=\"dialog(scope.row)\">\r\n              查看\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n\r\n\r\n\r\n\r\n    <el-dialog title=\"详情\" :visible.sync=\"dialogVisible\" width=\"1500px\">\r\n      <!--      <el-row class=\"from-top\">-->\r\n      <!--      <el-col :span=\"24\">-->\r\n      <!--        <el-steps :active=\"1\" simple>-->\r\n      <!--          <el-step title=\"编制\" icon=\"el-icon-edit\"></el-step>-->\r\n      <!--          <el-step title=\"审核\" icon=\"el-icon-upload\"></el-step>-->\r\n      <!--          <el-step title=\"审批\" icon=\"el-icon-picture\"></el-step>-->\r\n      <!--        </el-steps>-->\r\n      <!--      </el-col>-->\r\n      <!--    </el-row>-->\r\n      <div class=\"from-div\">\r\n        <el-row>\r\n          <el-col :span=\"24\" class=\"from-div-title\">\r\n            水库大坝除险加固一览表\r\n          </el-col>\r\n        </el-row>\r\n        <el-row class=\"from-border-bottom\">\r\n          <el-col :span=\"3\" class=\"from-col-left\">\r\n            项目名称\r\n          </el-col>\r\n          <el-col :span=\"8\" class=\"from-border-right\">\r\n            <el-input v-model=\"reinforcement.fProjectName\" :disabled=\"disabled\" placeholder=\"请输入内容\"></el-input>\r\n          </el-col>\r\n          <el-col :span=\"3\" class=\"from-col-left\">\r\n            项目时间\r\n          </el-col>\r\n          <el-col :span=\"10\" style=\"text-align: center ;line-height: 40px;\">\r\n            <el-date-picker v-model=\"reinforcement.fProjectStartDate\" type=\"date\" style=\"width: 40%;\"\r\n              placeholder=\"开始时间\" :disabled=\"disabled\">\r\n            </el-date-picker>\r\n            ~\r\n            <el-date-picker v-model=\"reinforcement.fProjectEndDate\" type=\"date\" :disabled=\"disabled\" style=\"width: 40%;\" placeholder=\"结束时间\">\r\n            </el-date-picker>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row class=\"from-border-bottom\">\r\n          <el-col :span=\"3\" class=\"from-borderibht\">\r\n            项目概述\r\n          </el-col>\r\n          <el-col :span=\"21\" style=\"height: 400px;\">\r\n            <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n              项目概述：\r\n            </div>\r\n            <el-input  maxlength=\"500\" show-word-limit  type=\"textarea\" :disabled=\"disabled\" :rows=\"8\" placeholder=\"请输入内容\" v-model=\"reinforcement.fProjectSummary\">\r\n            </el-input>\r\n            <div style=\"display:flex;justify-content:space-between;margin-top: 70px;\">\r\n              <div style=\"width: 200px;margin-left: 20px;\">\r\n                <el-upload class=\"upload-demo\"\n                :headers=\"GLOBAL.headers()\"\n                :action=\"GLOBAL.httpUrl\"\r\n                  :on-preview=\"handlePreview\" :on-remove=\"handleRemove\"  multiple\n                   :before-upload = \"beforeAvatarUpload\"\r\n                  :limit=\"3\" :on-exceed=\"handleExceed\" :file-list=\"fileList\" :disabled=\"disabled\">\r\n                  <el-button size=\"small\" type=\"primary\" :disabled=\"disabled\">点击上传</el-button>\r\n\t\t\t\t  <div slot=\"tip\" class=\"el-upload__tip\" style=\"margin-top: 15px\">上传文件不得超过100M</div>\r\n                </el-upload>\r\n              </div>\r\n              <div style=\"font-size: 20px;margin-right: 10px;margin-top: -5px;\">\r\n                <div style=\"text-align: left\">\r\n                  <div style=\"display:inline;\">编制人：<el-input :disabled=\"disabled\" v-model=\"reinforcement.fPreparedBy\" placeholder=\"请输入内容\"\r\n                      style=\"width:220px;border: 1px solid #DCDFE6;\"></el-input>\r\n                  </div>\r\n                  <div class=\"block\" style=\"transform:translateY(10%)\">\r\n                    <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                    <el-date-picker type=\"datetime\" style=\"border: 1px solid #DCDFE6;\"\r\n                      v-model=\"reinforcement.fPreparationTime\" placeholder=\"选择日期\" format=\"yyyy 年 MM 月 dd 日\"\r\n                      value-format=\"yyyy-MM-dd HH:mm:ss\" :disabled=\"disabled\">\r\n                    </el-date-picker>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-row class=\"from-border-bottom\">\r\n          <el-col :span=\"3\" class=\"from-col\">\r\n            项目审核\r\n          </el-col>\r\n          <el-col :span=\"21\" style=\"height: 50px;\">\r\n            <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n              审核意见：\r\n            </div>\r\n            <el-input  maxlength=\"500\" show-word-limit :disabled=\"disabled\"  type=\"textarea\" :rows=\"3\" v-model=\"reinforcement.fReviewComments\" placeholder=\"请输入内容\">\r\n            </el-input>\r\n            <div class=\"from-select\">\r\n              <div style=\"margin-left: 10px;\">\r\n                <div style=\"font-size: 16px;font-weight: 700;display:inline;\">\r\n                  审核结果：\r\n                </div>\r\n                <el-select v-model=\"reinforcement.fReviewResult\" clearable placeholder=\"请选择\" :disabled=\"disabled\">\r\n                  <el-option v-for=\"item in audit.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\"\r\n                    :value=\"item.dictValue\">\r\n                  </el-option>\r\n                </el-select>\r\n              </div>\r\n              <div>\r\n                <span>审核人：<el-input v-model=\"reinforcement.fReviewPeople\" :disabled=\"disabled\" placeholder=\"请输入内容\" style=\"width:180px;\">\r\n                  </el-input></span>\r\n                <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                  <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                  <el-date-picker type=\"datetime\" v-model=\"reinforcement.fReviewDate\" placeholder=\"选择日期\"\r\n                    format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\" :disabled=\"disabled\">\r\n                  </el-date-picker>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-row class=\"from-border-bottom\">\r\n          <el-col :span=\"3\" class=\"from-col\">\r\n            项目审批\r\n          </el-col>\r\n          <el-col :span=\"21\" style=\"height: 50px;\">\r\n            <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n              审批意见：\r\n            </div>\r\n            <el-input  maxlength=\"500\" show-word-limit :disabled=\"disabled\"  type=\"textarea\" :rows=\"3\" v-model=\"reinforcement.fAuditComments\" placeholder=\"请输入内容\">\r\n            </el-input>\r\n            <div class=\"from-select\">\r\n              <div style=\"margin-left: 10px;\">\r\n                <div style=\"font-size: 16px;font-weight: 700;display:inline;\">\r\n                  审批结果：\r\n                </div>\r\n                <el-select v-model=\"reinforcement.fAuditResult\" clearable placeholder=\"请选择\" :disabled=\"disabled\">\r\n                  <el-option v-for=\"item in audit.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\"\r\n                    :value=\"item.dictValue\">\r\n                  </el-option>\r\n                </el-select>\r\n              </div>\r\n              <div>\r\n                <span>审批人：<el-input v-model=\"reinforcement.fAuditPeople\" :disabled=\"disabled\" placeholder=\"请输入内容\" style=\"width:180px;\">\r\n                  </el-input></span>\r\n                <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                  <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                  <el-date-picker type=\"datetime\" v-model=\"reinforcement.fAuditDate\" placeholder=\"选择日期\"\r\n                    format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\" :disabled=\"disabled\">\r\n                  </el-date-picker>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"dialogVisible = false\">确 定</el-button>\r\n      </span>\r\n\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    getDictByType,\r\n    startWorkFlow,\r\n    taskReview,\r\n    latelyReinforcement,\r\n    listReinforcement,\r\n    getReinforcement,\r\n    delReinforcement,\r\n    addReinforcement,\r\n    updateReinforcement\r\n  } from \"@/api/security/reinforcement.js\";\r\n  import {\r\n    getUserList,\r\n  } from \"@/api/security/planning\";\r\n  import {\r\n    getToken\r\n  } from \"@/utils/auth\";\r\n  import {\r\n    getFileById\r\n  } from \"@/api/file\";\r\n\r\n  export default {\r\n\r\n    data() {\r\n      return {\r\n        userList: [],\r\n        nextVisible: false,\r\n        audit: [],\r\n        disabled: true,\r\n        // 水库大坝除险加固 表格数据\r\n        reinforcementList: [],\r\n        reinforcement: {\r\n          fProjectStartDate: null,\r\n          fProjectEndDate: null,\r\n          fProjectName: null,\r\n          fProjectDate: null,\r\n          fProjectSummary: null,\r\n          fPreparedBy: null,\r\n          fPreparationTime: null,\r\n          fReinforcementFileId: null,\r\n          fReviewComments: null,\r\n          fReviewResult: null,\r\n          fReviewPeople: null,\r\n          fReviewDate: null,\r\n          fAuditComments: null,\r\n          fAuditResult: null,\r\n          fAuditPeople: null,\r\n          fAuditDate: null,\r\n          fActId: null,\r\n          fActPersion: null,\r\n          fActStatus: null,\r\n          fActNode: null\r\n        },\r\n        active: 1,\r\n        info: {\r\n          // stockDate: this.getNowTime(), //日期\r\n        },\r\n        dialogVisible: false,\r\n        textarea: '',\r\n        value1: '',\r\n        value2: '',\r\n        value3: '',\r\n        value4: '',\r\n        input: '',\r\n        value: '',\r\n        textarea1: '',\r\n        textarea2: '',\r\n        fileList: []\r\n      };\r\n    },\r\n    created() {\r\n      this.getList();\r\n      this.Personnel();\r\n      this.getLately();\r\n      this.getAudit();\r\n    },\r\n    methods: {\n      beforeAvatarUpload(file){\n            const isLt100M = file.size / 1024 / 1024 < 100;\n               if (!isLt100M) {\n                      this.$message.error('上传文件大小不能超过 100MB!');\n                      return false\n                  }\n            },\r\n      getFile() {\r\n        console.log('fileList = []');\r\n        this.fileList = [];\r\n        if (this.reinforcement.fReinforcementFileId) {\r\n          getFileById({\r\n            id: this.reinforcement.fReinforcementFileId\r\n          }).then(result => {\r\n            if (result) {\r\n              this.fileList = [{\r\n                name: result.data.fOldFileName,\r\n                url: result.data.fFilePath\r\n              }];\r\n              console.log(\"fileList.url:\", this.fileList[0].url);\r\n            }\r\n          })\r\n        }\r\n      },\r\n      getAudit() {\r\n        getDictByType().then(response => {\r\n          this.audit = response.data\r\n        })\r\n      },\r\n      Personnel() {\r\n        getUserList().then(response => {\r\n          this.userList = response.data\r\n        })\r\n      },\r\n      addSubmits() {\r\n        console.log(\"this.audit\", this.audit)\r\n        if (this.active == 1) {\r\n          this.openStartWorkFlow()\r\n        } else {\r\n          this.openTaskReview();\r\n        }\r\n      },\r\n      openStartWorkFlow() {\r\n        if (this.reinforcement.fProjectName == null) {\r\n          this.$message.error(\"请填写项目名称\")\r\n          return false\r\n        } else if (this.reinforcement.fProjectStartDate == null) {\r\n          this.$message.error(\"请填写项目开始时间\")\r\n          return false\r\n        } else if (this.reinforcement.fProjectEndDate == null) {\r\n          this.$message.error(\"请填写项目完成时间\")\r\n          return false\r\n        } else if (this.reinforcement.fProjectSummary == null) {\r\n          this.$message.error(\"请填写项目概述\")\r\n          return false\r\n        } else if (this.reinforcement.fPreparedBy == null) {\r\n          this.$message.error(\"请填写编制人\")\r\n          return false\r\n        } else if (this.reinforcement.fPreparationTime == null) {\r\n          this.$message.error(\"请填写编制时间\")\r\n          return false\r\n        } else {\r\n          startWorkFlow(this.reinforcement).then(response => {\r\n            this.msgSuccess(\"提交成功\");\r\n            this.getLately();\r\n            this.nextVisible = false;\r\n          });\r\n        }\r\n\r\n      },\r\n      openTaskReview() {\r\n        taskReview(this.reinforcement).then(response => {\r\n          this.msgSuccess(\"提交成功\");\r\n          this.getLately();\r\n          this.nextVisible = false;\r\n        });\r\n      },\r\n      /** 新增按钮操作 */\r\n      handleAdd() {\r\n        this.active = 1;\r\n        this.reinforcement = {};\r\n        this.fileList = [];\r\n      },\r\n      /** 查询水库大坝除险加固 列表 */\r\n      getList() {\r\n        listReinforcement(this.queryParams).then(response => {\r\n          this.reinforcementList = response.rows;\r\n          this.total = response.total;\r\n        });\r\n      },\r\n      /** 获取最近 */\r\n      getLately() {\r\n        this.loading = true;\r\n        latelyReinforcement().then(response => {\n          if(response.data){\n            this.reinforcement = response.data;\n          }\r\n          this.loading = false;\r\n          this.getFile();\r\n          if (this.reinforcement.fReviewResult) {\r\n            this.reinforcement.fReviewResult = this.reinforcement.fReviewResult.toString();\r\n          }\r\n          if (this.reinforcement.fAuditResult) {\r\n            this.reinforcement.fAuditResult = this.reinforcement.fAuditResult.toString();\r\n          }\r\n          if (this.reinforcement.fActStatus == 3) {\r\n            this.active = 4;\r\n          } else if (this.reinforcement.fActStatus == 2) {\r\n            this.active = 3;\r\n          } else if (this.reinforcement.fActStatus == 1) {\r\n            this.active = 2;\r\n          } else {\r\n            this.active = 1;\r\n          }\r\n        });\r\n      },\r\n      dialog(row) {\r\n        this.dialogVisible = true;\r\n        this.reinforcement = row;\n        if (this.reinforcement.fReviewResult) {\n          this.reinforcement.fReviewResult = this.reinforcement.fReviewResult.toString();\n        }\n        if (this.reinforcement.fAuditResult) {\n          this.reinforcement.fAuditResult = this.reinforcement.fAuditResult.toString();\n        }\n\r\n      },\r\n      uploadedSuccess(response, file, fileList) {\r\n        this.reinforcement.fReinforcementFileId = response.data.fId;\r\n        this.getFile();\r\n      },\r\n      handleRemove(file, fileList) {\r\n        this.GLOBAL.commonFun(this.reinforcement.fReinforcementFileId);\r\n        this.reinforcement.fReinforcementFileId = '';\r\n      },\r\n      handlePreview(file) {\r\n        // window.location.href = this.fileList[0].url;\r\n\t\twindow.open(this.fileList[0].url);\r\n      },\r\n      handleExceed(files, fileList) {\r\n        this.$message.warning(`当前限制选择 1 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\r\n      },\r\n      beforeRemove(file, fileList) {\r\n        return this.$confirm(`确定移除 ${file.name}？`);\r\n      }\r\n    }\r\n  };\r\n</script>\r\n<style lang=\"scss\">\r\n  .color409 {\r\n    color: #409eff;\r\n    cursor: pointer;\r\n  }\r\n</style>\n"]}]}