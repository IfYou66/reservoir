{"remainingRequest":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\safetyManagement\\engineering\\supplies.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\safetyManagement\\engineering\\supplies.vue","mtime":1640419132279},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1711181252330},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1711181252689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgbGlzdE1hdGVyaWFsc0RldGFpbCwKICBnZXRNYXRlcmlhbHNEZXRhaWwsCiAgZGVsTWF0ZXJpYWxzRGV0YWlsLAogIGFkZE1hdGVyaWFsc0RldGFpbCwKICB1cGRhdGVNYXRlcmlhbHNEZXRhaWwKfSBmcm9tICJAL2FwaS9zZWN1cml0eS9tYXRlcmlhbHNEZXRhaWwiOwppbXBvcnQgewogIGdldERpY3RCeVR5cGUsCiAgbGlzdE1hdGVyaWFscywKICBnZXRNYXRlcmlhbHMsCiAgZGVsTWF0ZXJpYWxzLAogIGFkZE1hdGVyaWFscywKICB1cGRhdGVNYXRlcmlhbHMsCiAgaW5zZXJ0QWxsTUZsb29kTWF0ZXJpYWxzCn0gZnJvbSAiQC9hcGkvc2VjdXJpdHkvbWF0ZXJpYWxzLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhdWRpdDoge30sCiAgICAgIGZTcGVjaWZpY2F0aW9uOiAnJywKICAgICAgZk1hdGVyaWFsc05hbWU6ICcnLAogICAgICBmQWNjb3VudFBlb3BsZVBsYWNlaG9sZGVyOiAnJywKICAgICAgZkFjY291bnRQZW9wbGVMYWJlbDogJycsCiAgICAgIG1hdGVyaWFsc0RldGFpbFRpdGxlOiAnJywKICAgICAgbWF0ZXJpYWxzRGV0YWlsOiB7fSwKICAgICAgY29tcGFueTogJycsCiAgICAgIGZvcm06IHsKICAgICAgICBudW1iZXI6ICcnLAogICAgICAgIHRpbWU6ICcnLAogICAgICAgIG91dEdvZXI6ICcnLAogICAgICAgIGN1c3RvZGlhbjogJycsCiAgICAgICAgY2hlY2s6ICcnLAogICAgICAgIGFwcHJvdmU6ICcnLAogICAgICAgIHJlbWFyazogJycKICAgICAgfSwKICAgICAgc2V0TWF0ZXJpYWxzQXJyOiBbewogICAgICAgIGZNYXRlcmlhbHNOYW1lOiAnJywKICAgICAgICBmQ2xhc3NpZnk6ICcnLAogICAgICAgIGZTcGVjaWZpY2F0aW9uOiAnJywKICAgICAgICBmRWZmZWN0aXZlOiAnJywKICAgICAgICBmU3RvcmFnZUFkZHJlc3M6ICcnLAogICAgICAgIGZTdG9yYWdlUmVxdWlyZW1lbnQ6ICcnLAogICAgICAgIGZFeHBlY3ROdW06ICcnLAogICAgICAgIGZQdXJwb3NlOiAnJywKICAgICAgICBmTWFudWZhY3R1cmVyOiAnJywKICAgICAgICBmUHJpY2U6ICcnLAogICAgICAgIGZVbml0OiAnJwogICAgICB9XSwKICAgICAgdGV4dGFyZWE6ICcnLAogICAgICB2YWx1ZTE6ICcnLAogICAgICB2YWx1ZTI6ICcnLAogICAgICB2YWx1ZXMyOiAnJywKICAgICAgaW5wdXQ6ICcnLAogICAgICBhZGRBbGxNYXRlcmlhbHM6IGZhbHNlLAogICAgICBkaWFsb2dWaXNpYmxlMTogZmFsc2UsCiAgICAgIGRpYWxvZ1Zpc2libGUyOiBmYWxzZSwKICAgICAgb3Blbk1hdGVyaWFsc0RldGFpbDogZmFsc2UsCiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g5pWw5o2uCiAgICAgIG1hdGVyaWFsc0xpc3Q6IFtdLAogICAgICBsaW5rTGlzdDogW10sCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIGZNYXRlcmlhbHNOYW1lOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5RGV0YWlsUGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgZkZsb29kTWF0ZXJpYWxzSWQ6IHVuZGVmaW5lZCwKICAgICAgICBzdGFydFRpbWU6IHVuZGVmaW5lZCwKICAgICAgICBlbmRUaW1lOiB1bmRlZmluZWQsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TWF0ZXJpYWxzTGlzdCgpOwogICAgdGhpcy5nZXREaXRjKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBuZXdOdWxsKCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIGZNYXRlcmlhbHNOYW1lOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgdGhpcy5nZXRNYXRlcmlhbHNMaXN0KCk7CiAgICB9LAogICAgZ2V0RGl0YygpIHsKICAgICAgZ2V0RGljdEJ5VHlwZSgpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuYXVkaXQgPSByZXNwb25zZS5kYXRhCiAgICAgIH0pCiAgICB9LAogICAgLyoqIOafpeivoueJqei1hOWPsOi0puS/oeaBryDliJfooaggKi8KICAgIGdldERldGFpbExpc3QoKSB7CiAgICAgIGxpc3RNYXRlcmlhbHNEZXRhaWwodGhpcy5xdWVyeURldGFpbFBhcmFtcykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5saW5rTGlzdCA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgLy8gdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOwogICAgICB9KTsKICAgIH0sCiAgICBpbnNlcnRNYXRlcmlhbHMoKSB7CiAgICAgIHZhciBmbGFnID0gdHJ1ZTsKICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc2V0TWF0ZXJpYWxzQXJyLmxlbmd0aDsgaSsrKXsKICAgICAgICBpZih0aGlzLnNldE1hdGVyaWFsc0FycltpXS5mUHJpY2UubGVuZ3RoID09IDApewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+35aGr5Y2V5Lu3IikKICAgICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYoZmxhZyl7CiAgICAgICAgaW5zZXJ0QWxsTUZsb29kTWF0ZXJpYWxzKHRoaXMuc2V0TWF0ZXJpYWxzQXJyKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi54mp6LWE5b2V5YWl5oiQ5YqfIik7CiAgICAgICAgICB0aGlzLmFkZEFsbE1hdGVyaWFscyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5nZXRNYXRlcmlhbHNMaXN0KCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBpbnNlcnRNYXRlcmlhbHNEZXRhaWwoKSB7CiAgICAgIGFkZE1hdGVyaWFsc0RldGFpbCh0aGlzLm1hdGVyaWFsc0RldGFpbCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5tc2dTdWNjZXNzKCLkv67mlLnmiJDlip8iKTsKICAgICAgICB0aGlzLm9wZW5NYXRlcmlhbHNEZXRhaWwgPSBmYWxzZTsKICAgICAgICB0aGlzLm1hdGVyaWFsc0RldGFpbCA9IHt9OwogICAgICAgIHRoaXMuZ2V0TWF0ZXJpYWxzTGlzdCgpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRNYXRlcmlhbHNEZXRhaWwodmFsLCByb3cpIHsKICAgICAgaWYgKHZhbCA9PSAxKSB7CiAgICAgICAgdGhpcy5tYXRlcmlhbHNEZXRhaWxUaXRsZSA9ICLpmLLmsZvnianotYTlhaXlupMiOwogICAgICAgIHRoaXMuZkFjY291bnRQZW9wbGVMYWJlbCA9ICLlhaXlupPkuroiOwogICAgICAgIHRoaXMuZkFjY291bnRQZW9wbGVQbGFjZWhvbGRlciA9ICLor7fovpPlhaXnianotYTlhaXlupPkuroiOwogICAgICB9CiAgICAgIGlmICh2YWwgPT0gMikgewogICAgICAgIHRoaXMubWF0ZXJpYWxzRGV0YWlsVGl0bGUgPSAi6Ziy5rGb54mp6LWE5Ye65bqTIjsKICAgICAgICB0aGlzLmZBY2NvdW50UGVvcGxlTGFiZWwgPSAi5Ye65bqT5Lq6IjsKICAgICAgICB0aGlzLmZBY2NvdW50UGVvcGxlUGxhY2Vob2xkZXIgPSAi6K+36L6T5YWl54mp6LWE5Ye65bqT5Lq6IjsKICAgICAgfQogICAgICB0aGlzLm1hdGVyaWFsc0RldGFpbC5mRmxvb2RNYXRlcmlhbHNJZCA9IHJvdy5mSWQ7CiAgICAgIHRoaXMubWF0ZXJpYWxzRGV0YWlsLmZVbml0ID0gcm93LmZVbml0OwogICAgICB0aGlzLm1hdGVyaWFsc0RldGFpbC5mUHJpY2UgPSByb3cuZlByaWNlOwogICAgICB0aGlzLm1hdGVyaWFsc0RldGFpbC5mQWNjb3VudFR5cGUgPSB2YWw7CiAgICAgIHRoaXMub3Blbk1hdGVyaWFsc0RldGFpbCA9IHRydWU7CiAgICB9LAogICAgLyoqIOafpeivoumYsuaxm+eJqei1hCDliJfooaggKi8KICAgIGdldE1hdGVyaWFsc0xpc3QoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGxpc3RNYXRlcmlhbHModGhpcy5xdWVyeVBhcmFtcykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5tYXRlcmlhbHNMaXN0ID0gcmVzcG9uc2Uucm93czsKICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGRhbmdlcih2YWwpIHsKICAgICAgdGhpcy5zZXRNYXRlcmlhbHNBcnIuc3BsaWNlKDEsIDEpOwogICAgICBjb25zb2xlLmxvZygic3BsaWNlIiwgdGhpcy5zZXRNYXRlcmlhbHNBcnIpOwogICAgfSwKICAgIGFkZE1hdGVyaWFsc0FycigpIHsKICAgICAgdmFyIGl0ZW0gPSB7CiAgICAgICAgZk1hdGVyaWFsc05hbWU6ICcnLAogICAgICAgIGZDbGFzc2lmeTogJycsCiAgICAgICAgZlNwZWNpZmljYXRpb246ICcnLAogICAgICAgIGZFZmZlY3RpdmU6ICcnLAogICAgICAgIGZTdG9yYWdlQWRkcmVzczogJycsCiAgICAgICAgZlN0b3JhZ2VSZXF1aXJlbWVudDogJycsCiAgICAgICAgZkV4cGVjdE51bTogJycsCiAgICAgICAgZlB1cnBvc2U6ICcnLAogICAgICAgIGZNYW51ZmFjdHVyZXI6ICcnLAogICAgICAgIGZQcmljZTogJycsCiAgICAgICAgZlVuaXQ6ICcnCiAgICAgIH0KICAgICAgdGhpcy5zZXRNYXRlcmlhbHNBcnIucHVzaChpdGVtKTsKICAgIH0sCiAgICByZXNldFF1ZXJ5KHZhbCwgcm93KSB7CiAgICAgIGlmICh2YWwgPT0gJzEnKSB7CiAgICAgICAgdGhpcy5hZGRBbGxNYXRlcmlhbHMgPSB0cnVlCiAgICAgIH0KICAgICAgaWYgKHZhbCA9PSAnMicpIHsKICAgICAgICB0aGlzLnF1ZXJ5RGV0YWlsUGFyYW1zLmZGbG9vZE1hdGVyaWFsc0lkID0gcm93LmZJZDsKICAgICAgICB0aGlzLmZNYXRlcmlhbHNOYW1lID0gcm93LmZNYXRlcmlhbHNOYW1lOwogICAgICAgIHRoaXMuZlNwZWNpZmljYXRpb24gPSByb3cuZlNwZWNpZmljYXRpb247CiAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlMSA9IHRydWU7CiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSB1bmRlZmluZWQ7CiAgICAgICAgdGhpcy5lbmRUaW1lID0gdW5kZWZpbmVkOwogICAgICAgIHRoaXMuZ2V0RGV0YWlsTGlzdCgpOwogICAgICB9CiAgICB9LAogICAgY2FuY2VsKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUyID0gZmFsc2U7CiAgICAgIHRoaXMub3Blbk1hdGVyaWFsc0RldGFpbCA9IGZhbHNlOwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIHNlbE1hdGVyaWFscygpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5nZXRNYXRlcmlhbHNMaXN0KCk7CiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLwogICAgc2VsTGlua2xpc3QoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDE7CiAgICAgIHRoaXMuZ2V0RGV0YWlsTGlzdCgpOwogICAgfSwKICB9Cn07Cg=="},{"version":3,"sources":["supplies.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"supplies.vue","sourceRoot":"src/views/safetyManagement/engineering","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" v-show=\"showSearch\" :inline=\"true\">\n      <el-form-item label=\"名称\" prop=\"roleName\">\n        <el-input v-model=\"queryParams.fMaterialsName\" placeholder=\"请输入物资名称\" clearable size=\"small\" style=\"width: 240px\"\n          @keyup.enter.native=\"selMaterials\" />\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"selMaterials\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"newNull\">重置</el-button>\n        <el-button icon=\"el-icon-plus\" type=\"primary\" size=\"mini\" @click=\"resetQuery('1')\">物资录入</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table v-loading=\"loading\" :data=\"materialsList\" style=\"margin:0 auto;\" border>\n      <el-table-column label=\"序号\" align=\"center\" type=\"index\" width=\"75\" />\n      <el-table-column label=\"物资名称\" align=\"center\" width=\"150px;\" prop=\"fMaterialsName\" :show-overflow-tooltip=\"true\">\n      </el-table-column>\n      <el-table-column label=\"分类\" align=\"center\" width=\"120px;\" prop=\"fClassify\">\n        <template slot-scope=\"scope\">\n          <span v-for=\"(item,index) in audit.floodMaterialsType\" :key=\"index\"\n            v-if=\"item.dictValue == scope.row.fClassify\">\n            {{ item.dictLabel }}\n          </span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"规格型号\" align=\"center\" width=\"150px;\" prop=\"fSpecification\" :show-overflow-tooltip=\"true\" />\n      <el-table-column label=\"有效期\" align=\"center\" width=\"200px;\" prop=\"fEffective\" :show-overflow-tooltip=\"true\" />\n      <el-table-column label=\"存储地点\" align=\"center\" width=\"200px;\" prop=\"fStorageAddress\" />\n      <el-table-column label=\"存储要求\" align=\"center\" width=\"200px;\" prop=\"fStorageRequirement\" />\n      <el-table-column label=\"用途\" align=\"center\" width=\"200px;\" prop=\"fPurpose\" />\n      <el-table-column label=\"生产厂家\" align=\"center\" width=\"200px;\" prop=\"fManufacturer\" />\n      <el-table-column label=\"单位\" align=\"center\" width=\"100px;\" prop=\"fUnit\" />\n      <el-table-column label=\"单价\" align=\"center\" width=\"100px;\" prop=\"fPrice\" />\n      <el-table-column label=\"定额数量\" align=\"center\" width=\"100px;\" prop=\"fExpectNum\" />\n      <el-table-column label=\"数量\" align=\"center\" width=\"100px;\" prop=\"fNum\" />\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\" width=\"200\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" type=\"text\" @click=\"resetQuery('2', scope.row)\">台账\n          </el-button>\n          <el-button size=\"mini\" type=\"text\" @click=\"setMaterialsDetail('1', scope.row)\">入库\n          </el-button>\n          <el-button size=\"mini\" type=\"text\" @click=\"setMaterialsDetail('2', scope.row)\">\n            出库\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-dialog title=\"防汛物资录入\" :visible.sync=\"addAllMaterials\" width=\"1500px\">\n      <div class=\"from-div\" style=\"border-bottom: none !important;\">\n        <el-row>\n          <el-col :span=\"24\" class=\"from-div-title\">\n            物资信息采集\n          </el-col>\n        </el-row>\n        <div v-for=\"(items,index) in setMaterialsArr\" :key=\"index\" style=\"margin-bottom: 20px;\">\n          <el-row class=\"from-border-bottom\" style=\"border-top: #a4d5ff 1px solid;\">\n            <el-col :span=\"3\" class=\"from-col-left\">\n              物资名称\n            </el-col>\n            <el-col :span=\"5\" class=\"from-border-right\">\n              <el-input v-model=\"items.fMaterialsName\" placeholder=\"请输入内容\"></el-input>\n            </el-col>\n            <el-col :span=\"2\" class=\"from-col-left\">\n              规格型号\n            </el-col>\n            <el-col :span=\"4\" class=\"from-border-right\">\n              <el-input v-model=\"items.fSpecification\" placeholder=\"请输入内容\"></el-input>\n            </el-col>\n            <el-col :span=\"3\" class=\"from-col-left\">\n              有效期\n            </el-col>\n            <el-col :span=\"6\" style=\"text-align: center ;line-height: 40px;\">\n              <el-date-picker type=\"date\" v-model=\"items.fEffective\" style=\"width:100%;\" placeholder=\"时间\"\n                format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\">\n              </el-date-picker>\n            </el-col>\n          </el-row>\n          <el-row class=\"from-border-bottom\">\n            <el-col :span=\"3\" class=\"from-col-left\">\n              储存地点\n            </el-col>\n            <el-col :span=\"5\" class=\"from-border-right\">\n              <el-input v-model=\"items.fStorageAddress\" placeholder=\"请输入内容\"></el-input>\n            </el-col>\n            <el-col :span=\"2\" class=\"from-col-left\">\n              用途\n            </el-col>\n            <el-col :span=\"4\" class=\"from-border-right\">\n              <el-input v-model=\"items.fPurpose\" placeholder=\"请输入内容\"></el-input>\n            </el-col>\n            <el-col :span=\"3\" class=\"from-col-left\">\n              生产厂家\n            </el-col>\n            <el-col :span=\"7\" class=\"from-col-left\">\n              <el-input v-model=\"items.fManufacturer\" placeholder=\"请输入内容\"></el-input>\n            </el-col>\n          </el-row>\n          <el-row class=\"from-border-bottom\">\n            <el-col :span=\"3\" class=\"from-col-left\">\n              分类\n            </el-col>\n            <el-col :span=\"5\" class=\"from-border-right\">\n              <el-select v-model=\"items.fClassify\" placeholder=\"请选择\">\n                <el-option v-for=\"item in audit.floodMaterialsType\" :key=\"item.dictValue\" :label=\"item.dictLabel\"\n                  :value=\"item.dictValue\">\n                </el-option>\n              </el-select>\n            </el-col>\n            <el-col :span=\"2\" class=\"from-col-left\">\n              存储要求\n            </el-col>\n            <el-col :span=\"4\" class=\"from-border-right\">\n              <el-input v-model=\"items.fStorageRequirement\" placeholder=\"请输入内容\"></el-input>\n            </el-col>\n            <el-col :span=\"3\" class=\"from-col-left\">\n              单位 | 单价\n            </el-col>\n            <el-col :span=\"3\" class=\"from-col-left\">\n              <el-input v-model=\"items.fUnit\" placeholder=\"请输入单位\" width=\"100%\"></el-input>\n            </el-col>\n            <el-col :span=\"4\" class=\"from-col-left\">\n              <el-input v-model=\"items.fPrice\" placeholder=\"请输入单价\" width=\"100%\"></el-input>\n            </el-col>\n          </el-row>\n          <el-row class=\"from-border-bottom\">\n            <el-col :span=\"3\" class=\"from-col-left\">\n              定额数量\n            </el-col>\n            <el-col :span=\"5\" class=\"from-border-right\">\n              <el-input v-model=\"items.fExpectNum\" placeholder=\"请输入内容\"></el-input>\n            </el-col>\n          </el-row>\n          <el-button v-if=\"setMaterialsArr.length>1\" type=\"danger\" @click=\"danger(index)\">-删除</el-button>\n        </div>\n      </div>\n      <div style=\"width: 80%;margin:0 auto;\">\n        <el-button type=\"primary\" @click=\"addMaterialsArr\">+添加</el-button>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addAllMaterials = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"insertMaterials\">提交</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog title=\"预案详情\" :visible.sync=\"dialogVisible1\" width=\"1500px\">\n      <el-form :model=\"queryDetailParams\" ref=\"queryForm\" v-show=\"showSearch\" :inline=\"true\">\n        <el-form-item label=\"时间\" prop=\"roleName\">\n          <el-date-picker type=\"date\" v-model=\"queryDetailParams.startTime\" style=\"width:200px;\" placeholder=\"结束时间\"\n            format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\">\n          </el-date-picker>\n          ~\n          <el-date-picker type=\"date\" v-model=\"queryDetailParams.endTime\" style=\"width:200px;\" placeholder=\"结束时间\"\n            format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\">\n          </el-date-picker>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"selLinklist\">搜索</el-button>\n        </el-form-item>\n      </el-form>\n      <el-table v-loading=\"loading\" :data=\"linkList\" border>\n        <el-table-column label=\"序号\" align=\"center\" type=\"index\" width=\"75\" />\n        <el-table-column width=\"100px\" label=\"操作类型\" align=\"center\" prop=\"fAccountType\" :show-overflow-tooltip=\"true\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.fAccountType == 1\">入库</span>\n            <span v-else>出库 </span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"时间\" width=\"200px\" align=\"center\" prop=\"fAccountDate\" :show-overflow-tooltip=\"true\" />\n        <!-- <el-table-column label=\"名称\" align=\"center\" :prop=\"fMaterialsName\" width=\"230\" /> -->\n        <el-table-column width=\"100px\" label=\"名称\" align=\"center\" :show-overflow-tooltip=\"true\">\n          <span>{{ fMaterialsName }}</span>\n        </el-table-column>\n        <el-table-column width=\"100px\" label=\"名称\" align=\"center\" :show-overflow-tooltip=\"true\">\n          <span>{{ fSpecification }}</span>\n        </el-table-column>\n        <el-table-column label=\"单位\" align=\"center\" prop=\"fUnit\" width=\"100\" />\n        <el-table-column label=\"数量\" align=\"center\" prop=\"fAccountNum\" />\n        <el-table-column label=\"单价\" align=\"center\" prop=\"fPrice\" />\n        <el-table-column label=\"金额\" align=\"center\" prop=\"fTotalPrice\" />\n        <el-table-column label=\"备注\" align=\"center\" prop=\"fRemarks\" width=\"300\" />\n      </el-table>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"dialogVisible1 = false\">关闭</el-button>\n      </span>\n    </el-dialog>\n\n    <el-dialog :title=\"materialsDetailTitle\" :visible.sync=\"openMaterialsDetail\" width=\"700px\">\n      <el-form ref=\"form\" :model=\"materialsDetail\" :rules=\"materialsDetail\" label-width=\"120px\" :inline=\"true\"\n        class=\"demo-form-inline\">\n        <el-form-item label=\"单号\" prop=\"\">\n          <el-input style=\"width:200px;\" v-model=\"materialsDetail.fAccountCode\" placeholder=\"请输入单号\" />\n        </el-form-item>\n        <el-form-item label=\"数量\" prop=\"\">\n          <el-input style=\"width:200px;\" v-model=\"materialsDetail.fAccountNum\" placeholder=\"请输入数量\" />\n        </el-form-item>\n        <el-form-item label=\"单位\" prop=\"\">\n          <el-input readonly style=\"width:200px;\" v-model=\"materialsDetail.fUnit\" placeholder=\"请输入单位\" />\n        </el-form-item>\n        <el-form-item label=\"时间\" prop=\"\">\n          <el-date-picker type=\"date\" v-model=\"materialsDetail.fAccountDate\" style=\"width:200px;\" placeholder=\"时间\"\n            format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item :label=\"fAccountPeopleLabel\" prop=\"\">\n          <el-input style=\"width:200px;\" v-model=\"materialsDetail.fAccountPeople\"\n            :placeholder=\"fAccountPeoplePlaceholder\" />\n        </el-form-item>\n        <el-form-item label=\"保管人\" prop=\"\">\n          <el-input style=\"width:200px;\" v-model=\"materialsDetail.fSafekeepingPeople\" placeholder=\"请输入物资保管人\" />\n        </el-form-item>\n        <el-form-item label=\"审核人\" prop=\"\">\n          <el-input style=\"width:200px;\" v-model=\"materialsDetail.fReviewPeople\" placeholder=\"请输入物资审核人\" />\n        </el-form-item>\n        <el-form-item label=\"批准人\" prop=\"\">\n          <el-input style=\"width:200px;\" v-model=\"materialsDetail.fAuditPeople\" placeholder=\"请输入物资批准人\" />\n        </el-form-item>\n        <el-form-item label=\"备注\">\n          <el-input style=\"width: 510px;\" v-model=\"materialsDetail.fRemarks\" :autosize=\"{ minRows: 4, maxRows: 6}\"\n            maxlength=\"500\" show-word-limit   type=\"textarea\" placeholder=\"请输入备注内容\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"insertMaterialsDetail\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"queryParams.pageNum\" :limit.sync=\"queryParams.pageSize\" />\n  </div>\n</template>\n\n<script>\n  import {\n    listMaterialsDetail,\n    getMaterialsDetail,\n    delMaterialsDetail,\n    addMaterialsDetail,\n    updateMaterialsDetail\n  } from \"@/api/security/materialsDetail\";\n  import {\n    getDictByType,\n    listMaterials,\n    getMaterials,\n    delMaterials,\n    addMaterials,\n    updateMaterials,\n    insertAllMFloodMaterials\n  } from \"@/api/security/materials.js\";\n  export default {\n    data() {\n      return {\n        audit: {},\n        fSpecification: '',\n        fMaterialsName: '',\n        fAccountPeoplePlaceholder: '',\n        fAccountPeopleLabel: '',\n        materialsDetailTitle: '',\n        materialsDetail: {},\n        company: '',\n        form: {\n          number: '',\n          time: '',\n          outGoer: '',\n          custodian: '',\n          check: '',\n          approve: '',\n          remark: ''\n        },\n        setMaterialsArr: [{\n          fMaterialsName: '',\n          fClassify: '',\n          fSpecification: '',\n          fEffective: '',\n          fStorageAddress: '',\n          fStorageRequirement: '',\n          fExpectNum: '',\n          fPurpose: '',\n          fManufacturer: '',\n          fPrice: '',\n          fUnit: ''\n        }],\n        textarea: '',\n        value1: '',\n        value2: '',\n        values2: '',\n        input: '',\n        addAllMaterials: false,\n        dialogVisible1: false,\n        dialogVisible2: false,\n        openMaterialsDetail: false,\n        // 遮罩层\n        loading: false,\n        // 显示搜索条件\n        showSearch: true,\n        // 总条数\n        total: 0,\n        // 数据\n        materialsList: [],\n        linkList: [],\n        // 查询参数\n        queryParams: {\n          pageNum: 1,\n          pageSize: 10,\n          fMaterialsName: undefined\n        },\n        // 查询参数\n        queryDetailParams: {\n          pageNum: 1,\n          pageSize: 10,\n          fFloodMaterialsId: undefined,\n          startTime: undefined,\n          endTime: undefined,\n        },\n      };\n    },\n    created() {\n      this.getMaterialsList();\n      this.getDitc();\n    },\n    methods: {\n      newNull() {\n        this.queryParams = {\n          pageNum: 1,\n          pageSize: 10,\n          fMaterialsName: undefined\n        },\n        this.getMaterialsList();\n      },\n      getDitc() {\n        getDictByType().then(response => {\n          this.audit = response.data\n        })\n      },\n      /** 查询物资台账信息 列表 */\n      getDetailList() {\n        listMaterialsDetail(this.queryDetailParams).then(response => {\n          this.linkList = response.rows;\n          // this.total = response.total;\n        });\n      },\n      insertMaterials() {\n        var flag = true;\n        for(var i = 0; i < this.setMaterialsArr.length; i++){\n          if(this.setMaterialsArr[i].fPrice.length == 0){\n            this.$message.error(\"请填单价\")\n            flag = false;\n          }\n        }\n        if(flag){\n          insertAllMFloodMaterials(this.setMaterialsArr).then(response => {\n            this.msgSuccess(\"物资录入成功\");\n            this.addAllMaterials = false;\n            this.getMaterialsList();\n          });\n        }\n      },\n      insertMaterialsDetail() {\n        addMaterialsDetail(this.materialsDetail).then(response => {\n          this.msgSuccess(\"修改成功\");\n          this.openMaterialsDetail = false;\n          this.materialsDetail = {};\n          this.getMaterialsList();\n        });\n      },\n      setMaterialsDetail(val, row) {\n        if (val == 1) {\n          this.materialsDetailTitle = \"防汛物资入库\";\n          this.fAccountPeopleLabel = \"入库人\";\n          this.fAccountPeoplePlaceholder = \"请输入物资入库人\";\n        }\n        if (val == 2) {\n          this.materialsDetailTitle = \"防汛物资出库\";\n          this.fAccountPeopleLabel = \"出库人\";\n          this.fAccountPeoplePlaceholder = \"请输入物资出库人\";\n        }\n        this.materialsDetail.fFloodMaterialsId = row.fId;\n        this.materialsDetail.fUnit = row.fUnit;\n        this.materialsDetail.fPrice = row.fPrice;\n        this.materialsDetail.fAccountType = val;\n        this.openMaterialsDetail = true;\n      },\n      /** 查询防汛物资 列表 */\n      getMaterialsList() {\n        this.loading = true;\n        listMaterials(this.queryParams).then(response => {\n          this.materialsList = response.rows;\n          this.total = response.total;\n          this.loading = false;\n        });\n      },\n      danger(val) {\n        this.setMaterialsArr.splice(1, 1);\n        console.log(\"splice\", this.setMaterialsArr);\n      },\n      addMaterialsArr() {\n        var item = {\n          fMaterialsName: '',\n          fClassify: '',\n          fSpecification: '',\n          fEffective: '',\n          fStorageAddress: '',\n          fStorageRequirement: '',\n          fExpectNum: '',\n          fPurpose: '',\n          fManufacturer: '',\n          fPrice: '',\n          fUnit: ''\n        }\n        this.setMaterialsArr.push(item);\n      },\n      resetQuery(val, row) {\n        if (val == '1') {\n          this.addAllMaterials = true\n        }\n        if (val == '2') {\n          this.queryDetailParams.fFloodMaterialsId = row.fId;\n          this.fMaterialsName = row.fMaterialsName;\n          this.fSpecification = row.fSpecification;\n          this.dialogVisible1 = true;\n          this.startTime = undefined;\n          this.endTime = undefined;\n          this.getDetailList();\n        }\n      },\n      cancel() {\n        this.dialogVisible2 = false;\n        this.openMaterialsDetail = false;\n      },\n      /** 搜索按钮操作 */\n      selMaterials() {\n        this.queryParams.pageNum = 1;\n        this.getMaterialsList();\n      },\n      /** 搜索按钮操作 */\n      selLinklist() {\n        this.queryParams.pageNum = 1;\n        this.getDetailList();\n      },\n    }\n  };\n</script>\n<style lang=\"scss\">\n  .color409 {\n    color: #409eff;\n    cursor: pointer;\n  }\n</style>\n"]}]}