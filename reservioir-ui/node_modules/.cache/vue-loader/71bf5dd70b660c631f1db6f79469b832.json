{"remainingRequest":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\reservoir.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\reservoir.vue","mtime":1641651455977},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1711181252330},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1711181252689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAicmVzZXJ2b2lyIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGR0TWFwOiB7fSwKICAgICAgYWN0aXZlSW5kZXg6ICcxJywKICAgICAgbWFya2VyczogW10sCiAgICAgIHJlc2Vydm9pcnM6IHJlcXVpcmUoJ0AvYXBpL2ZsYXNoL3Jlc2Vydm9pcnMuanNvbicpLmxpc3Quc2xpY2UoMSksCiAgICAgIGRlZmF1bHRQcm9wczogewogICAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nLAogICAgICAgIGxhYmVsOiAnbGFiZWwnCiAgICAgIH0sCiAgICAgIG1hcDogdW5kZWZpbmVkLAogICAgICBwb2ludDogIiIsCiAgICAgIEJNYXA6IHVuZGVmaW5lZCwKICAgICAgcHJldmlvdXNQb2ludDogdW5kZWZpbmVkLAogICAgICBsZXZlbDogMTIsCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIOWIneWni+WMluWkqeWcsOWbvgogICAgd2luZG93LmVudGVyUmVzID0gdGhpcy5lbnRlclJlczsKICB9LAogIHdhdGNoOiB7fSwKICBtZXRob2RzOiB7CiAgICBtYXBSZWFkeSh7Qk1hcCwgbWFwfSkgewogICAgICBtYXAuYWRkQ29udHJvbChuZXcgQk1hcC5PdmVydmlld01hcENvbnRyb2woKSk7ICAgICAgICAgICAgICAvL+a3u+WKoOe8qeeVpeWcsOWbvuaOp+S7tgogICAgICBtYXAuZW5hYmxlU2Nyb2xsV2hlZWxab29tKCk7CiAgICAgIG1hcC5hZGRDb250cm9sKG5ldyBCTWFwLk5hdmlnYXRpb25Db250cm9sKHsKICAgICAgICB0eXBlOiBCTUFQX05BVklHQVRJT05fQ09OVFJPTF9MQVJHRSwKICAgICAgICBhbmNob3I6IEJNQVBfQU5DSE9SX1RPUF9SSUdIVCwKICAgICAgICBvZmZzZXQ6IG5ldyBCTWFwLlNpemUoNDAsIDI1MCkKICAgICAgfSkpOwogICAgICBsZXQgYmRhcnkgPSBuZXcgQk1hcC5Cb3VuZGFyeSgpOwogICAgICBiZGFyeS5nZXQoJ+a7leW3nuW4gicsIGZ1bmN0aW9uIChycykgeyAgICAgICAvL+iOt+WPluihjOaUv+WMuuWfnwogICAgICAgIGxldCBFTl9KVyA9ICIxODAsIDkwOyI7ICAgICAgICAgLy/kuJzljJfop5IKICAgICAgICBsZXQgTldfSlcgPSAiLTE4MCwgIDkwOyI7ICAgICAgIC8v6KW/5YyX6KeSCiAgICAgICAgbGV0IFdTX0pXID0gIi0xODAsIC05MDsiOyAgICAgICAvL+ilv+WNl+inkgogICAgICAgIGxldCBTRV9KVyA9ICIxODAsIC05MDsiOyAgICAgICAgLy/kuJzljZfop5IKICAgICAgICBsZXQgcGx5MSA9IG5ldyBCTWFwLlBvbHlnb24ocnMuYm91bmRhcmllc1swXSArIFNFX0pXICsgU0VfSlcgKyBXU19KVyArIE5XX0pXICsgRU5fSlcgKyBTRV9KVywgewogICAgICAgICAgc3Ryb2tlQ29sb3I6ICJub25lIiwKICAgICAgICAgIGZpbGxDb2xvcjogInJnYmEoNDgsNjUsODYsMC40NykiLAogICAgICAgICAgZmlsbE9wYWNpdHk6IDEsCiAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjUKICAgICAgICB9KTsgLy/lu7rnq4vlpJrovrnlvaLopobnm5bniakKICAgICAgICBtYXAuYWRkT3ZlcmxheShwbHkxKTsKICAgICAgfSk7CiAgICAgIC8vIOmAieaLqeS4gOS4que7j+e6rOW6puS9nOS4uuS4reW/g+eCuQogICAgICB0aGlzLnBvaW50ID0gbmV3IEJNYXAuUG9pbnQoMTE3LjE2MDIwMiwgMzUuMTE3NDM4KTsKICAgICAgdGhpcy5tYXAgPSBtYXA7CiAgICAgIHRoaXMuQk1hcCA9IEJNYXA7CiAgICAgIHRoaXMubWFwLmNlbnRlckFuZFpvb20odGhpcy5wb2ludCwgdGhpcy5sZXZlbCk7CiAgICAgIHRoaXMuY3JlYXRlTWFya2VycygpOwogICAgfSwKCiAgICBnZW5lcmF0ZUljb24oaXRlbSl7CiAgICAgIGlmICghaXRlbSkgcmV0dXJuOwogICAgICBsZXQgcG9zID0gOSArIGl0ZW0udHlwZTsKICAgICAgcmV0dXJuIG5ldyBCTWFwLkljb24oImh0dHA6Ly9hcGkubWFwLmJhaWR1LmNvbS9pbWcvbWFya2Vycy5wbmciLCBuZXcgQk1hcC5TaXplKDIzLCAyNSksIHsKICAgICAgICAgIG9mZnNldDogbmV3IEJNYXAuU2l6ZSgxMCwgMjUpLCAvLyDmjIflrprlrprkvY3kvY3nva4KICAgICAgICAgIGltYWdlT2Zmc2V0OiBuZXcgQk1hcC5TaXplKDAsIDAgLSBwb3MgKiAyNSkgLy8g6K6+572u5Zu+54mH5YGP56e75L2/55So5bem5L6n55qE5Zu+54mHCiAgICAgIH0pOwogICAgfSwKCiAgICBjcmVhdGVNYXJrZXJzKCkgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVzZXJ2b2lycy5sZW5ndGg7IGkrKykgewogICAgICAgIGxldCBpdGVtID0gdGhpcy5yZXNlcnZvaXJzW2ldOwogICAgICAgIGxldCBwb2ludCA9IG5ldyBCTWFwLlBvaW50KGl0ZW0ubG9uLCBpdGVtLmxhdCk7CiAgICAgICAgbGV0IG1hcmtlciA9IG5ldyBCTWFwLk1hcmtlcihwb2ludCwge2ljb246dGhpcy5nZW5lcmF0ZUljb24oaXRlbSl9KTsvLyDliJvlu7rmoIfms6gKCiAgICAgICAgdGhpcy5tYXAuYWRkT3ZlcmxheShtYXJrZXIpOwogICAgICAgIGxldCBpbmZvV2luZG93ID0gbmV3IEJNYXAuSW5mb1dpbmRvdygpOwogICAgICAgIGxldCBzQ29udGVudCA9IHRoaXMuZ2VuZXJhdGVJbmZvV2luZG93KGl0ZW0pOwoKICAgICAgICBpbmZvV2luZG93LnNldENvbnRlbnQoc0NvbnRlbnQpOwogICAgICAgIG1hcmtlci5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIG1hcmtlci5vcGVuSW5mb1dpbmRvdyhpbmZvV2luZG93KTsKICAgICAgICB9KTsKICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgbGV0IGxhYmVsID0gdGhpcy5nZW5lcmF0ZUxhYmVsKGl0ZW0pOwoKICAgICAgICBtYXJrZXIuYWRkRXZlbnRMaXN0ZW5lcigib25tb3VzZW92ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAodGhhdC5wcmV2aW91c1BvaW50KSB7CiAgICAgICAgICAgIHRoYXQucHJldmlvdXNQb2ludC5zZXRBbmltYXRpb24obnVsbCk7CiAgICAgICAgICAgIHRoYXQubWFwLnJlbW92ZU92ZXJsYXkodGhhdC5wcmV2aW91c1BvaW50LmdldExhYmVsKCkpOwogICAgICAgICAgfQogICAgICAgICAgbWFya2VyLnNldExhYmVsKGxhYmVsKTsKICAgICAgICAgIGxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGF0LmZpbmRNYXJrZXIoZGF0YS5jdXJyZW50VGFyZ2V0LmNvbnRlbnQpOwogICAgICAgICAgICBpdGVtLm9wZW5JbmZvV2luZG93KGl0ZW0ud2luKTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhhdC5wcmV2aW91c1BvaW50ID0gbWFya2VyOwogICAgICAgICAgbWFya2VyLnNldEFuaW1hdGlvbihCTUFQX0FOSU1BVElPTl9CT1VOQ0UpOwogICAgICAgIH0pOwogICAgICAgIG1hcmtlci53aW4gPSBpbmZvV2luZG93OwogICAgICAgIG1hcmtlci5yZXNlcnZvaXIgPSB0aGlzLnJlc2Vydm9pcnNbaV07CiAgICAgICAgdGhpcy5tYXJrZXJzLnB1c2gobWFya2VyKTsKICAgICAgfQogICAgICBsZXQgZmlyc3RXaW5kb3cgPSBuZXcgQk1hcC5JbmZvV2luZG93KCk7CiAgICAgIGZpcnN0V2luZG93LnNldENvbnRlbnQodGhpcy5nZW5lcmF0ZUluZm9XaW5kb3codGhpcy5yZXNlcnZvaXJzWzFdKSk7CiAgICB9LAoKICAgIGdlbmVyYXRlTGFiZWwoaXRlbSkgewogICAgICBsZXQgbGFiZWwgPSBuZXcgdGhpcy5CTWFwLkxhYmVsKGl0ZW0ubGFiZWwsIHsib2Zmc2V0IjogbmV3IHRoaXMuQk1hcC5TaXplKDIwLCAtMjApfSk7CiAgICAgIGxhYmVsLnNldFN0eWxlKHsKICAgICAgICBjb2xvcjogIiMwMDBiOTciLAogICAgICAgIGZvbnRTaXplOiAiMTRweCIsCiAgICAgICAgd2lkdGg6ICcxMDBweCcsCiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJywKICAgICAgICBoZWlnaHQ6ICcyNXB4JywKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICJyZ2IoMjM1LDIzMywyMjkpIiwKICAgICAgICBib3JkZXI6ICcycHggc29saWQgIzMzNDRkZCcsCiAgICAgICAgZm9udFdlaWdodDogImJvbGQiLAogICAgICAgIGN1cnNvcjogInBvaW50ZXIiCiAgICAgIH0pOwogICAgICByZXR1cm4gbGFiZWw7CiAgICB9LAoKICAgIGZpbmRSZXNlcnZvaXIobGFiZWwpIHsKICAgICAgcmV0dXJuIHRoaXMucmVzZXJ2b2lycy5maW5kKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgcmV0dXJuIGEubGFiZWwgPT09IGxhYmVsOwogICAgICB9KTsKICAgIH0sCgogICAgZmluZE1hcmtlcihsYWJlbCkgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVzZXJ2b2lycy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChsYWJlbCA9PT0gdGhpcy5yZXNlcnZvaXJzW2ldLmxhYmVsKXsKICAgICAgICAgIHJldHVybiB0aGlzLm1hcmtlcnNbaV07CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGdlbmVyYXRlSW5mb1dpbmRvdyhpdGVtKSB7CiAgICAgIHJldHVybiAiPGRpdiBzdHlsZT0nbWFyZ2luOjVweDsgJz4iICsKICAgICAgICAiPGRpdiBzdHlsZT0nbWFyZ2luOiAzMHB4IDEwcHggMCAxMHB4OyBwYWRkaW5nLWJvdHRvbTogMjBweCc+IiArCiAgICAgICAgIjxoMiBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyJz4iICsgaXRlbS5sYWJlbCArICI8L2gyPjxocj4iICsKICAgICAgICAiPGRpdiBpZD0naW1nUmVzJyBzdHlsZT0nZmxvYXQ6bGVmdDttYXJnaW46MHB4IDEwcHgnIHdpZHRoPSc0MCcgaGVpZ2h0PSc0MCcgdGl0bGU9JyIgKyBpdGVtLmxhYmVsICsgIic+PC9kaXY+IiArCiAgICAgICAgIjxkaXYgc3R5bGU9J21hcmdpbjoxMHB4IDBweCAxMHB4IDEyMHB4O2ZvbnQtc2l6ZTogbGFyZ2VyJz4iICsgKGl0ZW0uZGVzY3JpcHRpb24/aXRlbS5kZXNjcmlwdGlvbjoiIikgKwogICAgICAgICI8L2Rpdj4iICsKICAgICAgICAiPGlucHV0IHN0eWxlPSdtYXJnaW46IDAgYXV0bzsgIHdpZHRoOiAxODBweDtoZWlnaHQ6IDMwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgYmFja2dyb3VuZDogIzU1OTZkZTtjb2xvcjogIiArCiAgICAgICAgIiNGRkY7Ym9yZGVyOiBub25lO2Rpc3BsYXk6IGJsb2NrO2N1cnNvcjogcG9pbnRlcjsnIHR5cGU9J2J1dHRvbicgdmFsdWU9J+i/m+WFpeezu+e7nyciICsKICAgICAgICAiICBvbmNsaWNrPSdlbnRlclJlcyhcIiIgKyBpdGVtLmxhYmVsICsgIlwiKSc+IiArCiAgICAgICAgIjwvZGl2PiIgKwogICAgICAgICI8L2Rpdj4iOwogICAgfSwKCiAgICBoYW5kbGVOb2RlQ2xpY2soaXRlbSkgewogICAgICBsZXQgY2VudGVyID0gbmV3IEJNYXAuUG9pbnQoaXRlbS5sb24sIGl0ZW0ubGF0KTsKICAgICAgdGhpcy5tYXAuY2VudGVyQW5kWm9vbShjZW50ZXIsIHRoaXMubGV2ZWwpOwogICAgICBpZiAodGhpcy5wcmV2aW91c1BvaW50KSB7CiAgICAgICAgdGhpcy5wcmV2aW91c1BvaW50LnNldEFuaW1hdGlvbihudWxsKTsKICAgICAgICB0aGlzLm1hcC5yZW1vdmVPdmVybGF5KHRoaXMucHJldmlvdXNQb2ludC5nZXRMYWJlbCgpKTsKICAgICAgfQogICAgICB0aGlzLnByZXZpb3VzUG9pbnQgPSB0aGlzLmZpbmRNYXJrZXIoaXRlbS5sYWJlbCk7CiAgICAgIHRoaXMucHJldmlvdXNQb2ludC5zZXRMYWJlbCh0aGlzLmdlbmVyYXRlTGFiZWwoaXRlbSkpOwogICAgICB0aGlzLnByZXZpb3VzUG9pbnQuc2V0QW5pbWF0aW9uKEJNQVBfQU5JTUFUSU9OX0JPVU5DRSk7CiAgICB9LAoKCgogICAgLyoqKgogICAgICog6L+b5YWl5rC05bqTCiAgICAgKi8KICAgIGVudGVyUmVzKGxhYmVsKSB7CiAgICAgIGxldCB1cmwgPSB0aGlzLmZpbmRSZXNlcnZvaXIobGFiZWwpLnVybDsKICAgICAgaWYgKHVybC5zdGFydHNXaXRoKCIvIikpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogdGhpcy5yZWRpcmVjdCB8fCAnLyd9KQogICAgICB9IGVsc2UgewogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsOwogICAgICB9CiAgICB9LAogIH0KfQo="},{"version":3,"sources":["reservoir.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"reservoir.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class='app-container'>\n    <el-row class=\"top-div\">\n      <img id=\"icon\" src=\"../assets/logo/logo.png\" alt=\"\">\n      <img id=\"title\" src=\"../assets/images/manage-title.png\" alt=\"\">\n      <div id=\"menu\">\n        <div style=\"margin-top:20px; margin-right: 40px;\">\n          <img src=\"../assets/images/data/head.png\" style=\"width:40px;height:40px;\" alt=\"\">\n          <div style=\"margin-left:-10px; color:#385292\">退出登陆</div>\n        </div>\n      </div>\n\n    </el-row>\n    <el-col :span=\"3\" id=\"left\">\n      <el-row>\n        <el-col id=\"imgDiv\" :span=\"24\">\n\n        </el-col>\n      </el-row>\n      <el-row>\n\n      </el-row>\n      <el-row style=\"overflow:auto;\">\n        <el-tree :data=\"reservoirs\" @node-click=\"handleNodeClick\" node-key=\"name\" default-expand-all>\n            <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\n                <span>\n                    <i class=\"el-icon-s-flag\"></i>{{ node.label }}\n                </span>\n            </span>\n        </el-tree>\n      </el-row>\n    </el-col>\n    <el-col :span=\"21\">\n      <baidu-map\n        id=\"mapDiv\"\n        :scroll-wheel-zoom=\"true\"\n        @ready=\"mapReady\">\n      </baidu-map>\n    </el-col>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"reservoir\",\n    data() {\n      return {\n        tdtMap: {},\n        activeIndex: '1',\n        markers: [],\n        reservoirs: require('@/api/flash/reservoirs.json').list.slice(1),\n        defaultProps: {\n          children: 'children',\n          label: 'label'\n        },\n        map: undefined,\n        point: \"\",\n        BMap: undefined,\n        previousPoint: undefined,\n        level: 12,\n      }\n    },\n    created() {\n    },\n    mounted() {\n      // 初始化天地图\n      window.enterRes = this.enterRes;\n    },\n    watch: {},\n    methods: {\n      mapReady({BMap, map}) {\n        map.addControl(new BMap.OverviewMapControl());              //添加缩略地图控件\n        map.enableScrollWheelZoom();\n        map.addControl(new BMap.NavigationControl({\n          type: BMAP_NAVIGATION_CONTROL_LARGE,\n          anchor: BMAP_ANCHOR_TOP_RIGHT,\n          offset: new BMap.Size(40, 250)\n        }));\n        let bdary = new BMap.Boundary();\n        bdary.get('滕州市', function (rs) {       //获取行政区域\n          let EN_JW = \"180, 90;\";         //东北角\n          let NW_JW = \"-180,  90;\";       //西北角\n          let WS_JW = \"-180, -90;\";       //西南角\n          let SE_JW = \"180, -90;\";        //东南角\n          let ply1 = new BMap.Polygon(rs.boundaries[0] + SE_JW + SE_JW + WS_JW + NW_JW + EN_JW + SE_JW, {\n            strokeColor: \"none\",\n            fillColor: \"rgba(48,65,86,0.47)\",\n            fillOpacity: 1,\n            strokeOpacity: 0.5\n          }); //建立多边形覆盖物\n          map.addOverlay(ply1);\n        });\n        // 选择一个经纬度作为中心点\n        this.point = new BMap.Point(117.160202, 35.117438);\n        this.map = map;\n        this.BMap = BMap;\n        this.map.centerAndZoom(this.point, this.level);\n        this.createMarkers();\n      },\n\n      generateIcon(item){\n        if (!item) return;\n        let pos = 9 + item.type;\n        return new BMap.Icon(\"http://api.map.baidu.com/img/markers.png\", new BMap.Size(23, 25), {\n            offset: new BMap.Size(10, 25), // 指定定位位置\n            imageOffset: new BMap.Size(0, 0 - pos * 25) // 设置图片偏移使用左侧的图片\n        });\n      },\n\n      createMarkers() {\n        for (let i = 0; i < this.reservoirs.length; i++) {\n          let item = this.reservoirs[i];\n          let point = new BMap.Point(item.lon, item.lat);\n          let marker = new BMap.Marker(point, {icon:this.generateIcon(item)});// 创建标注\n\n          this.map.addOverlay(marker);\n          let infoWindow = new BMap.InfoWindow();\n          let sContent = this.generateInfoWindow(item);\n\n          infoWindow.setContent(sContent);\n          marker.addEventListener(\"click\", function () {\n            marker.openInfoWindow(infoWindow);\n          });\n          let that = this;\n          let label = this.generateLabel(item);\n\n          marker.addEventListener(\"onmouseover\", function () {\n            if (that.previousPoint) {\n              that.previousPoint.setAnimation(null);\n              that.map.removeOverlay(that.previousPoint.getLabel());\n            }\n            marker.setLabel(label);\n            label.addEventListener(\"click\", function (data) {\n              let item = that.findMarker(data.currentTarget.content);\n              item.openInfoWindow(item.win);\n            });\n            that.previousPoint = marker;\n            marker.setAnimation(BMAP_ANIMATION_BOUNCE);\n          });\n          marker.win = infoWindow;\n          marker.reservoir = this.reservoirs[i];\n          this.markers.push(marker);\n        }\n        let firstWindow = new BMap.InfoWindow();\n        firstWindow.setContent(this.generateInfoWindow(this.reservoirs[1]));\n      },\n\n      generateLabel(item) {\n        let label = new this.BMap.Label(item.label, {\"offset\": new this.BMap.Size(20, -20)});\n        label.setStyle({\n          color: \"#000b97\",\n          fontSize: \"14px\",\n          width: '100px',\n          textAlign: 'center',\n          height: '25px',\n          backgroundColor: \"rgb(235,233,229)\",\n          border: '2px solid #3344dd',\n          fontWeight: \"bold\",\n          cursor: \"pointer\"\n        });\n        return label;\n      },\n\n      findReservoir(label) {\n        return this.reservoirs.find(function (a) {\n          return a.label === label;\n        });\n      },\n\n      findMarker(label) {\n        for (let i = 0; i < this.reservoirs.length; i++) {\n          if (label === this.reservoirs[i].label){\n            return this.markers[i];\n          }\n        }\n      },\n\n      generateInfoWindow(item) {\n        return \"<div style='margin:5px; '>\" +\n          \"<div style='margin: 30px 10px 0 10px; padding-bottom: 20px'>\" +\n          \"<h2 style='text-align: center'>\" + item.label + \"</h2><hr>\" +\n          \"<div id='imgRes' style='float:left;margin:0px 10px' width='40' height='40' title='\" + item.label + \"'></div>\" +\n          \"<div style='margin:10px 0px 10px 120px;font-size: larger'>\" + (item.description?item.description:\"\") +\n          \"</div>\" +\n          \"<input style='margin: 0 auto;  width: 180px;height: 30px; text-align: center; background: #5596de;color: \" +\n          \"#FFF;border: none;display: block;cursor: pointer;' type='button' value='进入系统'\" +\n          \"  onclick='enterRes(\\\"\" + item.label + \"\\\")'>\" +\n          \"</div>\" +\n          \"</div>\";\n      },\n\n      handleNodeClick(item) {\n        let center = new BMap.Point(item.lon, item.lat);\n        this.map.centerAndZoom(center, this.level);\n        if (this.previousPoint) {\n          this.previousPoint.setAnimation(null);\n          this.map.removeOverlay(this.previousPoint.getLabel());\n        }\n        this.previousPoint = this.findMarker(item.label);\n        this.previousPoint.setLabel(this.generateLabel(item));\n        this.previousPoint.setAnimation(BMAP_ANIMATION_BOUNCE);\n      },\n\n\n\n      /***\n       * 进入水库\n       */\n      enterRes(label) {\n        let url = this.findReservoir(label).url;\n        if (url.startsWith(\"/\")) {\n          this.$router.push({path: this.redirect || '/'})\n        } else {\n          window.location.href = url;\n        }\n      },\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  .app-container {\n    margin: 0;\n    padding: 0 !important;\n  }\n\n  .top-div {\n    background: #003d4d; /* fallback for old browsers */\n    background: -webkit-linear-gradient(to right, #00c996, #003d4d); /* Chrome 10-25, Safari 5.1-6 */\n    background: linear-gradient(to right, #003d4d, #2a330f00); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n    height: 100px;\n  }\n\n  .el-tree-node__label {\n    font-family: KaiTi, serif;\n  }\n\n  .BMap_pop > div {\n    background-color: #bde5f9;\n  }\n\n  #title {\n    margin-left: 20px;\n    height: 150px;\n    width: 1000px;\n    margin-top: -25px;\n  }\n\n  #icon {\n    height: 30px;\n    width: 30px;\n    border-radius: 15px;\n    line-height: 120px;\n    position: absolute;\n    left: 20px;\n    top: 40px;\n  }\n\n  .el-tree-node.is-current > .el-tree-node__content {\n    background-color: #2366c5 !important;\n  }\n\n  .el-tree-node {\n    height: 40px;\n    font-family: KaiTi, serif;\n    font-size: 20px;\n  }\n\n  #mapDiv {\n    height: calc(100vh - 110px);\n    width: calc(100vw - 210px);;\n    margin: 2px;\n  }\n\n  #menu {\n    float: right;\n  }\n\n  #imgDiv {\n    color: #dfe6ec;\n    height: 0px;\n    /*background-image: url(\"../assets/images/title.png\");*/\n    background-size: 1400px 140px;\n  }\n\n  #imgRes {\n    color: #dfe6ec;\n    height: 100px;\n    width: 100px;\n    background-image: url(\"../assets/images/common/water-level.gif\");\n    background-size: 100px 100px;\n  }\n\n  .tdt-infowindow-content {\n    margin: 0;\n    background-color: #425431;\n  }\n\n  .tdt-infowindow-content-wrapper {\n    background-color: #5784ab;\n    color: #d1f6ff;\n    font-family: 楷体, serif;\n  }\n\n  .el-tree {\n    margin-top: 3px;\n    height: calc(100vh - 110px);\n    color: #062463;\n    border-style: inset;\n  }\n\n  .el-tree--highlight-current .el-tree-node.is-current > .el-tree-node__content {\n    background-color: #3ab7f5;\n  }\n\n  .el-tree-node:focus > .el-tree-node__content {\n    background-color: #66b1ff87 !important;\n  }\n\n  .el-tree-node__content:hover {\n    background-color: #66b1ff87;\n  }\n\n  .el-tree--highlight-current .el-tree-node.is-current > .el-tree-node__content {\n    background-color: #66b1ff87;\n  }\n\n\n</style>\n"]}]}