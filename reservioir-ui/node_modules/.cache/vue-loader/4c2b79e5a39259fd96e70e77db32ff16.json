{"remainingRequest":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\safetyManagement\\engineering\\writeOff.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\safetyManagement\\engineering\\writeOff.vue","mtime":1640419132280},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1711181251489},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1711181253421},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":1711181252308},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1711181250722},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1711181252689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jb2xvcjQwOSB7CiAgY29sb3I6ICM0MDllZmY7CiAgY3Vyc29yOiBwb2ludGVyOwp9Cg=="},{"version":3,"sources":["writeOff.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAw7BA;AACA;AACA;AACA","file":"writeOff.vue","sourceRoot":"src/views/safetyManagement/engineering","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n\r\n    <el-row class=\"from-top\">\r\n      <el-col :span=\"24\">\r\n        <div style=\"margin: 0 auto;display: flex;align-items: center;width: 100%;justify-content:center;\">\r\n          <div style=\"position: relative;\">\r\n            <img src=\"../../../assets/images/jin.png\" />\r\n            <div style=\"position: absolute;top: 10px;left: 100px;width: 50%;color: #FFFFFF;\">1.编制</div>\r\n          </div>\r\n          <div style=\"position: relative;\">\r\n            <img :src=\"require(active>1? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\" />\r\n            <div :style=\"active>1? 'position: absolute;top: 10px;left: 100px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 100px;width: 50%;color: #757575;'\">\r\n              2.审核</div>\r\n          </div>\r\n          <div style=\"position: relative;\">\r\n            <img :src=\"require(active>=3? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\" />\r\n            <div :style=\"active>1? 'position: absolute;top: 10px;left: 100px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 100px;width: 50%;color: #757575;'\">\r\n              3.审批</div>\r\n          </div>\r\n          <div style=\"position: relative;\">\r\n            <img :src=\"require(active==4? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\" />\r\n            <div :style=\"active>1? 'position: absolute;top: 10px;left: 100px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 100px;width: 50%;color: #757575;'\">\r\n              4.完成</div>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <div class=\"from-div\">\r\n      <el-row>\r\n        <el-col :span=\"24\" class=\"from-div-title\" style=\"background-color: rgba(215, 215, 215, 1); text-align: right;\">\r\n          <div style=\"margin-right: 15px\">\r\n            <el-button type=\"primary\" size=\"small\" @click=\"newNull\">注销登记</el-button>\r\n            <el-button type=\"primary\" size=\"small\" @click=\"addSubmits\">提交</el-button>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <el-col :span=\"24\" class=\"from-div-title\">\r\n          <span>\r\n            水库大坝注销登记表\r\n          </span>\r\n          <!--          <img src=\"../../../assets/u16149.png\" />-->\r\n\r\n\r\n          <div class=\"from-div\" style=\"width: 95%;\">\r\n            <el-row>\r\n              <el-col :span=\"24\" class=\"from-div-title\" style=\"background-color: rgba(215, 215, 215, 1); text-align: right;\">\r\n\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                水库名称\r\n              </el-col>\r\n              <el-col :span=\"8\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                <el-input disabled v-model=\"mCancellation.fReservoirName\" placeholder=\"\" style=\"width: 100%;\"></el-input>\r\n              </el-col>\r\n              <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                注册登记号\r\n              </el-col>\r\n              <el-col :span=\"8\" style=\" text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                <el-input disabled v-model=\"mCancellation.fCancellationNumber\" placeholder=\"\" style=\"width: 100%;\"></el-input>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                建设地点\r\n              </el-col>\r\n              <el-col :span=\"8\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                <el-input disabled v-model=\"mCancellation.fAddress\" placeholder=\"\" style=\"width: 100%;\">\r\n                </el-input>\r\n              </el-col>\r\n              <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                坝型 材料/结构\r\n              </el-col>\r\n              <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                <el-select disabled v-model=\"mCancellation.fDamTypeMaterial\" placeholder=\"请选择\" style=\"width: 100%;\">\r\n                  <el-option v-for=\"item in result1.dam_material\" :key=\"item.dictValue\" :label=\"item.dictLabel\" :value=\"item.dictValue\">\r\n                  </el-option>\r\n                </el-select>\r\n              </el-col>\r\n              <el-col :span=\"4\" style=\" text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                <el-select disabled v-model=\"mCancellation.fDamTypeStructure\" placeholder=\"请选择\" style=\"width: 100%;\">\r\n                  <el-option v-for=\"item in result1.dam_structure\" :key=\"item.dictValue\" :label=\"item.dictLabel\" :value=\"item.dictValue\">\r\n                  </el-option>\r\n                </el-select>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                所在河流\r\n              </el-col>\r\n              <el-col :span=\"8\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                <el-input disabled v-model=\"mCancellation.fRiver\" placeholder=\"\" style=\"width: 100%;\">\r\n                </el-input>\r\n              </el-col>\r\n              <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                最高坝高\r\n              </el-col>\r\n              <el-col :span=\"8\" style=\" text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                <el-input disabled v-model=\"mCancellation.fMaximumDamHeight\" placeholder=\"\" style=\"width: 100%;\"></el-input>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                管理单位\r\n              </el-col>\r\n              <el-col :span=\"8\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                <el-input disabled v-model=\"mCancellation.fManagementUnit\" placeholder=\"\" style=\"width: 100%;\"></el-input>\r\n              </el-col>\r\n              <el-col :span=\"2\" style=\"border-right: #a4d5ff 1px solid; text-align: center;line-height: 40px;\">\r\n                建设\r\n              </el-col>\r\n              <el-col :span=\"2\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                开工\r\n              </el-col>\r\n              <el-col :span=\"8\" style=\"border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                <div class=\"block\">\r\n                  <el-date-picker disabled format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\" style=\"width: 100%;\"\r\n                    v-model=\"mCancellation.fStartDate\" type=\"date\" placeholder=\"选择开工日期\">\r\n                  </el-date-picker>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                总库容\r\n              </el-col>\r\n              <el-col :span=\"8\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                <el-input disabled v-model=\"mCancellation.fTotalStorageCapacity\" placeholder=\"\" style=\"width: 100%;\"\r\n                  size=\"mini\"></el-input>\r\n              </el-col>\r\n              <el-col :span=\"2\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                日期\r\n              </el-col>\r\n              <el-col :span=\"2\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                竣工\r\n              </el-col>\r\n              <el-col :span=\"8\" style=\"border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                <div class=\"block\">\r\n                  <el-date-picker disabled format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\" style=\"width: 100%;\"\r\n                    v-model=\"mCancellation.fCompletionDate\" type=\"date\" placeholder=\"选择竣工日期\">\r\n                  </el-date-picker>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 60px;\">\r\n                <div>废</div>\r\n                <div>弃</div>\r\n                <div>原</div>\r\n                <div>因</div>\r\n              </el-col>\r\n              <el-col :span=\"8\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;height: 241px;\">\r\n                <el-input  disabled type=\"textarea\" :rows=\"6\" placeholder=\"请输入内容\" v-model=\"mCancellation.fDiscardReason\">\r\n                </el-input>\r\n\r\n              </el-col>\r\n              <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;height: 238px;line-height: 60px;\">\r\n                <div>批</div>\r\n                <div>准</div>\r\n                <div>单</div>\r\n                <div>位</div>\r\n                <div>意</div>\r\n                <div>见</div>\r\n              </el-col>\r\n              <el-col :span=\"8\" style=\"height: 100px;padding: 10px; text-align: left\">\r\n                <div>\r\n                  批准文号：\r\n                  <el-input disabled v-model=\"mCancellation.fApprovalNumber\" placeholder=\"\" style=\"width: 40%\"></el-input>\r\n                </div>\r\n                <div>\r\n                  内容摘要：\r\n                  <el-input disabled type=\"textarea\" :rows=\"2\" placeholder=\"\" v-model=\"mCancellation.fContentAbstract\">\r\n                  </el-input>\r\n                </div>\r\n\r\n              </el-col>\r\n            </el-row>\r\n            <el-row>\r\n              <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 150px;\">\r\n                废弃后果与相应原因\r\n              </el-col>\r\n              <el-col :span=\"8\" style=\"border-right: #a4d5ff 1px solid; text-align: center;line-height: 150px;\">\r\n                <el-input disabled type=\"textarea\" :rows=\"4\" placeholder=\"请输入内容\" v-model=\"mCancellation.fReasonRemarks\">\r\n                </el-input>\r\n              </el-col>\r\n              <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 150px; color: #FFFFFF;\">\r\n                .\r\n              </el-col>\r\n              <el-col :span=\"8\" style=\"border-bottom: #a4d5ff 1px solid;height: 150px; text-align: left\">\r\n                <div>\r\n                  批准单位：\r\n                  <el-input disabled v-model=\"mCancellation.fApprovalUnit\" placeholder=\"\" style=\"width: 50%;\"></el-input>\r\n                </div>\r\n                <div>\r\n                  （盖章）\r\n                </div>\r\n                <div style=\"text-align: right;margin-top: 0px;\">\r\n                  <el-date-picker format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\" v-model=\"mCancellation.fApprovalDate\"\r\n                    style=\"width: 250px;\" type=\"date\" placeholder=\"选择日期\" disabled>\r\n                  </el-date-picker>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n\r\n          <div style=\"width: 200px;margin-top: 20px;margin-left: 20px;\">\r\n            <el-upload style=\"margin-left: 15px;margin-top: 15px\" class=\"upload-demo\" :headers=\"GLOBAL.headers()\"\n             :before-upload = \"beforeAvatarUpload\"\r\n              :action=\"GLOBAL.httpUrl\" :on-preview=\"handlePreview\" :on-remove=\"handleRemove\"\r\n              multiple :on-success=\"uploadedSuccess\" :show-file-list=\"true\" :auto-upload=\"true\" :limit=\"1\" :on-exceed=\"handleExceed\"\r\n              :file-list=\"fileList\">\r\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n              <div slot=\"tip\" class=\"el-upload__tip\" style=\"margin-top: 15px\">上传文件不得超过100M</div>\r\n            </el-upload>\r\n          </div>\r\n\r\n          <div class=\"from-select\" style=\"font-size: 20px;margin-top: 50px;margin-right: 10px;font-weight: 400;float:right\">\r\n            <div style=\"margin-top:20px;\">\r\n              <span>编制人：<el-input :disabled=\"active != 1\" v-model=\"mCancellation.fPreparedBy\" placeholder=\"编制人\" style=\"width:180px; height: 45px\"></el-input></span>\r\n              <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                <el-date-picker format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\" v-model=\"mCancellation.fPreparationTime\"\r\n                  type=\"datetime\" placeholder=\"选择日期\" :disabled=\"active != 1\">\r\n                </el-date-picker>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row class=\"from-border-bottom\">\r\n        <el-col :span=\"3\" class=\"from-col\" style=\"line-height:200px;\">\r\n          计划审核\r\n        </el-col>\r\n        <el-col :span=\"21\" style=\"height: 50px;\">\r\n          <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n            审核意见：\r\n          </div>\r\n          <el-input :disabled=\"active != 2\"  maxlength=\"500\" show-word-limit  type=\"textarea\" :rows=\"4\" placeholder=\"请输入内容\" v-model=\"mCancellation.fReviewComments\">\r\n          </el-input>\r\n          <div class=\"from-select\">\r\n            <div style=\"margin-top: 20px;margin-left: 10px;\">\r\n              <div style=\"font-size: 16px;font-weight: 600;display:inline;\">\r\n                审核结果：\r\n              </div>\r\n              <el-select :disabled=\"active != 2\" v-model=\"mCancellation.fReviewResult\" placeholder=\"请选择\">\r\n                <el-option v-for=\"item in result1.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\" :value=\"item.dictValue\">\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n            <div style=\"margin-top:20px;\">\r\n              <span>审核人：<el-input :disabled=\"active != 2\" v-model=\"mCancellation.fReviewPeople\" placeholder=\"审核人\" style=\"width:180px;\">\r\n                </el-input></span>\r\n              <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                <el-date-picker :disabled=\"active != 2\" format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n                  v-model=\"mCancellation.fReviewDate\" type=\"datetime\" placeholder=\"选择日期\">\r\n                </el-date-picker>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <el-col :span=\"3\" class=\"from-align\" style=\"line-height:200px;\">\r\n          计划批准\r\n        </el-col>\r\n        <el-col :span=\"21\" style=\"height: 50px;\">\r\n          <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n            审批意见：\r\n          </div>\r\n          <el-input  maxlength=\"500\" show-word-limit  :disabled=\"active != 3\" type=\"textarea\" :rows=\"4\" placeholder=\"请输入内容\" v-model=\"mCancellation.fAuditComments\">\r\n          </el-input>\r\n          <div class=\"from-select\">\r\n            <div style=\"margin-top: 20px;margin-left: 10px;\">\r\n              <div style=\"font-size: 16px;font-weight: 600;display:inline;\">\r\n                审批结果：\r\n              </div>\r\n              <el-select :disabled=\"active != 3\" v-model=\"mCancellation.fAuditResult\" placeholder=\"请选择\">\r\n                <el-option v-for=\"item in result1.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\" :value=\"item.dictValue\">\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n            <div style=\"margin-top:20px;\">\r\n              <span>审批人：<el-input :disabled=\"active != 3\" v-model=\"mCancellation.fAuditPeople\" placeholder=\"审批人\" style=\"width:180px;\">\r\n                </el-input></span>\r\n              <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                <el-date-picker :disabled=\"active != 3\" format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n                  v-model=\"mCancellation.fAuditDate\" type=\"datetime\" placeholder=\"选择日期\">\r\n                </el-date-picker>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n\r\n    </div>\r\n\r\n    <el-dialog title=\"详情\" :visible.sync=\"dialogVisible\" width=\"1500px\">\r\n      <div class=\"from-div\" style=\"width: 90%\">\r\n        <el-row>\r\n          <el-col :span=\"24\" class=\"from-div-title\">\r\n            <span>\r\n              水库大坝注销登记表\r\n            </span>\r\n            <div class=\"from-div\" style=\"width: 95%;\">\r\n              <el-row>\r\n                <el-col :span=\"24\" class=\"from-div-title\" style=\"background-color: rgba(215, 215, 215, 1); text-align: right;\">\r\n\r\n                </el-col>\r\n              </el-row>\r\n              <el-row>\r\n                <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                  水库名称\r\n                </el-col>\r\n                <el-col :span=\"8\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                  <el-input disabled v-model=\"mCancellationRow.fReservoirName\" placeholder=\"\" style=\"width: 100%;\"></el-input>\r\n                </el-col>\r\n                <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                  注册登记号\r\n                </el-col>\r\n                <el-col :span=\"8\" style=\" text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                  <el-input disabled v-model=\"mCancellationRow.fCancellationNumber\" placeholder=\"\" style=\"width: 100%;\"></el-input>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row>\r\n                <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                  建设地点\r\n                </el-col>\r\n                <el-col :span=\"8\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                  <el-input disabled v-model=\"mCancellationRow.fAddress\" placeholder=\"\" style=\"width: 100%;\"></el-input>\r\n                </el-col>\r\n                <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                  坝型 材料/结构\r\n                </el-col>\r\n                <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                  <el-select disabled v-model=\"mCancellationRow.fDamTypeMaterial\" placeholder=\"请选择\" style=\"width: 100%;\">\r\n                    <el-option v-for=\"item in result1.dam_material\" :key=\"item.dictValue\" :label=\"item.dictLabel\"\r\n                      :value=\"item.dictValue\">\r\n                    </el-option>\r\n                  </el-select>\r\n                </el-col>\r\n                <el-col :span=\"4\" style=\" text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                  <el-select disabled v-model=\"mCancellationRow.fDamTypeStructure\" placeholder=\"请选择\" style=\"width: 100%;\">\r\n                    <el-option v-for=\"item in result1.dam_structure\" :key=\"item.dictValue\" :label=\"item.dictLabel\"\r\n                      :value=\"item.dictValue\">\r\n                    </el-option>\r\n                  </el-select>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row>\r\n                <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                  所在河流\r\n                </el-col>\r\n                <el-col :span=\"8\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                  <el-input disabled v-model=\"mCancellationRow.fRiver\" placeholder=\"\" style=\"width: 100%;\">\r\n                  </el-input>\r\n                </el-col>\r\n                <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                  最高坝高\r\n                </el-col>\r\n                <el-col :span=\"8\" style=\" text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                  <el-input disabled v-model=\"mCancellationRow.fMaximumDamHeight\" placeholder=\"\" style=\"width: 100%;\"></el-input>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row>\r\n                <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                  管理单位\r\n                </el-col>\r\n                <el-col :span=\"8\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                  <el-input disabled v-model=\"mCancellationRow.fManagementUnit\" placeholder=\"\" style=\"width: 100%;\"></el-input>\r\n                </el-col>\r\n                <el-col :span=\"2\" style=\"border-right: #a4d5ff 1px solid; text-align: center;line-height: 40px;\">\r\n                  建设\r\n                </el-col>\r\n                <el-col :span=\"2\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                  开工\r\n                </el-col>\r\n                <el-col :span=\"8\" style=\"border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                  <div class=\"block\">\r\n                    <el-date-picker disabled format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\" style=\"width: 100%;\"\r\n                      v-model=\"mCancellationRow.fStartDate\" type=\"date\" placeholder=\"选择开工日期\">\r\n                    </el-date-picker>\r\n                  </div>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row>\r\n                <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                  总库容\r\n                </el-col>\r\n                <el-col :span=\"8\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                  <el-input disabled v-model=\"mCancellationRow.fTotalStorageCapacity\" placeholder=\"\" style=\"width: 100%;\"\r\n                    size=\"mini\"></el-input>\r\n                </el-col>\r\n                <el-col :span=\"2\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                  日期\r\n                </el-col>\r\n                <el-col :span=\"2\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 40px;\">\r\n                  竣工\r\n                </el-col>\r\n                <el-col :span=\"8\" style=\"border-bottom: #a4d5ff 1px solid;line-height: 39px;\">\r\n                  <div class=\"block\">\r\n                    <el-date-picker disabled format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\" style=\"width: 100%;\"\r\n                      v-model=\"mCancellationRow.fCompletionDate\" type=\"date\" placeholder=\"选择竣工日期\">\r\n                    </el-date-picker>\r\n                  </div>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row>\r\n                <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 60px;\">\r\n                  <div>废</div>\r\n                  <div>弃</div>\r\n                  <div>原</div>\r\n                  <div>因</div>\r\n                </el-col>\r\n                <el-col :span=\"8\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;height: 241px;\">\r\n                  <el-input disabled type=\"textarea\" :rows=\"6\" placeholder=\"请输入内容\" v-model=\"mCancellationRow.fDiscardReason\">\r\n                  </el-input>\r\n\r\n                </el-col>\r\n                <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;height: 238px;line-height: 60px;\">\r\n                  <div>批</div>\r\n                  <div>准</div>\r\n                  <div>单</div>\r\n                  <div>位</div>\r\n                  <div>意</div>\r\n                  <div>见</div>\r\n                </el-col>\r\n                <el-col :span=\"8\" style=\"height: 100px;padding: 10px; text-align: left\">\r\n                  <div>\r\n                    批准文号：\r\n                    <el-input disabled v-model=\"mCancellationRow.fApprovalNumber\" placeholder=\"\" style=\"width: 40%\"></el-input>\r\n                  </div>\r\n                  <div>\r\n                    内容摘要：\r\n                    <el-input disabled type=\"textarea\" :rows=\"2\" placeholder=\"\" v-model=\"mCancellationRow.fContentAbstract\">\r\n                    </el-input>\r\n                  </div>\r\n\r\n                </el-col>\r\n              </el-row>\r\n              <el-row>\r\n                <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 150px;\">\r\n                  废弃后果与相应原因\r\n                </el-col>\r\n                <el-col :span=\"8\" style=\"border-right: #a4d5ff 1px solid; text-align: center;line-height: 150px;\">\r\n                  <el-input  maxlength=\"500\" show-word-limit  disabled type=\"textarea\" :rows=\"4\" placeholder=\"请输入内容\" v-model=\"mCancellationRow.fReasonRemarks\">\r\n                  </el-input>\r\n                </el-col>\r\n                <el-col :span=\"4\" style=\"border-right: #a4d5ff 1px solid; text-align: center;border-bottom: #a4d5ff 1px solid;line-height: 150px; color: #FFFFFF;\">\r\n                  .\r\n                </el-col>\r\n                <el-col :span=\"8\" style=\"border-bottom: #a4d5ff 1px solid;height: 150px; text-align: left\">\r\n                  <div>\r\n                    批准单位：\r\n                    <el-input disabled v-model=\"mCancellationRow.fApprovalUnit\" placeholder=\"\" style=\"width: 50%;\"></el-input>\r\n                  </div>\r\n                  <div>\r\n                    （盖章）\r\n                  </div>\r\n                  <div style=\"text-align: right;margin-top: 0px;\">\r\n                    <el-date-picker format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\" v-model=\"mCancellationRow.fApprovalDate\"\r\n                      style=\"width: 250px;\" type=\"date\" placeholder=\"选择日期\" disabled>\r\n                    </el-date-picker>\r\n                  </div>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n\r\n            <div style=\"width: 200px;margin-top: 20px;margin-left: 20px;\">\r\n              <div style=\"width: 200px;margin-top: 20px;margin-left: 20px;\">\r\n                <el-upload style=\"margin-left: 15px;margin-top: 15px\" class=\"upload-demo\" :headers=\"GLOBAL.headers()\"\n                 :before-upload = \"beforeAvatarUpload\"\r\n                  :action=\"GLOBAL.httpUrl\" :on-preview=\"handlePreview\"  multiple\r\n                  :on-success=\"uploadedSuccess\" :show-file-list=\"true\" :auto-upload=\"true\" :limit=\"1\" :on-exceed=\"handleExceed\"\r\n                  :file-list=\"fileList\">\r\n                </el-upload>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"from-select\" style=\"font-size: 20px;margin-top: 50px;margin-right: 10px;font-weight: 400;float:right\">\r\n              <div style=\"margin-top:20px;\">\r\n                <span>编制人：<el-input :disabled=\"active != 1\" v-model=\"mCancellationRow.fPreparedBy\" placeholder=\"编制人\"\r\n                    style=\"width:180px; height: 45px\"></el-input></span>\r\n                <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                  <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                  <el-date-picker :disabled=\"active != 1\" format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n                    v-model=\"mCancellationRow.fPreparationTime\" type=\"datetime\" placeholder=\"选择日期\">\r\n                  </el-date-picker>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-row class=\"from-border-bottom\">\r\n          <el-col :span=\"3\" class=\"from-col\" style=\"line-height:200px;\">\r\n            计划审核\r\n          </el-col>\r\n          <el-col :span=\"21\" style=\"height: 50px;\">\r\n            <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n              审核意见：\r\n            </div>\r\n            <el-input :disabled=\"active != 2\" type=\"textarea\" :rows=\"4\" placeholder=\"请输入内容\" v-model=\"mCancellationRow.fReviewComments\">\r\n            </el-input>\r\n            <div class=\"from-select\">\r\n              <div style=\"margin-top: 20px;margin-left: 10px;\">\r\n                <div style=\"font-size: 16px;font-weight: 600;display:inline;\">\r\n                  审核结果：\r\n                </div>\r\n                <el-select :disabled=\"active != 2\" v-model=\"mCancellationRow.fReviewResult\" placeholder=\"请选择\">\r\n                  <el-option v-for=\"item in result1.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\" :value=\"item.dictValue\">\r\n                  </el-option>\r\n                </el-select>\r\n              </div>\r\n              <div style=\"margin-top:20px;\">\r\n                <span>审核人：<el-input :disabled=\"active != 2\" v-model=\"mCancellationRow.fReviewPeople\" placeholder=\"审核人\"\r\n                    style=\"width:180px;\">\r\n                  </el-input></span>\r\n                <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                  <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                  <el-date-picker :disabled=\"active != 2\" format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n                    v-model=\"mCancellationRow.fReviewDate\" type=\"datetime\" placeholder=\"选择日期\" disabled>\r\n                  </el-date-picker>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-row v-if=\"mCancellationRow.fReviewDate\">\r\n          <el-col :span=\"3\" class=\"from-align\" style=\"line-height:200px;\">\r\n            计划批准\r\n          </el-col>\r\n          <el-col :span=\"21\" style=\"height: 50px;\">\r\n            <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n              审批意见：\r\n            </div>\r\n            <el-input :disabled=\"active != 4\" type=\"textarea\" :rows=\"4\" placeholder=\"请输入内容\" v-model=\"mCancellationRow.fAuditComments\">\r\n            </el-input>\r\n            <div class=\"from-select\">\r\n              <div style=\"margin-top: 20px;margin-left: 10px;\">\r\n                <div style=\"font-size: 16px;font-weight: 600;display:inline;\">\r\n                  审批结果：\r\n                </div>\r\n                <el-select :disabled=\"active != 4\" v-model=\"mCancellationRow.fAuditResult\" placeholder=\"请选择\">\r\n                  <el-option v-for=\"item in result1.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\" :value=\"item.dictValue\">\r\n                  </el-option>\r\n                </el-select>\r\n              </div>\r\n              <div style=\"margin-top:20px;\">\r\n                <span>审批人：<el-input :disabled=\"active != 4\" v-model=\"mCancellationRow.fAuditPeople\" placeholder=\"审批人\"\r\n                    style=\"width:180px;\">\r\n                  </el-input></span>\r\n                <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                  <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                  <el-date-picker :disabled=\"active != 4\" format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n                    v-model=\"mCancellationRow.fAuditDate\" type=\"datetime\" placeholder=\"选择日期\" disabled>\r\n                  </el-date-picker>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row v-else>\r\n          <el-col :span=\"3\" class=\"from-align\" style=\"line-height:200px;\">\r\n            计划批准\r\n          </el-col>\r\n          <el-col :span=\"21\" style=\"height: 50px;\">\r\n            <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\r\n              审批意见：\r\n            </div>\r\n            <el-input  maxlength=\"500\" show-word-limit  disabled type=\"textarea\" :rows=\"4\" placeholder=\"请输入内容\" v-model=\"mCancellationRow.fAuditComments\">\r\n            </el-input>\r\n            <div class=\"from-select\">\r\n              <div style=\"margin-top: 20px;margin-left: 10px;\">\r\n                <div style=\"font-size: 16px;font-weight: 600;display:inline;\">\r\n                  审批结果：\r\n                </div>\r\n                <el-select disabled v-model=\"mCancellationRow.fAuditResult\" placeholder=\"请选择\">\r\n                  <el-option v-for=\"item in result1.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\" :value=\"item.dictValue\">\r\n                  </el-option>\r\n                </el-select>\r\n              </div>\r\n              <div style=\"margin-top:20px;\">\r\n                <span>审批人：<el-input disabled v-model=\"mCancellationRow.fAuditPeople\" placeholder=\"审批人\" style=\"width:180px;\"></el-input></span>\r\n                <div class=\"block\" style=\"display:inline;margin-left:10px;\">\r\n                  <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\" />\r\n                  <el-date-picker format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy-MM-dd HH:mm:ss\" v-model=\"mCancellationRow.fAuditDate\"\r\n                    type=\"datetime\" placeholder=\"选择日期\" disabled>\r\n                  </el-date-picker>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <div class=\"from-div\" style=\"border: 0px\">\r\n      <el-dialog title=\"详情\" :visible.sync=\"zhuceVisible\" width=\"1500px\">\r\n        <!-- {{mCancellation}} -->\r\n        <Logout :fileList=\"fileList\" :mCancellation=\"mCancellation\" @zhuceVisiblea=\"zhuceVisiblea\" :result1=\"result1\"></Logout>\r\n        <!-- <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"zhuceVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"zhuceVisible = false\">确 定</el-button>\r\n        </span> -->\r\n      </el-dialog>\r\n      <div class=\"table-head\" style=\"margin-top:40px;margin:0 auto;width:100%\">\r\n        注销登记编制记录\r\n      </div>\r\n      <el-table :data=\"cancellationList\" class=\"from-top\" border style=\"margin:0 auto;width:100%\">\r\n        <el-table-column label=\" 序号\" align=\"center\" type=\"index\" width=\"300\" />\r\n        <el-table-column label=\"编制时间\" align=\"center\" prop=\"fPreparationTime\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ parseTime(scope.row.fPreparationTime, '{y}-{m}-{d}') }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"编制人\" align=\"center\" prop=\"fPreparedBy\" />\r\n        <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" type=\"text\" @click=\"dialog(scope.row)\">\r\n              查看\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    getToken\r\n  } from \"@/utils/auth\";\r\n  import {\r\n    getFileById\r\n  } from \"@/api/file\";\r\n  import {\r\n    getDictByType,\r\n    latelyCancellation,\r\n    listCancellation,\r\n    getCancellation,\r\n    delCancellation,\r\n    addCancellation,\r\n    updateCancellation,\r\n    nextCancellationInsert,\r\n    nextCancellationUpdate\r\n  } from \"@/api/security/cancellation\";\r\n  // import {\r\n  //   getUserList,\r\n  //   startWorkFlow,\r\n  //   getReviewTask,\r\n  //   taskReview,\r\n  //   taskApprove\r\n  // } from \"@/api/security/planning\";\r\n  import Logout from './logout.vue'\r\n\r\n  export default {\r\n    components: {\r\n      Logout\r\n    },\r\n    data() {\r\n      return {\r\n        mCancellationRow: {},\r\n        // 总条数\r\n        total: 0,\r\n        cancellationList: [],\r\n        result1: [],\r\n        radio: '',\r\n        list: [],\r\n        nextVisible: false,\r\n        readonly: true,\r\n        fileList: [{\r\n          name: null,\r\n          url: null\r\n        }],\r\n        disabled: true,\r\n        // 遮罩层\r\n        loading: true,\r\n        fApprovalDate: {},\r\n        mCancellation: {},\r\n        active: 1,\r\n        zhuceVisible: false,\r\n        dialogVisible: false,\r\n      };\r\n    },\r\n    created() {\r\n      this.getLatelyCancellation();\r\n      // this.Personnel();\r\n      this.getResult();\r\n      this.getList();\r\n    },\r\n    methods: {\n      beforeAvatarUpload(file){\n            const isLt100M = file.size / 1024 / 1024 < 100;\n               if (!isLt100M) {\n                      this.$message.error('上传文件大小不能超过 100MB!');\n                      return false\n                  }\n            },\n      zhuceVisiblea(){\n        this.zhuceVisible = false\n      },\r\n      submit() {\r\n        if (this.mCancellation.fCancellationNumber == null) {\r\n          this.$message.error(\"请填写注册登记号\")\r\n          return false\r\n        } else if (this.mCancellation.fReservoirName == null) {\r\n          this.$message.error(\"请填写水库名称\")\r\n          return false\r\n        } else if (this.mCancellation.fDeclareUnit == null) {\r\n          this.$message.error(\"请填写申报单位\")\r\n          return false\r\n        } else if (this.mCancellation.fCompetentDepartment == null) {\r\n          this.$message.error(\"请填写主管部门\")\r\n          return false\r\n        } else if (this.mCancellation.fAddress == null) {\r\n          this.$message.error(\"请填写所在地址\")\r\n          return false\r\n        } else if (this.mCancellation.fPostalCode == null) {\r\n          this.$message.error(\"请填写邮政编码\")\r\n          return false\r\n        } else if (this.mCancellation.fRegistrationMechanism == null) {\r\n          this.$message.error(\"请填写注册登记机构\")\r\n          return false\r\n        } else if (this.mCancellation.fRegistrationDate == null) {\r\n          this.$message.error(\"请填写注册登记日期\")\r\n          return false\r\n        } else if (this.mCancellation.fReservoirName == null) {\r\n          this.$message.error(\"请填写水库名称\")\r\n          return false\r\n        } else if (this.mCancellation.fDamTypeMaterial == null) {\r\n          this.$message.error(\"请填写坝型(材料)\")\r\n          return false\r\n        } else if (this.mCancellation.fDamTypeStructure == null) {\r\n          this.$message.error(\"请填写坝型(结构)\")\r\n          return false\r\n        } else if (this.mCancellation.fRiver == null) {\r\n          this.$message.error(\"请填写所在河流\")\r\n          return false\r\n        } else if (this.mCancellation.fMaximumDamHeight == null) {\r\n          this.$message.error(\"请填写最高坝高\")\r\n          return false\r\n        } else if (this.mCancellation.fManagementUnit == null) {\r\n          this.$message.error(\"请填写管理单位\")\r\n          return false\r\n        } else if (this.mCancellation.fStartDate == null) {\r\n          this.$message.error(\"请填写开工日期\")\r\n          return false\r\n        } else if (this.mCancellation.fCompletionDate == null) {\r\n          this.$message.error(\"请填写竣工日期\")\r\n          return false\r\n        } else if (this.mCancellation.fTotalStorageCapacity == null) {\r\n          this.$message.error(\"请填写总库容\")\r\n          return false\r\n        } else if (this.mCancellation.fDiscardReason == null) {\r\n          this.$message.error(\"请填写废弃原因\")\r\n          return false\r\n        } else if (this.mCancellation.fApprovalNumber == null) {\r\n          this.$message.error(\"请填写批准文号\")\r\n          return false\r\n        } else if (this.mCancellation.fContentAbstract == null) {\r\n          this.$message.error(\"请填写内容摘要\")\r\n          return false\r\n        } else if (this.mCancellation.fApprovalUnit == null) {\r\n          this.$message.error(\"请填写批准单位\")\r\n          return false\r\n        } else if (this.mCancellation.fApprovalDate == null) {\r\n          this.$message.error(\"请填写批准日期\")\r\n          return false\r\n        } else if (this.mCancellation.fReasonRemarks == null) {\r\n          this.$message.error(\"请填写废弃后果与相应原因\")\r\n          return false\r\n        } else if (this.mCancellation.fPreparedBy == null) {\r\n          this.$message.error(\"请填写编制人\")\r\n          return false\r\n        } else {\r\n          this.setNextCancellationInsert()\r\n        }\r\n      },\r\n\r\n      /** 查询水库大坝注销 列表 */\r\n      getList() {\r\n        listCancellation().then(response => {\r\n          this.cancellationList = response.rows;\r\n          this.total = response.total;\r\n          this.loading = false;\r\n        });\r\n      },\r\n      getResult() {\r\n        getDictByType().then(response => {\r\n          this.result1 = response.data\r\n        })\r\n      },\r\n      // Personnel() {\r\n      //   getUserList().then(response => {\r\n      //     this.list = response.data\r\n      //   })\r\n      // },\r\n      addSubmits() {\r\n        if (this.active == 1) {\r\n          this.setNextCancellationInsert();\r\n        } else {\r\n          this.setNextCancellationUpdate();\r\n        }\r\n      },\r\n      setNextCancellationInsert() {\r\n        this.mCancellation.fActPersion = this.radio;\r\n        nextCancellationInsert(this.mCancellation).then(response => {\r\n          this.msgSuccess(\"提交成功\");\r\n          this.getLatelyCancellation();\r\n          this.nextVisible = false;\r\n          this.zhuceVisible = false;\r\n        });\r\n      },\r\n      setNextCancellationUpdate() {\r\n        console.log(\"this.setNextCancellationUpdate();\")\r\n        this.mCancellation.fActPersion = this.radio;\r\n        nextCancellationUpdate(this.mCancellation).then(response => {\r\n          this.msgSuccess(\"提交成功\");\r\n          this.getLatelyCancellation();\r\n          this.nextVisible = false;\r\n          this.zhuceVisible = false;\r\n        });\r\n      },\r\n      getFile() {\r\n        this.loading = true;\r\n        this.fileList = [];\n        console.log('22222222222222',this.mCancellation.fCancellationFileId)\r\n        if (this.mCancellation.fCancellationFileId) {\r\n          getFileById({\r\n            id: this.mCancellation.fCancellationFileId\r\n          }).then(result => {\r\n            if (result) {\r\n              this.fileList = [{\r\n                name: result.data.fOldFileName,\r\n                url: result.data.fFilePath\r\n              }];\r\n              this.loading = false;\r\n              console.log(this.fileList);\r\n            }\r\n          })\r\n        }\r\n      },\r\n      getLatelyCancellation() {\r\n        this.loading = true;\r\n        latelyCancellation().then(response => {\r\n          this.mCancellation = response;\r\n          this.loading = false;\n          if(this.mCancellation.fCancellationFileId){\n            this.getFile();\n          }\r\n\r\n          if (this.mCancellation.fDamTypeMaterial) {\r\n            this.mCancellation.fDamTypeMaterial = this.mCancellation.fDamTypeMaterial.toString();\r\n          }\r\n          if (this.mCancellation.fDamTypeStructure) {\r\n            this.mCancellation.fDamTypeStructure = this.mCancellation.fDamTypeStructure.toString();\r\n          }\r\n          if (this.mCancellation.fAuditResult) {\r\n            this.mCancellation.fAuditResult = this.mCancellation.fAuditResult.toString();\r\n          }\r\n          if (this.mCancellation.fReviewResult) {\r\n            this.mCancellation.fReviewResult = this.mCancellation.fReviewResult.toString();\r\n          }\r\n          if (this.mCancellation.fAuditResult) {\r\n            this.mCancellation.fAuditResult = this.mCancellation.fAuditResult.toString();\r\n          }\r\n\r\n          if (this.mCancellation.fAuditDate) {\r\n            this.active = 4;\r\n          } else if (this.mCancellation.fReviewDate && this.mCancellation.fReviewResult == 1) {\r\n            this.active = 3;\r\n          } else if (this.mCancellation.fPreparationTime && !this.mCancellation.fReviewResult) {\r\n            this.active = 2;\r\n          } else {\r\n            this.active = 1;\r\n          }\r\n        });\r\n      },\r\n      /** 新增按钮操作 */\r\n      handleAdd() {\r\n        console.log(\"新增按钮操作\");\r\n        addCancellation(this.mCancellation).then(response => {\r\n          this.msgSuccess(\"新增成功\");\r\n          this.getLatelyCancellation();\r\n        });\r\n      },\r\n      /** 变更按钮操作 */\r\n      handleUpdate() {\r\n        console.log(\"变更按钮操作\");\r\n        updateCancellation(this.mCancellation).then(response => {\r\n          this.msgSuccess(\"变更成功\");\r\n          this.getLatelyCancellation();\r\n        });\r\n      },\r\n      newNull() {\r\n        this.active = 1;\r\n        this.zhuceVisible = true;\r\n        this.fileList = [];\r\n        this.mCancellation = {};\r\n      },\r\n      dialog(row) {\r\n        this.dialogVisible = true;\r\n        this.mCancellationRow = row;\r\n        if (this.mCancellationRow.fDamTypeMaterial) {\r\n          this.mCancellationRow.fDamTypeMaterial = this.mCancellationRow.fDamTypeMaterial.toString();\r\n        }\r\n        if (this.mCancellationRow.fDamTypeStructure) {\r\n          this.mCancellationRow.fDamTypeStructure = this.mCancellationRow.fDamTypeStructure.toString();\r\n        }\r\n        if (this.mCancellationRow.fAuditResult) {\r\n          this.mCancellationRow.fAuditResult = this.mCancellationRow.fAuditResult.toString();\r\n        }\r\n        if (this.mCancellationRow.fReviewResult) {\r\n          this.mCancellationRow.fReviewResult = this.mCancellationRow.fReviewResult.toString();\r\n        }\r\n        if (this.mCancellationRow.fAuditResult) {\r\n          this.mCancellationRow.fAuditResult = this.mCancellationRow.fAuditResult.toString();\r\n        }\r\n      },\r\n      handleRemove(file, fileList) {\r\n        this.GLOBAL.commonFun(this.mCancellation.fCancellationFileId);\r\n        this.mCancellation.fCancellationFileId = '';\r\n      },\r\n      uploadedSuccess(response, file, fileList) {\r\n        this.mCancellation.fCancellationFileId = response.data.fId;\r\n        this.getFile();\r\n      },\r\n      beforeRemove(file, fileList) {\r\n        return this.$confirm(`确定移除 ${file.name}？`);\r\n      },\r\n      handleExceed(files, fileList) {\r\n        this.$message.warning(`当前限制选择 1 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\r\n      },\r\n      handlePreview() {\r\n        // window.location.href = this.fileList[0].url;\r\n\t\twindow.open(this.fileList[0].url);\r\n      },\r\n    }\r\n  };\r\n</script>\r\n<style lang=\"scss\">\r\n  .color409 {\r\n    color: #409eff;\r\n    cursor: pointer;\r\n  }\r\n</style>\n"]}]}