{"remainingRequest":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\collection\\safe\\gate\\gateSeepage.vue?vue&type=style&index=0&id=a3482b04&scoped=true&lang=css&","dependencies":[{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\collection\\safe\\gate\\gateSeepage.vue","mtime":1640096692374},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1711181251489},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1711181253421},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":1711181252308},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1711181252689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5hcHAtY29udGFpbmVyIHsKICBtYXJnaW46IDA7CiAgYmFja2dyb3VuZDogdXJsKCIuLi8uLi8uLi8uLi9hc3NldHMvaW1hZ2VzL2JnLnBuZyIpIHJlcGVhdC15OwogIGNvbG9yOiAjZGZlNmVjOwogIGhlaWdodDogMTAwdmg7Cn0KCjo6di1kZWVwIC53LWxhYmVsIHsKICBmb250LXNpemU6IDI0cHg7CiAgZm9udC1mYW1pbHk6IOalt+S9kywgc2VyaWY7CiAgY29sb3I6ICNlY2VlYmM7Cn0KCjo6di1kZWVwIC5lbC1yYWRpb19fbGFiZWwgewogIGZvbnQtc2l6ZTogMjRweDsKICBmb250LWZhbWlseTog5qW35L2TLCBzZXJpZjsKICBjb2xvcjogI2VjZWViYzsKfQoKOjp2LWRlZXAgLmVsLXJhZGlvX19pbnB1dCB7CiAgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lOwp9Cg=="},{"version":3,"sources":["gateSeepage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"gateSeepage.vue","sourceRoot":"src/views/collection/safe/gate","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <record :sensor=\"sensor\" :dialogVisible=\"dialogVisible\" @changeShow=\"showHistory\"></record>\n    <dv-border-box9 style=\"padding: 10px; height: 80vh\">\n      <el-row>\n        <el-col :span=\"6\">\n          <dv-decoration3 style=\"width: 320px;height: 30px\"></dv-decoration3>\n        </el-col>\n        <el-col :span=\"8\">\n          <label class=\"w-label\">断面选择：</label>\n          <el-radio-group v-model=\"paraIndex\">\n            <el-radio :label=\"i\" v-bind:key=\"item\" v-for=\"(item,i) in paras\" @change=\"select(paraIndex)\">{{item}}\n            </el-radio>\n          </el-radio-group>\n        </el-col>\n        <el-col :span=\"10\">\n          <div id=\"lb-time\" class=\"layui-inline\">\n            <label class=\"w-label\" for=\"newest-time\">最新监测时间：<span\n              id=\"newest-time\">{{newestTime}}</span></label>\n          </div>\n        </el-col>\n      </el-row>\n      <el-row>\n        <div id=\"div-main\">\n          <div id=\"div-img\" style=\"width:100%;height:500px;margin-top: 50px;\"></div>\n        </div>\n      </el-row>\n    </dv-border-box9>\n  </div>\n</template>\n\n<script>\n  import record from '@/views/collection/common/record'\n  import zrender from 'zrender'\n  import ImageShape from 'zrender/src/graphic/Image';\n  import PolygonShape from 'zrender/src/graphic/shape/Polygon';\n  import Text from 'zrender/src/graphic/Text';\n  import Circle from 'zrender/src/graphic/shape/Circle';\n  import LinearGradient from 'zrender/src/graphic/LinearGradient';\n  import ShapeLine from \"zrender/src/graphic/shape/Polyline\";\n\n  export default {\n    name: \"realtime\",\n    components: {record},\n    data() {\n      let sensors = this.common.getData('gateSeepage');\n      let paras = this.operator.getAttrArray(sensors, 'section');\n      return {\n        seepage: this.reservoir.getGate().getSeepageSafe(),\n        sensors: sensors,\n        paras: paras,\n        paraIndex: 1,\n        sensor: null,\n        dialogVisible: false,\n        newestTime: '2016-08-01 10:00:00',\n        setEvent: 0,\n      }\n    },\n    methods: {\n      select(paraIndex) {\n        this.paraIndex = paraIndex;\n        this.updateSensors();\n      },\n      showRecord(sen) {\n        this.sensor = sen;\n        this.dialogVisible = true;\n      },\n      // 监听 子组件弹窗关闭后触发，有子组件调用\n      showHistory(data) {\n        this.dialogVisible = data !== 'false';\n      },\n\n      /**\n       * 显示历史数据\n       * */\n      lineShow(order) {\n        let sensor = this.findSensor(order);\n        if (sensor && !sensor.invalid) {\n          if (sensor.name === '沉降' && sensor.type === 0) {   //处理沉降中的基准点，让它不显示曲线\n            sensor.url = '';\n          }\n          this.showRecord(sensor);\n        }\n      },\n\n      /**\n       * 查找传感器数据\n       *\n       * */\n      findSensor(order) {\n        let name = this.paras[this.paraIndex];\n        return this.operator.getSensor(this.operator.getSensors(this.sensors, 'type', order), 'name', name, true);\n      },\n      /**\n       * 成功获取数据后的处理函数\n       */\n      updateSensors() {\n        let chartWaterLevel = this.$echarts.init(document.getElementById('div-img'));\n        chartWaterLevel.setOption(this.seepage.createGateOption(this.paraIndex), true);\n\n        if (this.setEvent === 0) {\n          this.setEvent++;\n          chartWaterLevel.on('click', function (params) {\n            show(params);\n          }, false);\n        } else {\n          chartWaterLevel.off(\"click\");\n          chartWaterLevel.on('click', function (params) {\n            show(params);\n          }, false);\n        }\n\n        //刷新时间\n        let newestTime = this.sensors[0].time;\n        for (let i = 0; i < this.sensors.length; i++) {\n          if (this.sensors[i].time > newestTime) {\n            newestTime = this.sensors[i].time;\n          }\n        }\n        this.newestTime = (new Date(newestTime)).format(\"yyyy-MM-dd hh:mm:ss\");\n      },\n      show(params) {\n        if (params.componentType === 'markPoint') {\n          let sensors = this.operator.getSensors(this.common.loadSensors(), 'name', '水位').concat(this.operator.getSensors(this.sensors, 'type', this.paras[this.paraIndex]));\n          let sensor = this.operator.findArrayItemByAttrValue(sensors, 'index', params.seriesIndex);\n          if (sensor) {\n            this.showRecord(sensor);\n          }\n        }\n      },\n    },\n    mounted() {\n\n      this.updateSensors();\n      let that = this;\n      setInterval(function () {\n        that.updateSensors();\n      }, this.common.TIME_SPAN);\n    }\n  }\n\n\n</script>\n\n<style scoped>\n  .app-container {\n    margin: 0;\n    background: url(\"../../../../assets/images/bg.png\") repeat-y;\n    color: #dfe6ec;\n    height: 100vh;\n  }\n\n  ::v-deep .w-label {\n    font-size: 24px;\n    font-family: 楷体, serif;\n    color: #eceebc;\n  }\n\n  ::v-deep .el-radio__label {\n    font-size: 24px;\n    font-family: 楷体, serif;\n    color: #eceebc;\n  }\n\n  ::v-deep .el-radio__input {\n    vertical-align: baseline;\n  }\n</style>\n"]}]}