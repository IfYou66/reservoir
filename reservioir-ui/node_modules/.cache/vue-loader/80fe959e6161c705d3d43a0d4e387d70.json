{"remainingRequest":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\reservoir.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\reservoir.vue","mtime":1641651455977},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1711181251489},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1711181253421},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":1711181252308},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1711181250722},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1711181252689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYXBwLWNvbnRhaW5lciB7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDAgIWltcG9ydGFudDsKfQoKLnRvcC1kaXYgewogIGJhY2tncm91bmQ6ICMwMDNkNGQ7IC8qIGZhbGxiYWNrIGZvciBvbGQgYnJvd3NlcnMgKi8KICBiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0byByaWdodCwgIzAwYzk5NiwgIzAwM2Q0ZCk7IC8qIENocm9tZSAxMC0yNSwgU2FmYXJpIDUuMS02ICovCiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjMDAzZDRkLCAjMmEzMzBmMDApOyAvKiBXM0MsIElFIDEwKy8gRWRnZSwgRmlyZWZveCAxNissIENocm9tZSAyNissIE9wZXJhIDEyKywgU2FmYXJpIDcrICovCiAgaGVpZ2h0OiAxMDBweDsKfQoKLmVsLXRyZWUtbm9kZV9fbGFiZWwgewogIGZvbnQtZmFtaWx5OiBLYWlUaSwgc2VyaWY7Cn0KCi5CTWFwX3BvcCA+IGRpdiB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2JkZTVmOTsKfQoKI3RpdGxlIHsKICBtYXJnaW4tbGVmdDogMjBweDsKICBoZWlnaHQ6IDE1MHB4OwogIHdpZHRoOiAxMDAwcHg7CiAgbWFyZ2luLXRvcDogLTI1cHg7Cn0KCiNpY29uIHsKICBoZWlnaHQ6IDMwcHg7CiAgd2lkdGg6IDMwcHg7CiAgYm9yZGVyLXJhZGl1czogMTVweDsKICBsaW5lLWhlaWdodDogMTIwcHg7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGxlZnQ6IDIwcHg7CiAgdG9wOiA0MHB4Owp9CgouZWwtdHJlZS1ub2RlLmlzLWN1cnJlbnQgPiAuZWwtdHJlZS1ub2RlX19jb250ZW50IHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjM2NmM1ICFpbXBvcnRhbnQ7Cn0KCi5lbC10cmVlLW5vZGUgewogIGhlaWdodDogNDBweDsKICBmb250LWZhbWlseTogS2FpVGksIHNlcmlmOwogIGZvbnQtc2l6ZTogMjBweDsKfQoKI21hcERpdiB7CiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTEwcHgpOwogIHdpZHRoOiBjYWxjKDEwMHZ3IC0gMjEwcHgpOzsKICBtYXJnaW46IDJweDsKfQoKI21lbnUgewogIGZsb2F0OiByaWdodDsKfQoKI2ltZ0RpdiB7CiAgY29sb3I6ICNkZmU2ZWM7CiAgaGVpZ2h0OiAwcHg7CiAgLypiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIi4uL2Fzc2V0cy9pbWFnZXMvdGl0bGUucG5nIik7Ki8KICBiYWNrZ3JvdW5kLXNpemU6IDE0MDBweCAxNDBweDsKfQoKI2ltZ1JlcyB7CiAgY29sb3I6ICNkZmU2ZWM7CiAgaGVpZ2h0OiAxMDBweDsKICB3aWR0aDogMTAwcHg7CiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCIuLi9hc3NldHMvaW1hZ2VzL2NvbW1vbi93YXRlci1sZXZlbC5naWYiKTsKICBiYWNrZ3JvdW5kLXNpemU6IDEwMHB4IDEwMHB4Owp9CgoudGR0LWluZm93aW5kb3ctY29udGVudCB7CiAgbWFyZ2luOiAwOwogIGJhY2tncm91bmQtY29sb3I6ICM0MjU0MzE7Cn0KCi50ZHQtaW5mb3dpbmRvdy1jb250ZW50LXdyYXBwZXIgewogIGJhY2tncm91bmQtY29sb3I6ICM1Nzg0YWI7CiAgY29sb3I6ICNkMWY2ZmY7CiAgZm9udC1mYW1pbHk6IOalt+S9kywgc2VyaWY7Cn0KCi5lbC10cmVlIHsKICBtYXJnaW4tdG9wOiAzcHg7CiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTEwcHgpOwogIGNvbG9yOiAjMDYyNDYzOwogIGJvcmRlci1zdHlsZTogaW5zZXQ7Cn0KCi5lbC10cmVlLS1oaWdobGlnaHQtY3VycmVudCAuZWwtdHJlZS1ub2RlLmlzLWN1cnJlbnQgPiAuZWwtdHJlZS1ub2RlX19jb250ZW50IHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2FiN2Y1Owp9CgouZWwtdHJlZS1ub2RlOmZvY3VzID4gLmVsLXRyZWUtbm9kZV9fY29udGVudCB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzY2YjFmZjg3ICFpbXBvcnRhbnQ7Cn0KCi5lbC10cmVlLW5vZGVfX2NvbnRlbnQ6aG92ZXIgewogIGJhY2tncm91bmQtY29sb3I6ICM2NmIxZmY4NzsKfQoKLmVsLXRyZWUtLWhpZ2hsaWdodC1jdXJyZW50IC5lbC10cmVlLW5vZGUuaXMtY3VycmVudCA+IC5lbC10cmVlLW5vZGVfX2NvbnRlbnQgewogIGJhY2tncm91bmQtY29sb3I6ICM2NmIxZmY4NzsKfQoKCg=="},{"version":3,"sources":["reservoir.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6NA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"reservoir.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class='app-container'>\n    <el-row class=\"top-div\">\n      <img id=\"icon\" src=\"../assets/logo/logo.png\" alt=\"\">\n      <img id=\"title\" src=\"../assets/images/manage-title.png\" alt=\"\">\n      <div id=\"menu\">\n        <div style=\"margin-top:20px; margin-right: 40px;\">\n          <img src=\"../assets/images/data/head.png\" style=\"width:40px;height:40px;\" alt=\"\">\n          <div style=\"margin-left:-10px; color:#385292\">退出登陆</div>\n        </div>\n      </div>\n\n    </el-row>\n    <el-col :span=\"3\" id=\"left\">\n      <el-row>\n        <el-col id=\"imgDiv\" :span=\"24\">\n\n        </el-col>\n      </el-row>\n      <el-row>\n\n      </el-row>\n      <el-row style=\"overflow:auto;\">\n        <el-tree :data=\"reservoirs\" @node-click=\"handleNodeClick\" node-key=\"name\" default-expand-all>\n            <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\n                <span>\n                    <i class=\"el-icon-s-flag\"></i>{{ node.label }}\n                </span>\n            </span>\n        </el-tree>\n      </el-row>\n    </el-col>\n    <el-col :span=\"21\">\n      <baidu-map\n        id=\"mapDiv\"\n        :scroll-wheel-zoom=\"true\"\n        @ready=\"mapReady\">\n      </baidu-map>\n    </el-col>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"reservoir\",\n    data() {\n      return {\n        tdtMap: {},\n        activeIndex: '1',\n        markers: [],\n        reservoirs: require('@/api/flash/reservoirs.json').list.slice(1),\n        defaultProps: {\n          children: 'children',\n          label: 'label'\n        },\n        map: undefined,\n        point: \"\",\n        BMap: undefined,\n        previousPoint: undefined,\n        level: 12,\n      }\n    },\n    created() {\n    },\n    mounted() {\n      // 初始化天地图\n      window.enterRes = this.enterRes;\n    },\n    watch: {},\n    methods: {\n      mapReady({BMap, map}) {\n        map.addControl(new BMap.OverviewMapControl());              //添加缩略地图控件\n        map.enableScrollWheelZoom();\n        map.addControl(new BMap.NavigationControl({\n          type: BMAP_NAVIGATION_CONTROL_LARGE,\n          anchor: BMAP_ANCHOR_TOP_RIGHT,\n          offset: new BMap.Size(40, 250)\n        }));\n        let bdary = new BMap.Boundary();\n        bdary.get('滕州市', function (rs) {       //获取行政区域\n          let EN_JW = \"180, 90;\";         //东北角\n          let NW_JW = \"-180,  90;\";       //西北角\n          let WS_JW = \"-180, -90;\";       //西南角\n          let SE_JW = \"180, -90;\";        //东南角\n          let ply1 = new BMap.Polygon(rs.boundaries[0] + SE_JW + SE_JW + WS_JW + NW_JW + EN_JW + SE_JW, {\n            strokeColor: \"none\",\n            fillColor: \"rgba(48,65,86,0.47)\",\n            fillOpacity: 1,\n            strokeOpacity: 0.5\n          }); //建立多边形覆盖物\n          map.addOverlay(ply1);\n        });\n        // 选择一个经纬度作为中心点\n        this.point = new BMap.Point(117.160202, 35.117438);\n        this.map = map;\n        this.BMap = BMap;\n        this.map.centerAndZoom(this.point, this.level);\n        this.createMarkers();\n      },\n\n      generateIcon(item){\n        if (!item) return;\n        let pos = 9 + item.type;\n        return new BMap.Icon(\"http://api.map.baidu.com/img/markers.png\", new BMap.Size(23, 25), {\n            offset: new BMap.Size(10, 25), // 指定定位位置\n            imageOffset: new BMap.Size(0, 0 - pos * 25) // 设置图片偏移使用左侧的图片\n        });\n      },\n\n      createMarkers() {\n        for (let i = 0; i < this.reservoirs.length; i++) {\n          let item = this.reservoirs[i];\n          let point = new BMap.Point(item.lon, item.lat);\n          let marker = new BMap.Marker(point, {icon:this.generateIcon(item)});// 创建标注\n\n          this.map.addOverlay(marker);\n          let infoWindow = new BMap.InfoWindow();\n          let sContent = this.generateInfoWindow(item);\n\n          infoWindow.setContent(sContent);\n          marker.addEventListener(\"click\", function () {\n            marker.openInfoWindow(infoWindow);\n          });\n          let that = this;\n          let label = this.generateLabel(item);\n\n          marker.addEventListener(\"onmouseover\", function () {\n            if (that.previousPoint) {\n              that.previousPoint.setAnimation(null);\n              that.map.removeOverlay(that.previousPoint.getLabel());\n            }\n            marker.setLabel(label);\n            label.addEventListener(\"click\", function (data) {\n              let item = that.findMarker(data.currentTarget.content);\n              item.openInfoWindow(item.win);\n            });\n            that.previousPoint = marker;\n            marker.setAnimation(BMAP_ANIMATION_BOUNCE);\n          });\n          marker.win = infoWindow;\n          marker.reservoir = this.reservoirs[i];\n          this.markers.push(marker);\n        }\n        let firstWindow = new BMap.InfoWindow();\n        firstWindow.setContent(this.generateInfoWindow(this.reservoirs[1]));\n      },\n\n      generateLabel(item) {\n        let label = new this.BMap.Label(item.label, {\"offset\": new this.BMap.Size(20, -20)});\n        label.setStyle({\n          color: \"#000b97\",\n          fontSize: \"14px\",\n          width: '100px',\n          textAlign: 'center',\n          height: '25px',\n          backgroundColor: \"rgb(235,233,229)\",\n          border: '2px solid #3344dd',\n          fontWeight: \"bold\",\n          cursor: \"pointer\"\n        });\n        return label;\n      },\n\n      findReservoir(label) {\n        return this.reservoirs.find(function (a) {\n          return a.label === label;\n        });\n      },\n\n      findMarker(label) {\n        for (let i = 0; i < this.reservoirs.length; i++) {\n          if (label === this.reservoirs[i].label){\n            return this.markers[i];\n          }\n        }\n      },\n\n      generateInfoWindow(item) {\n        return \"<div style='margin:5px; '>\" +\n          \"<div style='margin: 30px 10px 0 10px; padding-bottom: 20px'>\" +\n          \"<h2 style='text-align: center'>\" + item.label + \"</h2><hr>\" +\n          \"<div id='imgRes' style='float:left;margin:0px 10px' width='40' height='40' title='\" + item.label + \"'></div>\" +\n          \"<div style='margin:10px 0px 10px 120px;font-size: larger'>\" + (item.description?item.description:\"\") +\n          \"</div>\" +\n          \"<input style='margin: 0 auto;  width: 180px;height: 30px; text-align: center; background: #5596de;color: \" +\n          \"#FFF;border: none;display: block;cursor: pointer;' type='button' value='进入系统'\" +\n          \"  onclick='enterRes(\\\"\" + item.label + \"\\\")'>\" +\n          \"</div>\" +\n          \"</div>\";\n      },\n\n      handleNodeClick(item) {\n        let center = new BMap.Point(item.lon, item.lat);\n        this.map.centerAndZoom(center, this.level);\n        if (this.previousPoint) {\n          this.previousPoint.setAnimation(null);\n          this.map.removeOverlay(this.previousPoint.getLabel());\n        }\n        this.previousPoint = this.findMarker(item.label);\n        this.previousPoint.setLabel(this.generateLabel(item));\n        this.previousPoint.setAnimation(BMAP_ANIMATION_BOUNCE);\n      },\n\n\n\n      /***\n       * 进入水库\n       */\n      enterRes(label) {\n        let url = this.findReservoir(label).url;\n        if (url.startsWith(\"/\")) {\n          this.$router.push({path: this.redirect || '/'})\n        } else {\n          window.location.href = url;\n        }\n      },\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  .app-container {\n    margin: 0;\n    padding: 0 !important;\n  }\n\n  .top-div {\n    background: #003d4d; /* fallback for old browsers */\n    background: -webkit-linear-gradient(to right, #00c996, #003d4d); /* Chrome 10-25, Safari 5.1-6 */\n    background: linear-gradient(to right, #003d4d, #2a330f00); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n    height: 100px;\n  }\n\n  .el-tree-node__label {\n    font-family: KaiTi, serif;\n  }\n\n  .BMap_pop > div {\n    background-color: #bde5f9;\n  }\n\n  #title {\n    margin-left: 20px;\n    height: 150px;\n    width: 1000px;\n    margin-top: -25px;\n  }\n\n  #icon {\n    height: 30px;\n    width: 30px;\n    border-radius: 15px;\n    line-height: 120px;\n    position: absolute;\n    left: 20px;\n    top: 40px;\n  }\n\n  .el-tree-node.is-current > .el-tree-node__content {\n    background-color: #2366c5 !important;\n  }\n\n  .el-tree-node {\n    height: 40px;\n    font-family: KaiTi, serif;\n    font-size: 20px;\n  }\n\n  #mapDiv {\n    height: calc(100vh - 110px);\n    width: calc(100vw - 210px);;\n    margin: 2px;\n  }\n\n  #menu {\n    float: right;\n  }\n\n  #imgDiv {\n    color: #dfe6ec;\n    height: 0px;\n    /*background-image: url(\"../assets/images/title.png\");*/\n    background-size: 1400px 140px;\n  }\n\n  #imgRes {\n    color: #dfe6ec;\n    height: 100px;\n    width: 100px;\n    background-image: url(\"../assets/images/common/water-level.gif\");\n    background-size: 100px 100px;\n  }\n\n  .tdt-infowindow-content {\n    margin: 0;\n    background-color: #425431;\n  }\n\n  .tdt-infowindow-content-wrapper {\n    background-color: #5784ab;\n    color: #d1f6ff;\n    font-family: 楷体, serif;\n  }\n\n  .el-tree {\n    margin-top: 3px;\n    height: calc(100vh - 110px);\n    color: #062463;\n    border-style: inset;\n  }\n\n  .el-tree--highlight-current .el-tree-node.is-current > .el-tree-node__content {\n    background-color: #3ab7f5;\n  }\n\n  .el-tree-node:focus > .el-tree-node__content {\n    background-color: #66b1ff87 !important;\n  }\n\n  .el-tree-node__content:hover {\n    background-color: #66b1ff87;\n  }\n\n  .el-tree--highlight-current .el-tree-node.is-current > .el-tree-node__content {\n    background-color: #66b1ff87;\n  }\n\n\n</style>\n"]}]}