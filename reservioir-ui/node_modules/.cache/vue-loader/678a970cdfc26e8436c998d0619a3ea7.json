{"remainingRequest":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\managementGuarantee\\trainingManagement\\organization.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\views\\managementGuarantee\\trainingManagement\\organization.vue","mtime":1640419131895},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1711181251489},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1711181253421},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":1711181252308},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1711181250722},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1711181252689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY29sb3I0MDkgewogIGNvbG9yOiAjNDA5ZWZmOwogIGN1cnNvcjogcG9pbnRlcjsKfQoKLmZyb20tY29sLWFib3V0IHsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgbGluZS1oZWlnaHQ6IDE2MHB4OwogIGJvcmRlci1yaWdodDogI2E0ZDVmZiAxcHggc29saWQ7CiAgYm9yZGVyLWxlZnQ6ICNhNGQ1ZmYgMXB4IHNvbGlkOwp9CgouZnJvbS1jb2wtZm9ybSB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGxpbmUtaGVpZ2h0OiAyODBweDsKICBib3JkZXItcmlnaHQ6ICNhNGQ1ZmYgMXB4IHNvbGlkOwp9CgovLy5lbC1kaWFsb2d7Ci8vICBkaXNwbGF5OiBmbGV4OwovLyAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKLy8gIG1hcmdpbjowICFpbXBvcnRhbnQ7Ci8vICBwb3NpdGlvbjphYnNvbHV0ZTsKLy8gIHRvcDozNSU7Ci8vICBsZWZ0OjUwJTsKLy8gIHRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTsKLy8gIC8qaGVpZ2h0OjYwMHB4OyovCi8vICBtYXgtaGVpZ2h0OmNhbGMoMTAwJSAtIDMwcHgpOwovLyAgbWF4LXdpZHRoOmNhbGMoMTAwJSAtIDMwcHgpOwovL30KLy8uZWwtZGlhbG9nIC5lbC1kaWFsb2dfX2JvZHl7Ci8vICBmbGV4OjE7Ci8vICBvdmVyZmxvdzogYXV0bzsKLy99Cgo="},{"version":3,"sources":["organization.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0yCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"organization.vue","sourceRoot":"src/views/managementGuarantee/trainingManagement","sourcesContent":["<template>\n  <div class=\"app-container\">\n\n    <el-row class=\"from-top\">\n      <!-- <el-col :span=\"24\">\n        <el-steps :active=\"1\" simple>\n          <el-step title=\"编制\" icon=\"el-icon-edit\"></el-step>\n          <el-step title=\"审核\" icon=\"el-icon-upload\"></el-step>\n          <el-step title=\"批准\" icon=\"el-icon-picture\"></el-step>\n          <el-step title=\"实施\" icon=\"el-icon-picture\"></el-step>\n          <el-step title=\"评价\" icon=\"el-icon-picture\"></el-step>\n          <el-step title=\"完成\" icon=\"el-icon-picture\"></el-step>\n        </el-steps>\n      </el-col> -->\n\n      <!-- <el-col :span=\"24\">\n        <div style=\"margin: 0 auto;display: flex;align-items: center;justify-content:center;width: 100% ;\">\n          <div style=\"position: relative;\">\n            <img src=\"../../../assets/images/01s.png\"/>\n            <div style=\"position: absolute;top:27px;left: 23px;width: 50%;color: #FFFFFF;\">编制</div>\n          </div>\n          <div style=\"position: relative;width: 20%;\">\n            <img :src=\"require(active>1? '../../../assets/images/04.png':'../../../assets/images/05.png')\"\n                 style=\"width: 100%;height: 18px;\"/>\n            <img v-if=\"active==1\" :src=\"require(active==1? '../../../assets/images/07.gif':'../../../assets/images/06.gif')\"\n                 style=\"position: absolute;top: 0px;left: 80px;height: 80%;width: 20%;\"/>\n          </div>\n          <div style=\"position: relative;\">\n            <img :src=\"require(active>1? '../../../assets/images/01s.png':'../../../assets/images/01.png')\"/>\n            <div\n              :style=\"active>1? 'position: absolute;top: 27px;left: 23px;width: 50%;color: #FFFFFF;':'position: absolute;top: 27px;left: 23px;width: 50%;color: #999999;'\">\n              审核\n            </div>\n          </div>\n          <div style=\"position: relative;width: 20%;\">\n            <img :src=\"require(active>2? '../../../assets/images/04.png':'../../../assets/images/05.png')\"\n                 style=\"width: 100%;height: 18px;\"/>\n            <img v-if=\"active==2 || active==1\" :src=\"require(active==2? '../../../assets/images/07.gif':'../../../assets/images/06.gif')\"\n                 style=\"position: absolute;top: 0px;left: 80px;height: 80%;width: 20%;\"/>\n          </div>\n          <div style=\"position: relative;\">\n            <img :src=\"require(active>2? '../../../assets/images/01s.png':'../../../assets/images/01.png')\"/>\n            <div\n              :style=\"active>1? 'position: absolute;top: 27px;left: 23px;width: 50%;color: #FFFFFF;':'position: absolute;top: 27px;left: 23px;width: 50%;color: #999999;'\">\n              批准\n            </div>\n          </div>\n          <div style=\"position: relative;width: 20%;\">\n            <img :src=\"require(active>3? '../../../assets/images/04.png':'../../../assets/images/05.png')\"\n                 style=\"width: 100%;height: 18px;\"/>\n            <img v-if=\"active<4\" :src=\"require(active==3? '../../../assets/images/07.gif':'../../../assets/images/06.gif')\"\n                 style=\"position: absolute;top: 0px;left: 80px;height: 80%;width: 20%;\"/>\n          </div>\n          <div style=\"position: relative;\">\n            <img :src=\"require(active>3? '../../../assets/images/01s.png':'../../../assets/images/01.png')\"/>\n            <div\n              :style=\"active>1? 'position: absolute;top: 27px;left: 23px;width: 60%;color: #FFFFFF;':'position: absolute;top: 27px;left: 23px;width: 70%;color: #999999;'\">\n              实施\n            </div>\n          </div>\n          <div style=\"position: relative;width: 20%;\">\n            <img :src=\"require(active>4? '../../../assets/images/04.png':'../../../assets/images/05.png')\"\n                 style=\"width: 100%;height: 18px;\"/>\n            <img v-if=\"active<5\" :src=\"require(active==4? '../../../assets/images/07.gif':'../../../assets/images/06.gif')\"\n                 style=\"position: absolute;top: 0px;left: 80px;height: 80%;width: 20%;\"/>\n          </div>\n          <div style=\"position: relative;\">\n            <img :src=\"require(active>4? '../../../assets/images/01s.png':'../../../assets/images/01.png')\"/>\n            <div\n              :style=\"active>1? 'position: absolute;top: 27px;left: 23px;width: 50%;color: #FFFFFF;':'position: absolute;top: 27px;left: 23px;width: 50%;color: #999999;'\">\n              评价\n            </div>\n          </div>\n          <div style=\"position: relative;width: 20%;\">\n            <img :src=\"require(active==6? '../../../assets/images/04.png':'../../../assets/images/05.png')\"\n                 style=\"width: 100%;height: 18px;\"/>\n            <img v-if=\"active!=6\" :src=\"require(active==5? '../../../assets/images/07.gif':'../../../assets/images/06.gif')\"\n                 style=\"position: absolute;top: 0px;left: 80px;height: 80%;width: 20%;\"/>\n          </div>\n          <div style=\"position: relative;\">\n            <img :src=\"require(active==6? '../../../assets/images/01s.png':'../../../assets/images/01.png')\"/>\n            <div\n              :style=\"active>1? 'position: absolute;top: 27px;left: 23px;width: 50%;color: #FFFFFF;':'position: absolute;top: 27px;left: 23px;width: 50%;color: #999999;'\">\n              完成\n            </div>\n          </div>\n        </div>\n      </el-col> -->\n\n      <el-col :span=\"24\">\n        <div style=\"margin: 0 auto;display: flex;align-items: center;width: 100%;justify-content:center;\">\n          <div style=\"position: relative;\">\n            <img style=\"width: 100%;height: 45px;\" src=\"../../../assets/images/jin.png\"/>\n            <div style=\"position: absolute;top: 10px;left: 60px;width: 50%;color: #FFFFFF;\">1.编制</div>\n          </div>\n          <div style=\"position: relative;\">\n            <img style=\"width: 100%;height: 45px;\"\n                 :src=\"require(active>1? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\"/>\n            <div\n              :style=\"active>1? 'position: absolute;top: 10px;left: 60px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 60px;width: 50%;color: #757575;'\">\n              2.审核\n            </div>\n          </div>\n          <div style=\"position: relative;\">\n            <img style=\"width: 100%;height: 45px;\"\n                 :src=\"require(active>2? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\"/>\n            <div\n              :style=\"active>2? 'position: absolute;top: 10px;left: 60px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 60px;width: 50%;color: #757575;'\">\n              3.批准\n            </div>\n          </div>\n          <div style=\"position: relative;\">\n            <img style=\"width: 100%;height: 45px;\"\n                 :src=\"require(active>3? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\"/>\n            <div\n              :style=\"active>3? 'position: absolute;top: 10px;left: 60px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 60px;width: 50%;color: #757575;'\">\n              4.实施\n            </div>\n          </div>\n          <div style=\"position: relative;\">\n            <img style=\"width: 100%;height: 45px;\"\n                 :src=\"require(active>4? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\"/>\n            <div\n              :style=\"active>4? 'position: absolute;top: 10px;left: 60px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 60px;width: 50%;color: #757575;'\">\n              5.评价\n            </div>\n          </div>\n          <div style=\"position: relative;\">\n            <img style=\"width: 100%;height: 45px;\"\n                 :src=\"require(active==6? '../../../assets/images/jin.png':'../../../assets/images/jin1.png')\"/>\n            <div\n              :style=\"active==6? 'position: absolute;top: 10px;left: 60px;width: 50%;color: #FFFFFF;':'position: absolute;top: 10px;left: 60px;width: 50%;color: #757575;'\">\n              6.完成\n            </div>\n          </div>\n        </div>\n      </el-col>\n\n\n    </el-row>\n    <div class=\"from-div\">\n      <el-row>\n        <el-col :span=\"24\"\n                class=\"from-div-title\"\n                style=\"background-color: rgba(215, 215, 215, 1); text-align: right;\"\n\n        >\n          <el-button v-if=\"active == 1 && formData.fId == null || formData.fId == null\" type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"submit(0)\">暂存</el-button>\n\n          <el-button v-if=\"active == 1\" type=\"primary\" size=\"small\" style=\"margin-right: 20px\" @click=\"submit(1)\">提交\n          </el-button>\n          <el-button v-if=\"active == 2 \" type=\"primary\" size=\"small\" style=\"margin-right: 20px\" @click=\"verify\">审核\n          </el-button>\n          <el-button v-if=\"active == 3 \" type=\"primary\" size=\"small\" style=\"margin-right: 20px\" @click=\"approve\">审批\n          </el-button>\n          <el-button v-if=\"active == 4 \" type=\"primary\" size=\"small\" style=\"margin-right: 20px\" @click=\"implement\">实施\n          </el-button>\n          <el-button v-if=\"active == 5 \" type=\"primary\" size=\"small\" style=\"margin-right: 20px\" @click=\"mark\">评分\n          </el-button>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"24\"\n                class=\"from-div-title\"\n        >\n          培训计划实施一览表\n        </el-col>\n      </el-row>\n      <el-row class=\"from-border-bottom\">\n        <el-col :span=\"3\" class=\"from-col-left\">\n          计划名称\n        </el-col>\n        <el-col :span=\"8\" class=\"from-border-right\">\n          <el-input v-model=\"formData.fPlanName\" clearable placeholder=\"请输入内容\"\n                    v-bind:disabled=\"active != 1? true : false\"></el-input>\n        </el-col>\n        <el-col :span=\"3\" class=\"from-col-left\">\n          评价方式\n        </el-col>\n        <el-col :span=\"3\" class=\"from-col-left\">\n          <el-select\n            v-model=\"formData.fEvaWay\"\n            placeholder=\"评价方式\"\n            clearable\n            size=\"small\"\n            v-bind:disabled=\"active != 1? true : false\"\n          >\n            <el-option\n              v-for=\"(item,index) in dict.assessMode\"\n              :key=\"item.dictValue\"\n              :label=\"item.dictLabel\"\n              :value=\"item.dictValue\"\n            />\n          </el-select>\n        </el-col>\n\n        <el-col :span=\"3\" class=\"from-col-left\">\n          预算(元)\n        </el-col>\n        <el-col :span=\"4\" class=\"from-border-right\">\n          <el-input v-model=\"formData.fBudget\" clearable placeholder=\"请输入内容\"\n                    v-bind:disabled=\"active != 1? true : false\"></el-input>\n        </el-col>\n      </el-row>\n      <el-row class=\"from-border-bottom\">\n        <el-col :span=\"3\" class=\"from-col-left\">\n          培训时间\n        </el-col>\n        <el-col :span=\"10\" style=\"text-align: center ;line-height: 40px;\">\n          <el-date-picker v-model=\"formData.fStartTime\" type=\"datetime\" style=\"width: 40%;\" placeholder=\"开始时间\"\n                          :readonly=\"active!=1\">\n          </el-date-picker>\n          ~\n          <el-date-picker v-model=\"formData.fEndTime\" type=\"datetime\" style=\"width: 40%;\" placeholder=\"结束时间\"\n                          :readonly=\"active!=1\">\n          </el-date-picker>\n        </el-col>\n      </el-row>\n      <el-row class=\"from-border-bottom\">\n        <el-col :span=\"3\" class=\"from-borderibht\">\n          培训内容\n        </el-col>\n        <el-col :span=\"21\" style=\"height: 400px;\">\n          <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\n            培训概述：\n          </div>\n          <el-input type=\"textarea\"  maxlength=\"500\" show-word-limit  :rows=\"8\" placeholder=\"请输入内容\" v-model=\"formData.fTraContent\"\n                    v-bind:disabled=\"active != 1? true : false\"/>\n          <div style=\"display:flex;justify-content:space-between;margin-top: 70px;\">\n            <div style=\"width: 200px;margin-left: 20px;\">\n              <el-upload style=\"margin-left: 15px;\" class=\"upload-demo\"\n                         :headers=\"GLOBAL.headers()\"\n                         :action=\"GLOBAL.httpUrl\"\n                         :on-preview=\"handlePreview\" :on-remove=\"removeTrain\"  multiple\n                         :on-success=\"train\"\n                         :show-file-list=\"true\"\n                         :auto-upload=\"true\"\n                         :limit=\"1\"\n                         :disabled=\"active != 1\"\n                         :on-exceed=\"handleExceed\" :file-list=\"fileList\">\n                <el-button size=\"small\" type=\"primary\" :disabled=\"active != 1\">培训内容</el-button>\n                               <div slot=\"tip\" class=\"el-upload__tip\" style=\"margin-top: 15px\">上传文件不得超过100M</div>\n              </el-upload>\n            </div>\n            <div style=\"font-size: 20px;margin-right: -8px;width:300px;transform:translateY(-15%);\">\n              <div style=\"text-align: left\">\n                <div style=\"margin-left:-20px;display:inline;\">编制人：\n                  <el-input v-model=\"formData.fPreparedBy\" placeholder=\"请输入编制人名称\"\n                            v-bind:disabled=\"active != 1? true : false\"\n                            style=\"width:220px;border: 1px solid #DCDFE6;margin-left: -6px\"></el-input>\n                </div>\n                <div>\n                  <div class=\"block\" style=\"transform:translateY(15%);margin-left: -20px\">\n                    <span v-html=\"'时&ensp;&ensp;间：'\"/>\n                    <el-date-picker style=\"border: 1px solid #DCDFE6;\"\n                                    type=\"date\"\n                                    v-model=\"formData.fPreparationTime\"\n                                    placeholder=\"选择日期\"\n                                    v-bind:disabled=\"active != 1? true : false\"\n                    >\n                    </el-date-picker>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </el-col>\n      </el-row>\n\n      <el-row class=\"from-border-bottom\" style=\"position: relative\">\n        <el-col :span=\"3\" class=\"from-borderibht\">\n          参加人员\n        </el-col>\n        <el-col :span=\"21\" style=\"height: 50px;\">\n          <el-button size=\"small\" type=\"primary\" style=\"margin:5px;float:right;margin-right:17px;\" :disabled=\"active != 1\"\n                     @click=\"add\">\n            参加人员\n          </el-button>\n          <div class=\"table-head\" style=\"margin:0 auto;margin-top:40px;width:98%;\">\n            参加人员列表\n          </div>\n          <el-table :data=\"formData.joinTrainingList\" class=\"from-top\" border style=\"width: 98%;margin:0 auto;\">\n            <!--            <el-table-column label=\"序号\" align=\"center\" prop=\"id\"/>-->\n            <el-table-column label=\"姓名\" align=\"center\" prop=\"fName\"/>\n            <el-table-column label=\"性别\" align=\"center\" prop=\"fGender\">\n              <template slot-scope=\"scope\">\n                <span v-for=\"(item,index) in dict.gender\" v-if=\"item.dictValue == scope.row.fGender\">\n                  {{ item.dictLabel }}\n                </span>\n              </template>\n            </el-table-column>\n            >\n            <el-table-column label=\"年龄\" align=\"center\" prop=\"fAge\"/>\n            <el-table-column label=\"政治面貌\" align=\"center\" prop=\"fFace\">\n              <template slot-scope=\"scope\">\n                <span v-for=\"(item,index) in dict.politicalStatus\" v-if=\"item.dictValue == scope.row.fFace\">\n                  {{ item.dictLabel }}\n                </span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"职务\" align=\"center\" prop=\"fJobContent\"/>\n            <el-table-column label=\"职称\" align=\"center\" prop=\"fJobTitle\"/>\n            <el-table-column label=\"学历\" align=\"center\" prop=\"fEducation\">\n              <template slot-scope=\"scope\">\n                <span v-for=\"(item,index) in dict.education\" v-if=\"item.dictValue == scope.row.fEducation\">\n                  {{ item.dictLabel }}\n                </span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\" width=\"200\">\n              <template slot-scope=\"scope\">\n                  <el-button size=\"mini\" type=\"text\" @click=\"detail(scope.row)\" :disabled=\"active != 1\">详情\n                  </el-button>\n                  <el-button size=\"mini\" type=\"text\" @click=\"edit(scope)\" :disabled=\"active != 1\">编辑\n                  </el-button>\n                  <el-button size=\"mini\" type=\"text\" @click=\"remove(scope)\" :disabled=\"active != 1\">删除\n                  </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n\n          <!--          <div class=\"block\" style=\"text-align: right;margin-top: 5px;margin-right: 7px\">-->\n          <!--            <el-pagination-->\n          <!--              background-->\n          <!--              @size-change=\"handleSizeChange\"-->\n          <!--              @current-change=\"handleCurrentChange\"-->\n          <!--              :current-page=\"currentPage\"-->\n          <!--              :page-size=\"3\"-->\n          <!--              layout=\"total, prev, pager, next, jumper\"-->\n          <!--              :total=\"3\">-->\n          <!--            </el-pagination>-->\n          <!--          </div>-->\n\n          <div class=\"from-select\" style=\"float:right;margin-top: 15px;position: absolute;bottom: 10px;right: 10px\">\n            <div>\n              <span>培训人：<el-input v-model=\"formData.fTraPersion\" placeholder=\"培训人\"\n                                  v-bind:disabled=\"active != 1? true : false\"\n                                  style=\"width:180px;\"></el-input></span>\n              <div class=\"block\" style=\"display:inline;margin-left:10px;\">\n                <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\"/>\n                <el-date-picker\n                  type=\"date\"\n                  v-model=\"formData.fTraTime\"\n                  v-bind:disabled=\"active != 1? true : false\"\n                >\n                </el-date-picker>\n              </div>\n            </div>\n          </div>\n        </el-col>\n      </el-row>\n\n      <el-row class=\"from-border-bottom\">\n        <el-col :span=\"3\" class=\"from-col\">\n          计划审核\n        </el-col>\n        <el-col :span=\"21\" style=\"height: 50px;\">\n          <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\n            审核意见：\n          </div>\n          <el-input type=\"textarea\"  maxlength=\"500\" show-word-limit  :rows=\"3\" v-model=\"formData.fReviewComments\" placeholder=\"请输入内容\"\n                    v-bind:disabled=\"active != 2? true : false\">\n          </el-input>\n          <div class=\"from-select\">\n            <div style=\"margin-left: 10px;\">\n              <div style=\"font-size: 16px;font-weight: 700;display:inline;\">\n                审核结果：\n              </div>\n              <el-select v-model=\"formData.fReviewResult\" clearable placeholder=\"请选择\"\n                         v-bind:disabled=\"active != 2? true : false\">\n                <el-option v-for=\"item in dict.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\"\n                           :value=\"item.dictValue\">\n                </el-option>\n              </el-select>\n            </div>\n            <div>\n              <span>审核人：<el-input v-model=\"formData.fReviewPeople\" placeholder=\"审核人\"\n                                  v-bind:disabled=\"active != 2? true : false\"\n                                  style=\"width:180px;\"></el-input></span>\n              <div class=\"block\" style=\"display:inline;margin-left:10px;\">\n                <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\"/>\n                <el-date-picker\n                  type=\"date\"\n                  v-model=\"formData.fReviewDate\"\n                  placeholder=\"选择日期\"\n                  v-bind:disabled=\"active != 2? true : false\"\n                >\n                </el-date-picker>\n              </div>\n            </div>\n          </div>\n        </el-col>\n      </el-row>\n\n\n      <el-row class=\"from-border-bottom\">\n        <el-col :span=\"3\" class=\"from-col\">\n          计划批准\n        </el-col>\n        <el-col :span=\"21\" style=\"height: 50px;\">\n          <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\n            审批意见：\n          </div>\n          <el-input type=\"textarea\" maxlength=\"500\" show-word-limit  :rows=\"3\" v-model=\"formData.fAuditComments\" placeholder=\"请输入内容\"\n                    v-bind:disabled=\"active != 3? true : false\">\n          </el-input>\n          <div class=\"from-select\">\n            <div style=\"margin-left: 10px;\">\n              <div style=\"font-size: 16px;font-weight: 700;display:inline;\">\n                审批结果：\n              </div>\n              <el-select v-model=\"formData.fAuditResult\" clearable placeholder=\"请选择\"\n                         v-bind:disabled=\"active != 3? true : false\">\n                <el-option v-for=\"item in dict.result\" :key=\"item.dictValue\" :label=\"item.dictLabel\"\n                           :value=\"item.dictValue\">\n                </el-option>\n              </el-select>\n            </div>\n            <div>\n              <span>审批人：<el-input v-model=\"formData.fAuditPeople\" placeholder=\"审批人\"\n                                  v-bind:disabled=\"active != 3? true : false\"\n                                  style=\"width:180px;\"></el-input></span>\n              <div class=\"block\" style=\"display:inline;margin-left:10px;\">\n                <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\"/>\n                <el-date-picker\n                  type=\"date\"\n                  v-model=\"formData.fAuditDate\"\n                  placeholder=\"选择日期\"\n                  v-bind:disabled=\"active != 3? true : false\"\n                >\n                </el-date-picker>\n              </div>\n            </div>\n          </div>\n        </el-col>\n      </el-row>\n\n\n      <el-row class=\"from-border-bottom\">\n        <div>\n          <el-col :span=\"3\" class=\"from-col\" style=\"line-height:190px;\">\n            计划实施\n          </el-col>\n\n          <el-col :span=\"9\" style=\"height: 30px;\">\n            <div style=\"font-size: 16px;font-weight: 700;padding: 10px;\">\n              实施内容：\n            </div>\n            <el-input type=\"textarea\" maxlength=\"500\" show-word-limit  :rows=\"3\" v-model=\"formData.fImpContent\" placeholder=\"请输入内容\"\n                      v-bind:disabled=\"active != 4? true : false\">\n            </el-input>\n          </el-col>\n          <el-col :span=\"3\" class=\"from-col-about\" style=\"line-height: 130px\">\n            总结报告\n          </el-col>\n          <el-col :span=\"9\" style=\"height: 90px;\">\n            <div style=\"width: 200px;margin-top: 20px;margin-left: 20px;\">\n              <el-upload style=\"margin-left: 15px;\" class=\"upload-demo\"\n\n                         :headers=\"GLOBAL.headers()\"\n                         :action=\"GLOBAL.httpUrl\"\n                         :on-preview=\"handlePreview\" :on-remove=\"handleRemove\"  multiple\n                         :on-success=\"uploadedSuccess\"\n                         :show-file-list=\"true\"\n                         :auto-upload=\"true\"\n                         :limit=\"1\"\n                         :on-exceed=\"handleExceed\" :file-list=\"fileLists\">\n                <el-button :disabled=\"active != 4\" size=\"small\" type=\"primary\">实施资料上传</el-button>\n                               <div slot=\"tip\" class=\"el-upload__tip\" style=\"margin-top: 15px\">上传文件不得超过100M</div>\n              </el-upload>\n            </div>\n          </el-col>\n        </div>\n        <div style=\"width: 87.5%;height: 60px;float: right;border-top: #a4d5ff 1px solid;padding:10px\">\n          <div style=\"text-align: right;\">\n            <div style=\"margin-bottom:10px;\">\n              <span>实施人：<el-input v-model=\"formData.fImpPersion\" placeholder=\"实施人\"\n                                  v-bind:disabled=\"active != 4? true : false\"\n                                  style=\"width:180px;border: 1px solid #DCDFE6;\"></el-input></span>\n              <div class=\"block\" style=\"display:inline;margin-left:10px;\">\n                <span class=\"demonstration\" v-html=\"'时&ensp;&ensp;间：'\"/>\n                <el-date-picker style=\"border: 1px solid #DCDFE6;\"\n                                type=\"date\"\n                                v-model=\"formData.fImpTime\"\n                                placeholder=\"选择日期\"\n                                v-bind:disabled=\"active != 4? true : false\"\n                >\n                </el-date-picker>\n              </div>\n            </div>\n          </div>\n        </div>\n      </el-row>\n\n\n      <el-row class=\"from-border-bottom\">\n        <el-col :span=\"3\" class=\"from-col-form\">\n          人员考核\n        </el-col>\n        <el-col :span=\"21\" style=\"height: 50px;\">\n          <div class=\"table-head\" style=\"margin:0 auto;margin-top:5px;width:98%;\">\n            考核人员列表\n          </div>\n          <el-table :data=\"formData.joinTrainingList\" class=\"from-top\" border style=\"width: 98%;margin:0 auto;\">\n            <el-table-column label=\"姓名\" align=\"center\" prop=\"fName\"/>\n            <el-table-column label=\"性别\" align=\"center\" prop=\"fGender\">\n              <template slot-scope=\"scope\">\n                <span v-for=\"(item,index) in dict.gender\" v-if=\"item.dictValue == scope.row.fGender\">\n                  {{ item.dictLabel }}\n                </span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"年龄\" align=\"center\" prop=\"fAge\"/>\n            <el-table-column label=\"政治面貌\" align=\"center\" prop=\"fFace\">\n              <template slot-scope=\"scope\">\n                <span v-for=\"(item,index) in dict.politicalStatus\" v-if=\"item.dictValue == scope.row.fFace\">\n                  {{ item.dictLabel }}\n                </span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"职务\" align=\"center\" prop=\"fJobContent\"/>\n            <el-table-column label=\"职称\" align=\"center\" prop=\"fJobTitle\"/>\n            <el-table-column label=\"学历\" align=\"center\" prop=\"fEducation\">\n              <template slot-scope=\"scope\">\n                <span v-for=\"(item,index) in dict.education\" v-if=\"item.dictValue == scope.row.fEducation\">\n                  {{ item.dictLabel }}\n                </span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"分数\" align=\"center\" prop=\"fFraction\"/>\n            <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\" width=\"150\">\n              <template slot-scope=\"{row}\">\n                  <el-button size=\"mini\" type=\"text\" @click=\"scoring(row)\" :disabled=\"active != 5\">打分\n                  </el-button>\n                  <el-button size=\"mini\" type=\"text\" @click=\"detail(row)\" :disabled=\"active != 5\">详情\n                  </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-col>\n      </el-row>\n    </div>\n\n    <!--打分-->\n    <el-dialog :modal=\"false\" title=\"培训人员打分\" :visible.sync=\"dialogFormVisible\" width=\"700px\" style=\"margin-top: 12%\">\n\n      <div style=\"margin-left: 130px\">\n        <span style=\"font-size: 18px\">得分：</span>\n        <span>\n        <el-input-number v-model=\"joinData.fFraction\" @change=\"handleChange\" :min=\"10\" :max=\"100\"\n                         label=\"描述文字\"></el-input-number>\n      </span>\n      </div>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"scoringOK\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n\n    <!-- 培训人员 -->\n    <el-dialog title=\"培训人员\" :visible.sync=\"open\" :before-close=\"cancel\" width=\"700px\" append-to-body>\n      <el-form ref=\"form\" :model=\"joinData\" :inline=\"true\" class=\"demo-form-inline\">\n\n        <el-form-item label=\"姓名\" prop=\"\">\n          <el-input style=\"width: 200px\" v-model=\"joinData.fName\" placeholder=\"请输入姓名\" :disabled=\"disable == 1\"/>\n        </el-form-item>\n\n        <el-form-item label=\"性别\" prop=\"\">\n          <el-select style=\"width: 200px\" v-model=\"joinData.fGender\" placeholder=\"请选择性别\" :disabled=\"disable == 1\">\n            <el-option v-for=\"item in dict.gender\" :key=\"item.dictValue\" :label=\"item.dictLabel\"\n                       :value=\"item.dictValue\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"年龄\" prop=\"\">\n          <el-input style=\"width: 200px\" v-model=\"joinData.fAge\" placeholder=\"请输入年龄\" :disabled=\"disable == 1\"/>\n        </el-form-item>\n\n        <el-form-item label=\"政治面貌\" prop=\"\">\n          <el-select style=\"width: 200px\" v-model=\"joinData.fFace\" placeholder=\"请选择\" :disabled=\"disable == 1\">\n            <el-option v-for=\"item in dict.politicalStatus\" :key=\"item.dictValue\" :label=\"item.dictLabel\"\n                       :value=\"item.dictValue\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"职务\" prop=\"\">\n          <el-input style=\"width: 200px\" v-model=\"joinData.fJobContent\" placeholder=\"请输入职务\" :disabled=\"disable == 1\"/>\n        </el-form-item>\n\n        <el-form-item label=\"职称\" prop=\"\">\n          <el-input style=\"width: 200px\" v-model=\"joinData.fJobTitle\" placeholder=\"请输入职称\" :disabled=\"disable == 1\"/>\n        </el-form-item>\n\n        <el-form-item label=\"学历\" prop=\"\">\n          <el-select v-model=\"joinData.fEducation\" placeholder=\"请选择\" style=\"width: 200px\" :disabled=\"disable == 1\">\n            <el-option v-for=\"item in dict.education\" :key=\"item.dictValue\" :label=\"item.dictLabel\"\n                       :value=\"item.dictValue\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm\" :disabled=\"disable == 1\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n\n<!--    <el-dialog-->\n<!--      title=\"选择处理人\"-->\n<!--      :visible.sync=\"dialogVisible\"-->\n<!--      :modal=\"false\"-->\n<!--      width=\"30%\">-->\n<!--      <el-radio v-model=\"formData.fActPersion\" :label=\"item.userId\" v-for=\"(item,index) in userList\" :key=\"index\">-->\n<!--        {{ item.nickName }}-->\n<!--      </el-radio>-->\n<!--      &lt;!&ndash; <el-radio v-model=\"radio\" label=\"2\">备选项</el-radio> &ndash;&gt;-->\n<!--      <span slot=\"footer\" class=\"dialog-footer\">-->\n<!--        <el-button @click=\"dialogVisible = false\">取 消</el-button>-->\n<!--        <el-button type=\"primary\" @click=\"addTraining\">确 定</el-button>-->\n<!--      </span>-->\n<!--    </el-dialog>-->\n\n\n  </div>\n</template>\n\n<script>\n\nimport {getToken} from \"@/utils/auth\";\nimport {\n  addTraining,\n  updateTraining,\n  queryDataDictionary\n} from \"@/api/indemnification/training\";\nimport {\n  getUserList\n} from \"@/api/security/planning\";\n\nimport { edit } from \"@/api/indemnification/joinTraining\";\n\nexport default {\n  components: {},\n  // props:['data'],\n  data() {\n    return {\n\n      userList: [],\n\n      // dialogVisible: false,\n\n      dict: {\n        assessMode: [],\n        result: [],\n        gender: [],\n        politicalStatus: [],\n        education: [],\n      },\n\n      type: '',\n      indexs: '',\n\n      // 文件上传\n      upload: {\n        // 设置上传的请求头部\n        headers: {Authorization: \"Bearer \" + getToken()},\n        // 上传的地址\n        url: process.env.VUE_APP_BASE_API + \"/file/upload\"\n      },\n\n      dialogFormVisible: false,\n\n      currentPage: 1,\n\n      active: 1,\n\n      info: {\n        stockDate: this.getNowTime(),  //日期\n      },\n      formData: {\n\n        /** id */\n        fId: null,\n\n        /** 计划名称 */\n        fPlanName: null,\n\n        /** 评价方式 */\n        fEvaWay: null,\n\n        /** 预算 */\n        fBudget: null,\n\n        /** 培训开始时间 */\n        fStartTime: null,\n\n        /** 培训结束时间 */\n        fEndTime: null,\n\n        /** 培训概述 */\n        fTraContent: null,\n\n        /** 附件id */\n        fTraId: null,\n\n        /** 编制人 */\n        fPreparedBy: null,\n\n        /** 编制时间 */\n        fPreparationTime: null,\n\n        /** 培训人 */\n        fTraPersion: null,\n\n        /** 培训时间 */\n        fTraTime: null,\n\n        /** 审核意见 */\n        fReviewComments: null,\n\n        /** 审核结果 */\n        fReviewResult: null,\n\n        /** 审核人 */\n        fReviewPeople: null,\n\n        /** 审核时间 */\n        fReviewDate: null,\n\n        /** 审批意见 */\n        fAuditComments: null,\n\n        /** 审批结果 */\n        fAuditResult: null,\n\n        /** 审批人 */\n        fAuditPeople: null,\n\n        /** 审批时间 */\n        fAuditDate: null,\n\n        /** 实施内容 */\n        fImpContent: null,\n\n        /** 实施总结附件id */\n        fImpId: '',\n\n        /** 实施人 */\n        fImpPersion: null,\n\n        /** 实施时间 */\n        fImpTime: null,\n\n        /** 培训照片id */\n        fPhoto: null,\n\n        /** 状态 0:无效1：有效 */\n        fStatus: null,\n\n        /** 流程实例id */\n        fActId: null,\n\n        // /** 流程下一环节审核人 */\n        // fActPersion: null,\n\n        /** 流程状态 1已提交启动 2：审核中 3：驳回 4：审核完成 */\n        fActStatus: null,\n\n        /** 流程节点 */\n        fActNode: null,\n\n        /** 培训人员集合 */\n        joinTrainingList: [],\n\n        /**\n         * 暂存或提交 1提交 0暂存\n         */\n        holdOrSubmit: null,\n\n        /**\n         * 当前登陆人\n         */\n        landingPersonId: null,\n\n        /**\n         * 创建人\n         */\n        fCreatePeople: null\n\n      },\n\n      disable: '',\n\n      joinData: {\n        /** id */\n        fId: null,\n\n        /** 培训表主键 */\n        fTrainingId: null,\n\n        /** 姓名 */\n        fName: null,\n\n        /** 性别 0：女1：男 */\n        fGender: null,\n\n        /** 年龄 */\n        fAge: null,\n\n        /** 政治面貌 0：团员1：党员 */\n        fFace: null,\n\n        /** 职务 */\n        fJobContent: null,\n\n        /** 职称 */\n        fJobTitle: null,\n\n        /** 学历 0：专科1：本科 */\n        fEducation: null,\n\n        /** 分数 */\n        fFraction: null,\n\n        /** 培训时间 */\n        fTarTime: null,\n\n        /** 培训证明材料id */\n        fProve: null,\n\n        /** 状态 */\n        fStatus: null,\n      },\n\n      open: false,\n\n      fileList: [],\n\n      fileLists: [],\n\n    };\n  },\n  created() {\n\n\n  },\n  mounted() {\n    this.Personnel()\n    this.queryDataDictionary()\n  },\n  methods: {\n\n    init(data, file, files) {\n      console.log('11111',data)\n      console.log('12312',file)\n      // if (data.fActNode == 'audit') {\n      //   this.active = 2\n      // } else if (data.fActNode == 'approve') {\n      //   this.active = 3\n      // } else if (data.fActNode == 'impl') {\n      //   this.active = 4\n      // } else if (data.fActNode == 'score') {\n      //   this.active = 5\n      // } else if (data.fActStatus == '6') {\n      //   this.active = 6\n      // }\n      this.active = data.fActStatus\n      this.formData = data;\n\n      if(this.formData.fEvaWay){\n        this.formData.fEvaWay = this.formData.fEvaWay.toString()\n      }\n      if(this.formData.fReviewResult){\n        this.formData.fReviewResult = this.formData.fReviewResult.toString()\n      }\n      if(this.formData.fAuditResult){\n        this.formData.fAuditResult = this.formData.fAuditResult.toString()\n      }\n\n\n      if (file) {\n        this.fileList = file\n      }\n      if (files) {\n        this.fileLists = files\n      }\n    },\n\n    clearForm() {\n      this.formData = {\n\n        /** id */\n        fId: null,\n\n        /** 计划名称 */\n        fPlanName: null,\n\n        /** 评价方式 */\n        fEvaWay: null,\n\n        /** 预算 */\n        fBudget: null,\n\n        /** 培训开始时间 */\n        fStartTime: null,\n\n        /** 培训结束时间 */\n        fEndTime: null,\n\n        /** 培训概述 */\n        fTraContent: null,\n\n        /** 附件id */\n        fTraId: null,\n\n        /** 编制人 */\n        fPreparedBy: null,\n\n        /** 编制时间 */\n        fPreparationTime: null,\n\n        /** 培训人 */\n        fTraPersion: null,\n\n        /** 培训时间 */\n        fTraTime: null,\n\n        /** 审核意见 */\n        fReviewComments: null,\n\n        /** 审核结果 */\n        fReviewResult: null,\n\n        /** 审核人 */\n        fReviewPeople: null,\n\n        /** 审核时间 */\n        fReviewDate: null,\n\n        /** 审批意见 */\n        fAuditComments: null,\n\n        /** 审批结果 */\n        fAuditResult: null,\n\n        /** 审批人 */\n        fAuditPeople: null,\n\n        /** 审批时间 */\n        fAuditDate: null,\n\n        /** 实施内容 */\n        fImpContent: null,\n\n        /** 实施总结附件id */\n        fImpId: null,\n\n        /** 实施人 */\n        fImpPersion: null,\n\n        /** 实施时间 */\n        fImpTime: null,\n\n        /** 培训照片id */\n        fPhoto: null,\n\n        /** 状态 0:无效1：有效 */\n        fStatus: null,\n\n        /** 流程实例id */\n        fActId: null,\n\n        // /** 流程下一环节审核人 */\n        // fActPersion: null,\n\n        /** 流程状态 1已提交启动 2：审核中 3：驳回 4：审核完成 */\n        fActStatus: null,\n\n        /** 流程节点 */\n        fActNode: null,\n\n        /** 培训人员集合 */\n        joinTrainingList: [],\n\n        /**\n         * 暂存或提交 1提交 0暂存\n         */\n        holdOrSubmit: null\n\n      },\n      this.fileList = []\n    },\n\n    Personnel() {\n      getUserList().then(response => {\n        this.userList = response.data\n      })\n    },\n\n    submitForm() {\n      if (this.type == 1) {\n        this.formData.joinTrainingList.push(this.joinData)\n        this.open = false\n        this.joinData = {}\n      }\n      if (this.type == 2) {\n        this.formData.joinTrainingList[this.indexs] = this.joinData\n        this.open = false\n        this.joinData = {}\n      }\n\n    },\n\n    submit(or) {\n      if (this.active == 1) {\n        if (this.formData.fPlanName == null) {\n          this.$message.error(\"请填写计划名称\")\n          return false\n        } else if (this.formData.fEvaWay == null) {\n          this.$message.error(\"请选择评价方式\")\n          return false\n        } else if (this.formData.fBudget == null) {\n          this.$message.error(\"请填写预算\")\n          return false\n        } else if (this.formData.fStartTime == null) {\n          this.$message.error(\"请选择培训开始时间\")\n          return false\n        } else if (this.formData.fEndTime == null) {\n          this.$message.error(\"请选择培训结束时间\")\n          return false\n        } else if (this.formData.fTraContent == null) {\n          this.$message.error(\"请填写培训概述\")\n          return false\n        } else if (this.formData.fTraId == null) {\n          this.$message.error(\"请上传培训内容的文件\")\n          return false\n        } else if (this.formData.fPreparedBy == null) {\n          this.$message.error(\"请填写编制人\")\n          return false\n        } else if (this.formData.fPreparationTime == null) {\n          this.$message.error(\"请选择编制时间\")\n          return false\n        } else if (this.formData.joinTrainingList.length <= 0) {\n          this.$message.error(\"请添加参加人员\")\n          return false\n        } else if (this.formData.fTraPersion == null) {\n          this.$message.error(\"请填写培训人\")\n          return false\n        } else if (this.formData.fTraTime == null) {\n          this.$message.error(\"请选择培训时间\")\n          return false\n        }\n        this.formData.holdOrSubmit = or\n        if (or == 1) {\n          // this.dialogVisible = true;\n          this.addTraining()\n        } else {\n          this.addTraining()\n        }\n      }\n    },\n\n    addTraining() {\n\n      // if (this.formData.holdOrSubmit == 1) {\n      //   if (this.formData.fActPersion == null) {\n      //     this.$message.error(\"请选择流程下一环节审核人\")\n      //     return false\n      //   }\n      // }\n      if (this.formData.fId != null && this.formData.fId != '') {\n        updateTraining(this.formData).then(res => {\n          if (res.code == 200) {\n            this.$message.success(\"培训编制成功\");\n            // this.dialogVisible = false;\n            // 调用父组件方法关闭弹窗\n            this.$emit(\"shut\", false)\n            // 调用父组件方法查询列表\n            this.$emit(\"search\")\n          } else {\n            this.$message.error(\"培训编制失败\");\n          }\n        });\n      } else {\n        addTraining(this.formData).then(res => {\n          if (res.code == 200) {\n            if (this.formData.holdOrSubmit == 1) {\n              this.$message.success(\"培训编制提交成功\");\n            } else {\n              this.msgSuccess(\"培训编制暂存成功\");\n            }\n            this.clearForm();\n            // this.dialogVisible = false\n          } else {\n            if (this.formData.holdOrSubmit == 1) {\n              this.$message.error(\"培训编制提交失败\");\n            } else {\n              this.msgError(\"培训编制暂存失败\");\n            }\n          }\n        });\n      }\n    },\n\n    verify() {\n      if (this.active === 2) {\n        if (this.formData.fReviewComments == null && this.formData.fReviewComments == '') {\n          this.$message.error(\"请填写审核意见\")\n          return false\n        } else if (this.formData.fReviewResult == null && this.formData.fReviewResult == '') {\n          this.$message.error(\"请选择审核结果\")\n          return false\n        } else if (this.formData.fReviewPeople == null && this.formData.fReviewPeople == '') {\n          this.$message.error(\"请填写审核人\")\n          return false\n        } else if (this.formData.fReviewDate == null && this.formData.fReviewDate == '') {\n          this.$message.error(\"请选择审核时间\")\n          return false\n        }\n        // this.dialogVisible = true\n        this.addTraining()\n      }\n    },\n\n    approve() {\n      if (this.active === 3) {\n        if (this.formData.fAuditComments == null && this.formData.fAuditComments == '') {\n          this.$message.error(\"请填写审批意见\")\n          return false\n        } else if (this.formData.fAuditResult == null && this.formData.fAuditResult == '') {\n          this.$message.error(\"请选择审批结果\")\n          return false\n        } else if (this.formData.fAuditPeople == null && this.formData.fAuditPeople == '') {\n          this.$message.error(\"请填写审批人\")\n          return false\n        } else if (this.formData.fAuditDate == null && this.formData.fAuditDate == '') {\n          this.$message.error(\"请选择审批时间\")\n          return false\n        }\n        // this.dialogVisible = true\n        this.addTraining()\n      }\n    },\n\n    implement() {\n      if (this.active === 4) {\n        if (this.formData.fImpContent == null && this.formData.fImpContent == '') {\n          this.$message.error(\"请填写实施内容\")\n          return false\n        } else if (this.formData.fImpId == null && this.formData.fImpId == '') {\n          this.$message.error(\"请上传实施总报告\")\n          return false\n        } else if (this.formData.fImpPersion == null && this.formData.fImpPersion == '') {\n          this.$message.error(\"请填写实施人\")\n          return false\n        } else if (this.formData.fImpTime == null && this.formData.fImpTime == '') {\n          this.$message.error(\"请选择实施时间\")\n          return false\n        }\n        // this.dialogVisible = true\n        this.addTraining()\n      }\n    },\n\n    mark() {\n      if (this.active === 5) {\n        if (this.joinData.fFraction == null && this.joinData.fFraction == '') {\n          this.$message.error(\"请给参加人员打分\")\n          return false\n        }\n        updateTraining(this.formData).then(res => {\n          if (res.code == 200) {\n            this.$message.success(\"培训编制成功\");\n            // this.dialogVisible = false;\n            // 调用接口\n            // 调用父组件方法关闭弹窗\n            this.$emit(\"shut\", false)\n            // 调用父组件方法查询列表\n            this.$emit(\"search\")\n          } else {\n            this.$message.error(\"培训编制失败\");\n          }\n        });\n      }\n    },\n\n\n    queryDataDictionary() {\n      queryDataDictionary().then(res => {\n        this.dict.assessMode = res.data.assessMode\n        this.dict.result = res.data.result\n        this.dict.gender = res.data.gender\n        this.dict.politicalStatus = res.data.politicalStatus\n        this.dict.education = res.data.education\n      });\n    },\n\n    scoring(row) {\n      this.dialogFormVisible = true\n      this.joinData = row\n    },\n\n    scoringOK() {\n      if (this.joinData.fFraction != null) {\n        edit(this.joinData).then(res => {\n          if (res.code == 200) {\n            this.$message.success(\"打分成功\");\n            this.dialogFormVisible = false;\n          } else {\n            this.$message.error(\"打分失败\");\n          }\n        });\n      }\n    },\n\n    handleChange(value) {\n      console.log(value);\n    },\n\n    handleSizeChange(val) {\n      console.log(`每页 ${val} 条`);\n    },\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`);\n    },\n\n    add() {\n      this.open = true\n      this.type = 1\n      this.disable = 0\n    },\n\n    edit(row) {\n      this.open = true;\n      this.joinData = row.row\n      this.indexs = row.$index\n      this.type = 2\n      this.disable = 0\n    },\n\n    // 查看详情\n    detail(row) {\n      this.open = true\n      this.joinData = row\n      // 性别\n      this.joinData.fGender = this.joinData.fGender.toString()\n      // 政治面貌\n      this.joinData.fFace = this.joinData.fFace.toString()\n      // 学历\n      this.joinData.fEducation = this.joinData.fEducation.toString()\n      this.disable = 1\n    },\n\n    remove(row) {\n      this.formData.joinTrainingList.splice(row.$index)\n    },\n\n    cancel() {\n      this.joinData = {}\n      this.open = false;\n    },\n\n\n    train(response, file, fileList) {\n      this.formData.fTraId = response.data.fId\n      this.fileList = [{\n        name:response.data.fOldFileName,\n        url:response.data.fFilePath\n      }]\n    },\n\n    uploadedSuccess(response, file, fileList) {\n      this.formData.fImpId = response.data.fId\n    },\n\n    removeTrain() {\n      this.GLOBAL.commonFun(this.formData.fTraId)\n    },\n\n    handleRemove(file, fileList) {\n      this.GLOBAL.commonFun(this.formData.fImpId)\n    },\n\n    handlePreview(file) {\n      // window.location.href = this.fileList[0].url;\r\n\t  window.open(this.fileList[0].url);\n    },\n    handleExceed(files, fileList) {\n      this.$message.warning(`当前限制选择 1 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\n    },\n    beforeRemove(file, fileList) {\n      return this.$confirm(`确定移除 ${file.name}？`);\n    },\n\n\n    //处理默认选中当前日期\n    getNowTime() {\n      var now = new Date();\n      var year = now.getFullYear(); //得到年份\n      var month = now.getMonth(); //得到月份\n      var date = now.getDate(); //得到日期\n      var hour = \" 00:00:00\"; //默认时分秒 如果传给后台的格式为年月日时分秒，就需要加这个，如若不需要，此行可忽略\n      month = month + 1;\n      month = month.toString().padStart(2, \"0\");\n      date = date.toString().padStart(2, \"0\");\n      var defaultDate = `${year}-${month}-${date}${hour}`;\n      console.log(defaultDate)\n      return defaultDate;\n      this.$set(this.info, \"stockDate\", defaultDate);\n    },\n\n\n  }\n}\n;\n</script>\n<style lang=\"scss\">\n\n.color409 {\n  color: #409eff;\n  cursor: pointer;\n}\n\n.from-col-about {\n  text-align: center;\n  line-height: 160px;\n  border-right: #a4d5ff 1px solid;\n  border-left: #a4d5ff 1px solid;\n}\n\n.from-col-form {\n  text-align: center;\n  line-height: 280px;\n  border-right: #a4d5ff 1px solid;\n}\n\n//.el-dialog{\n//  display: flex;\n//  flex-direction: column;\n//  margin:0 !important;\n//  position:absolute;\n//  top:35%;\n//  left:50%;\n//  transform:translate(-50%,-50%);\n//  /*height:600px;*/\n//  max-height:calc(100% - 30px);\n//  max-width:calc(100% - 30px);\n//}\n//.el-dialog .el-dialog__body{\n//  flex:1;\n//  overflow: auto;\n//}\n\n</style>\n"]}]}