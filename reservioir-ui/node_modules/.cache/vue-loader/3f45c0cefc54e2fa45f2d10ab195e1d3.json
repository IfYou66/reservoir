{"remainingRequest":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\components\\TopNav\\index.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\src\\components\\TopNav\\index.vue","mtime":1640419130935},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1711181251489},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1711181253421},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":1711181252308},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1711181250722},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711181250741},{"path":"D:\\GraduationProject\\final\\reservioir\\reservioir-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1711181252689}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmVsLW1lbnUtLWhvcml6b250YWwgPiAuZWwtbWVudS1pdGVtIHsKICBmbG9hdDogbGVmdDsKICBoZWlnaHQ6IDUwcHg7CiAgbGluZS1oZWlnaHQ6IDUwcHg7CiAgbWFyZ2luOiAwOwogIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCB0cmFuc3BhcmVudDsKICBjb2xvcjogIzk5OTA5MzsKICBwYWRkaW5nOiAwIDVweDsKICBtYXJnaW46IDAgNXB4Owp9CgouZWwtbWVudS0taG9yaXpvbnRhbCA+IC5lbC1tZW51LWl0ZW0uaXMtYWN0aXZlIHsKICBib3JkZXItYm90dG9tOm5vbmUgIWltcG9ydGFudDsKICBjb2xvcjogIzk2OTY5NiAhaW1wb3J0YW50Owp9Ci5lbC1tZW51ewogIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmYwMCAhaW1wb3J0YW50Owpib3JkZXItYm90dG9tOm5vbmUgIWltcG9ydGFudDsKfQouZWwtbWVudS0taG9yaXpvbnRhbCA+IC5lbC1tZW51LWl0ZW06bm90KC5pcy1kaXNhYmxlZCk6aG92ZXIsIC5lbC1tZW51LS1ob3Jpem9udGFsID4gLmVsLW1lbnUtaXRlbTpub3QoLmlzLWRpc2FibGVkKTpmb2N1cyB7CiAgYm9yZGVyLWJvdHRvbTpub25lICFpbXBvcnRhbnQ7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmMDAgIWltcG9ydGFudAp9Ci5lbC1tZW51LS1ob3Jpem9udGFsID4gLmVsLW1lbnUtaXRlbSB7CiAgYm9yZGVyLWJvdHRvbTpub25lICFpbXBvcnRhbnQ7CiAgICBjb2xvcjogI2ZmZmZmZjsKfQouZWwtbWVudS0taG9yaXpvbnRhbCAuZWwtbWVudS1pdGVtOm5vdCguaXMtZGlzYWJsZWQpOmhvdmVyLCAuZWwtbWVudS0taG9yaXpvbnRhbCAuZWwtbWVudS1pdGVtOm5vdCguaXMtZGlzYWJsZWQpOmZvY3VzIHsKICBib3JkZXItYm90dG9tOm5vbmUgIWltcG9ydGFudDsKICAgIG91dGxpbmU6IG5vbmU7CiAgICBjb2xvcjogIzAwYWFmZjsKfQovKiBzdWJtZW51IGl0ZW0gKi8KLmVsLW1lbnUtLWhvcml6b250YWwgPiAuZWwtc3VibWVudSAuZWwtc3VibWVudV9fdGl0bGUgewoJaGVpZ2h0OiA2MHB4ICFpbXBvcnRhbnQ7CglsaW5lLWhlaWdodDogMTAwcHggIWltcG9ydGFudDsKfQouZWwtbWVudS0taG9yaXpvbnRhbCA+IC5lbC1zdWJtZW51IC5lbC1zdWJtZW51X190aXRsZSB7CiAgICBjb2xvcjogI2ZmZmZmZjsKfQouZWwtbWVudS0taG9yaXpvbnRhbCA+IC5lbC1zdWJtZW51IC5lbC1zdWJtZW51X190aXRsZTpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmMDAgIWltcG9ydGFudAp9Ci5lbC1tZW51LS1ob3Jpem9udGFsID4gLmVsLXN1Ym1lbnU6aG92ZXIgLmVsLXN1Ym1lbnVfX3RpdGxlIHsKICAgIGNvbG9yOiAjMDBhYWZmOwp9Ci5lbC1tZW51LS1ob3Jpem9udGFsID4gLmVsLXN1Ym1lbnUuaXMtYWN0aXZlIC5lbC1zdWJtZW51X190aXRsZSB7CiAgICBib3JkZXItYm90dG9tOm5vbmUgIWltcG9ydGFudDsKICAgIGNvbG9yOiAjZmZmZmZmOwp9Ci5lbC1zdWJtZW51X190aXRsZSBpIHsKICAgIGNvbG9yOiAjZmZmZmZmOwp9Ci5lbC1tZW51LWltZ3Mgewp0ZXh0LWFsaWduOiBjZW50ZXI7Cm1hcmdpbi10b3A6IDEwcHg7CmZvbnQtc2l6ZTogMzBweDsKYmFja2dyb3VuZC1jb2xvcjogIzAwNDA2NjsKYm9yZGVyLXJhZGl1czogMTBweDsKcGFkZGluZzogNXB4OwpwYWRkaW5nLWJvdHRvbTogMHB4OwpwYWRkaW5nLXRvcDogMHB4OwoKfQouZWwtbWVudS1kaXYgewptYXJnaW4tdG9wOiAtMTVweDsKZm9udC13ZWlnaHQ6IDcwMDsKZm9udC1mYW1pbHk6IOS7v+WuiywgJ01pY3Jvc29mdEpoZW5nSGVpJywg5Y2O5paH57uG6buROwpiYWNrZ3JvdW5kLWNvbG9yOiAjMDA0MDY2Owpib3JkZXItcmFkaXVzOiAxMHB4OwpwYWRkaW5nOiA1cHg7CnBhZGRpbmctYm90dG9tOiAwcHg7CnBhZGRpbmctdG9wOiAwcHg7Cgp9Cgo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/components/TopNav","sourcesContent":["<template>\n  <el-menu\n    :default-active=\"activeMenu\"\n    mode=\"horizontal\"\n    @select=\"handleSelect\"\n  >\n    <template v-for=\"(item, index) in topMenus\" >\n      <el-menu-item  :index=\"item.path\" :key=\"index\" v-if=\"index < visibleNumber\"\n      style=\"color: #5cf2ff;\"\n        >\n       <div class=\"el-menu-imgs\"><svg-icon :icon-class=\"item.meta.icon\" /></div>\n       <div class=\"el-menu-div\">{{ item.meta.title }}</div>\n        </el-menu-item>\n    </template>\n\n    <!-- 顶部菜单超出数量折叠 -->\n    <el-submenu index=\"more\" v-if=\"topMenus.length > visibleNumber\">\n      <template slot=\"title\">更多菜单</template>\n      <template v-for=\"(item, index) in topMenus\">\n        <el-menu-item\n          :index=\"item.path\"\n          :key=\"index\"\n          v-if=\"index >= visibleNumber\"\n          >\n          <svg-icon :icon-class=\"item.meta.icon\" />\n          {{ item.meta.title }}</el-menu-item\n        >\n      </template>\n    </el-submenu>\n  </el-menu>\n</template>\n\n<script>\nimport { constantRoutes } from \"@/router\";\n\nexport default {\n  data() {\n    return {\n      icon:[\n\n        'color: #67AEFD ',\n        'color: #FE6258 ',\n        'color: #0000CD ',\n        'color: #DEB887 ',\n        'color: #FEB84F ',\n        'color: #2EF6D1 ',\n        'color: #67AEFD ',\n\n      ],\n      // 顶部栏初始数\n      visibleNumber:1,\n      // 是否为首次加载\n      isFrist: false,\n      // 当前激活菜单的 index\n      currentIndex: undefined\n    };\n  },\n  computed: {\n    theme() {\n      return this.$store.state.settings.theme;\n    },\n    // 顶部显示菜单\n    topMenus() {\n      let topMenus = [];\n      this.routers.map((menu) => {\n        if (menu.hidden !== true) {\n          // 兼容顶部栏一级菜单内部跳转\n          if (menu.path === \"/\") {\n              topMenus.push(menu.children[0]);\n          } else {\n              topMenus.push(menu);\n          }\n        }\n      });\n      return topMenus;\n    },\n    // 所有的路由信息\n    routers() {\n      return this.$store.state.permission.topbarRouters;\n    },\n    // 设置子路由\n    childrenMenus() {\n      var childrenMenus = [];\n      this.routers.map((router) => {\n        for (var item in router.children) {\n          if (router.children[item].parentPath === undefined) {\n            if(router.path === \"/\") {\n              router.children[item].path = \"/redirect/\" + router.children[item].path;\n            } else {\n\t\t\t  if(!this.ishttp(router.children[item].path)) {\n                router.children[item].path = router.path + \"/\" + router.children[item].path;\n\t\t\t  }\n            }\n            router.children[item].parentPath = router.path;\n          }\n          childrenMenus.push(router.children[item]);\n        }\n      });\n      return constantRoutes.concat(childrenMenus);\n    },\n    // 默认激活的菜单\n    activeMenu() {\n      const path = this.$route.path;\n      let activePath = this.routers[0].path;\n      if (path.lastIndexOf(\"/\") > 0) {\n        const tmpPath = path.substring(1, path.length);\n        activePath = \"/\" + tmpPath.substring(0, tmpPath.indexOf(\"/\"));\n      } else if (\"/index\" == path || \"\" == path) {\n        if (!this.isFrist) {\n          this.isFrist = true;\n        } else {\n          activePath = \"index\";\n        }\n      }\n      var routes = this.activeRoutes(activePath);\n      if (routes.length === 0) {\n        activePath = this.currentIndex || this.routers[0].path\n        this.activeRoutes(activePath);\n      }\n      return activePath;\n    },\n  },\n  beforeMount() {\n    window.addEventListener('resize', this.setVisibleNumber)\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.setVisibleNumber)\n  },\n  mounted() {\n    this.setVisibleNumber();\n  },\n  methods: {\n    // 根据宽度计算设置显示栏数\n    setVisibleNumber() {\n      const width = document.body.getBoundingClientRect().width / 3;\n      this.visibleNumber = parseInt(width / 80);\n    },\n    // 菜单选择事件\n    handleSelect(key, keyPath) {\n      this.currentIndex = key;\n      if (this.ishttp(key)) {\n        // http(s):// 路径新窗口打开\n        window.open(key, \"_blank\");\n      } else if (key.indexOf(\"/redirect\") !== -1) {\n        // /redirect 路径内部打开\n        this.$router.push({ path: key.replace(\"/redirect\", \"\") });\n      } else {\n        // 显示左侧联动菜单\n        this.activeRoutes(key);\n      }\n    },\n    // 当前激活的路由\n    activeRoutes(key) {\n      var routes = [];\n      if (this.childrenMenus && this.childrenMenus.length > 0) {\n        this.childrenMenus.map((item) => {\n          if (key == item.parentPath || (key == \"index\" && \"\" == item.path)) {\n            routes.push(item);\n          }\n        });\n      }\n      if(routes.length > 0) {\n        this.$store.commit(\"SET_SIDEBAR_ROUTERS\", routes);\n      }\n      return routes;\n    },\n\tishttp(url) {\n      return url.indexOf('http://') !== -1 || url.indexOf('https://') !== -1\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.el-menu--horizontal > .el-menu-item {\n  float: left;\n  height: 50px;\n  line-height: 50px;\n  margin: 0;\n  border-bottom: 3px solid transparent;\n  color: #999093;\n  padding: 0 5px;\n  margin: 0 5px;\n}\n\n.el-menu--horizontal > .el-menu-item.is-active {\n  border-bottom:none !important;\n  color: #969696 !important;\n}\n.el-menu{\n  background-color: #ffffff00 !important;\nborder-bottom:none !important;\n}\n.el-menu--horizontal > .el-menu-item:not(.is-disabled):hover, .el-menu--horizontal > .el-menu-item:not(.is-disabled):focus {\n  border-bottom:none !important;\n    background-color: #ffffff00 !important\n}\n.el-menu--horizontal > .el-menu-item {\n  border-bottom:none !important;\n    color: #ffffff;\n}\n.el-menu--horizontal .el-menu-item:not(.is-disabled):hover, .el-menu--horizontal .el-menu-item:not(.is-disabled):focus {\n  border-bottom:none !important;\n    outline: none;\n    color: #00aaff;\n}\n/* submenu item */\n.el-menu--horizontal > .el-submenu .el-submenu__title {\n\theight: 60px !important;\n\tline-height: 100px !important;\n}\n.el-menu--horizontal > .el-submenu .el-submenu__title {\n    color: #ffffff;\n}\n.el-menu--horizontal > .el-submenu .el-submenu__title:hover {\n    background-color: #ffffff00 !important\n}\n.el-menu--horizontal > .el-submenu:hover .el-submenu__title {\n    color: #00aaff;\n}\n.el-menu--horizontal > .el-submenu.is-active .el-submenu__title {\n    border-bottom:none !important;\n    color: #ffffff;\n}\n.el-submenu__title i {\n    color: #ffffff;\n}\n.el-menu-imgs {\ntext-align: center;\nmargin-top: 10px;\nfont-size: 30px;\nbackground-color: #004066;\nborder-radius: 10px;\npadding: 5px;\npadding-bottom: 0px;\npadding-top: 0px;\n\n}\n.el-menu-div {\nmargin-top: -15px;\nfont-weight: 700;\nfont-family: 仿宋, 'MicrosoftJhengHei', 华文细黑;\nbackground-color: #004066;\nborder-radius: 10px;\npadding: 5px;\npadding-bottom: 0px;\npadding-top: 0px;\n\n}\n\n</style>\n"]}]}